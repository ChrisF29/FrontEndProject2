(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();var ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fb={exports:{}},hc={};var c3;function DX(){if(c3)return hc;c3=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,n,s){var l=null;if(s!==void 0&&(l=""+s),n.key!==void 0&&(l=""+n.key),"key"in n){s={};for(var o in n)o!=="key"&&(s[o]=n[o])}else s=n;return n=s.ref,{$$typeof:r,type:i,key:l,ref:n!==void 0?n:null,props:s}}return hc.Fragment=t,hc.jsx=e,hc.jsxs=e,hc}var d3;function BX(){return d3||(d3=1,Fb.exports=DX()),Fb.exports}var Qt=BX(),Kb={exports:{}},Ft={};var p3;function _X(){if(p3)return Ft;p3=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function O(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function v(R,B,H){this.props=R,this.context=B,this.refs=w,this.updater=H||y}v.prototype.isReactComponent={},v.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},v.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function T(){}T.prototype=v.prototype;function M(R,B,H){this.props=R,this.context=B,this.refs=w,this.updater=H||y}var N=M.prototype=new T;N.constructor=M,S(N,v.prototype),N.isPureReactComponent=!0;var P=Array.isArray;function E(){}var A={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function D(R,B,H){var G=H.ref;return{$$typeof:r,type:R,key:B,ref:G!==void 0?G:null,props:H}}function Z(R,B){return D(R.type,B,R.props)}function z(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function k(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(H){return B[H]})}var L=/\/+/g;function $(R,B){return typeof R=="object"&&R!==null&&R.key!=null?k(""+R.key):B.toString(36)}function j(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(E,E):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function W(R,B,H,G,tt){var mt=typeof R;(mt==="undefined"||mt==="boolean")&&(R=null);var Rt=!1;if(R===null)Rt=!0;else switch(mt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(R.$$typeof){case r:case t:Rt=!0;break;case c:return Rt=R._init,W(Rt(R._payload),B,H,G,tt)}}if(Rt)return tt=tt(R),Rt=G===""?"."+$(R,0):G,P(tt)?(H="",Rt!=null&&(H=Rt.replace(L,"$&/")+"/"),W(tt,B,H,"",function(Je){return Je})):tt!=null&&(z(tt)&&(tt=Z(tt,H+(tt.key==null||R&&R.key===tt.key?"":(""+tt.key).replace(L,"$&/")+"/")+Rt)),B.push(tt)),1;Rt=0;var Ut=G===""?".":G+":";if(P(R))for(var qt=0;qt<R.length;qt++)G=R[qt],mt=Ut+$(G,qt),Rt+=W(G,B,H,mt,tt);else if(qt=O(R),typeof qt=="function")for(R=qt.call(R),qt=0;!(G=R.next()).done;)G=G.value,mt=Ut+$(G,qt++),Rt+=W(G,B,H,mt,tt);else if(mt==="object"){if(typeof R.then=="function")return W(j(R),B,H,G,tt);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function X(R,B,H){if(R==null)return R;var G=[],tt=0;return W(R,G,"","",function(mt){return B.call(H,mt,tt++)}),G}function st(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(H){(R._status===0||R._status===-1)&&(R._status=1,R._result=H)},function(H){(R._status===0||R._status===-1)&&(R._status=2,R._result=H)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var F=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},pt={map:X,forEach:function(R,B,H){X(R,function(){B.apply(this,arguments)},H)},count:function(R){var B=0;return X(R,function(){B++}),B},toArray:function(R){return X(R,function(B){return B})||[]},only:function(R){if(!z(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ft.Activity=p,Ft.Children=pt,Ft.Component=v,Ft.Fragment=e,Ft.Profiler=n,Ft.PureComponent=M,Ft.StrictMode=i,Ft.Suspense=a,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(R){return A.H.useMemoCache(R)}},Ft.cache=function(R){return function(){return R.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(R,B,H){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var G=S({},R.props),tt=R.key;if(B!=null)for(mt in B.key!==void 0&&(tt=""+B.key),B)!V.call(B,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&B.ref===void 0||(G[mt]=B[mt]);var mt=arguments.length-2;if(mt===1)G.children=H;else if(1<mt){for(var Rt=Array(mt),Ut=0;Ut<mt;Ut++)Rt[Ut]=arguments[Ut+2];G.children=Rt}return D(R.type,tt,G)},Ft.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},Ft.createElement=function(R,B,H){var G,tt={},mt=null;if(B!=null)for(G in B.key!==void 0&&(mt=""+B.key),B)V.call(B,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(tt[G]=B[G]);var Rt=arguments.length-2;if(Rt===1)tt.children=H;else if(1<Rt){for(var Ut=Array(Rt),qt=0;qt<Rt;qt++)Ut[qt]=arguments[qt+2];tt.children=Ut}if(R&&R.defaultProps)for(G in Rt=R.defaultProps,Rt)tt[G]===void 0&&(tt[G]=Rt[G]);return D(R,mt,tt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(R){return{$$typeof:o,render:R}},Ft.isValidElement=z,Ft.lazy=function(R){return{$$typeof:c,_payload:{_status:-1,_result:R},_init:st}},Ft.memo=function(R,B){return{$$typeof:f,type:R,compare:B===void 0?null:B}},Ft.startTransition=function(R){var B=A.T,H={};A.T=H;try{var G=R(),tt=A.S;tt!==null&&tt(H,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(E,F)}catch(mt){F(mt)}finally{B!==null&&H.types!==null&&(B.types=H.types),A.T=B}},Ft.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ft.use=function(R){return A.H.use(R)},Ft.useActionState=function(R,B,H){return A.H.useActionState(R,B,H)},Ft.useCallback=function(R,B){return A.H.useCallback(R,B)},Ft.useContext=function(R){return A.H.useContext(R)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(R,B){return A.H.useDeferredValue(R,B)},Ft.useEffect=function(R,B){return A.H.useEffect(R,B)},Ft.useEffectEvent=function(R){return A.H.useEffectEvent(R)},Ft.useId=function(){return A.H.useId()},Ft.useImperativeHandle=function(R,B,H){return A.H.useImperativeHandle(R,B,H)},Ft.useInsertionEffect=function(R,B){return A.H.useInsertionEffect(R,B)},Ft.useLayoutEffect=function(R,B){return A.H.useLayoutEffect(R,B)},Ft.useMemo=function(R,B){return A.H.useMemo(R,B)},Ft.useOptimistic=function(R,B){return A.H.useOptimistic(R,B)},Ft.useReducer=function(R,B,H){return A.H.useReducer(R,B,H)},Ft.useRef=function(R){return A.H.useRef(R)},Ft.useState=function(R){return A.H.useState(R)},Ft.useSyncExternalStore=function(R,B,H){return A.H.useSyncExternalStore(R,B,H)},Ft.useTransition=function(){return A.H.useTransition()},Ft.version="19.2.4",Ft}var g3;function G2(){return g3||(g3=1,Kb.exports=_X()),Kb.exports}var ei=G2();const Bc=U2(ei);var Jb={exports:{}},uc={},tx={exports:{}},ex={};var m3;function zX(){return m3||(m3=1,(function(r){function t(W,X){var st=W.length;W.push(X);t:for(;0<st;){var F=st-1>>>1,pt=W[F];if(0<n(pt,X))W[F]=X,W[st]=pt,st=F;else break t}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var X=W[0],st=W.pop();if(st!==X){W[0]=st;t:for(var F=0,pt=W.length,R=pt>>>1;F<R;){var B=2*(F+1)-1,H=W[B],G=B+1,tt=W[G];if(0>n(H,st))G<pt&&0>n(tt,H)?(W[F]=tt,W[G]=st,F=G):(W[F]=H,W[B]=st,F=B);else if(G<pt&&0>n(tt,st))W[F]=tt,W[G]=st,F=G;else break t}}return X}function n(W,X){var st=W.sortIndex-X.sortIndex;return st!==0?st:W.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();r.unstable_now=function(){return l.now()-o}}var a=[],f=[],c=1,p=null,m=3,O=!1,y=!1,S=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function N(W){for(var X=e(f);X!==null;){if(X.callback===null)i(f);else if(X.startTime<=W)i(f),X.sortIndex=X.expirationTime,t(a,X);else break;X=e(f)}}function P(W){if(S=!1,N(W),!y)if(e(a)!==null)y=!0,E||(E=!0,k());else{var X=e(f);X!==null&&j(P,X.startTime-W)}}var E=!1,A=-1,V=5,D=-1;function Z(){return w?!0:!(r.unstable_now()-D<V)}function z(){if(w=!1,E){var W=r.unstable_now();D=W;var X=!0;try{t:{y=!1,S&&(S=!1,T(A),A=-1),O=!0;var st=m;try{e:{for(N(W),p=e(a);p!==null&&!(p.expirationTime>W&&Z());){var F=p.callback;if(typeof F=="function"){p.callback=null,m=p.priorityLevel;var pt=F(p.expirationTime<=W);if(W=r.unstable_now(),typeof pt=="function"){p.callback=pt,N(W),X=!0;break e}p===e(a)&&i(a),N(W)}else i(a);p=e(a)}if(p!==null)X=!0;else{var R=e(f);R!==null&&j(P,R.startTime-W),X=!1}}break t}finally{p=null,m=st,O=!1}X=void 0}}finally{X?k():E=!1}}}var k;if(typeof M=="function")k=function(){M(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=z,k=function(){$.postMessage(null)}}else k=function(){v(z,0)};function j(W,X){A=v(function(){W(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_next=function(W){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var st=m;m=X;try{return W()}finally{m=st}},r.unstable_requestPaint=function(){w=!0},r.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var st=m;m=W;try{return X()}finally{m=st}},r.unstable_scheduleCallback=function(W,X,st){var F=r.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?F+st:F):st=F,W){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=st+pt,W={id:c++,callback:X,priorityLevel:W,startTime:st,expirationTime:pt,sortIndex:-1},st>F?(W.sortIndex=st,t(f,W),e(a)===null&&W===e(f)&&(S?(T(A),A=-1):S=!0,j(P,st-F))):(W.sortIndex=pt,t(a,W),y||O||(y=!0,E||(E=!0,k()))),W},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(W){var X=m;return function(){var st=m;m=X;try{return W.apply(this,arguments)}finally{m=st}}}})(ex)),ex}var O3;function NX(){return O3||(O3=1,tx.exports=zX()),tx.exports}var ix={exports:{}},en={};var y3;function LX(){if(y3)return en;y3=1;var r=G2();function t(a){var f="https://react.dev/errors/"+a;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)f+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},n=Symbol.for("react.portal");function s(a,f,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:p==null?null:""+p,children:a,containerInfo:f,implementation:c}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(a,f){if(a==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(a,f){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(a,f,null,c)},en.flushSync=function(a){var f=l.T,c=i.p;try{if(l.T=null,i.p=2,a)return a()}finally{l.T=f,i.p=c,i.d.f()}},en.preconnect=function(a,f){typeof a=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(a,f))},en.prefetchDNS=function(a){typeof a=="string"&&i.d.D(a)},en.preinit=function(a,f){if(typeof a=="string"&&f&&typeof f.as=="string"){var c=f.as,p=o(c,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,O=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;c==="style"?i.d.S(a,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:O}):c==="script"&&i.d.X(a,{crossOrigin:p,integrity:m,fetchPriority:O,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},en.preinitModule=function(a,f){if(typeof a=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var c=o(f.as,f.crossOrigin);i.d.M(a,{crossOrigin:c,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(a)},en.preload=function(a,f){if(typeof a=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var c=f.as,p=o(c,f.crossOrigin);i.d.L(a,c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},en.preloadModule=function(a,f){if(typeof a=="string")if(f){var c=o(f.as,f.crossOrigin);i.d.m(a,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:c,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(a)},en.requestFormReset=function(a){i.d.r(a)},en.unstable_batchedUpdates=function(a,f){return a(f)},en.useFormState=function(a,f,c){return l.H.useFormState(a,f,c)},en.useFormStatus=function(){return l.H.useHostTransitionStatus()},en.version="19.2.4",en}var b3;function ZX(){if(b3)return ix.exports;b3=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ix.exports=LX(),ix.exports}var x3;function VX(){if(x3)return uc;x3=1;var r=NX(),t=G2(),e=ZX();function i(h){var u="https://react.dev/errors/"+h;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+h+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function s(h){var u=h,d=h;if(h.alternate)for(;u.return;)u=u.return;else{h=u;do u=h,(u.flags&4098)!==0&&(d=u.return),h=u.return;while(h)}return u.tag===3?d:null}function l(h){if(h.tag===13){var u=h.memoizedState;if(u===null&&(h=h.alternate,h!==null&&(u=h.memoizedState)),u!==null)return u.dehydrated}return null}function o(h){if(h.tag===31){var u=h.memoizedState;if(u===null&&(h=h.alternate,h!==null&&(u=h.memoizedState)),u!==null)return u.dehydrated}return null}function a(h){if(s(h)!==h)throw Error(i(188))}function f(h){var u=h.alternate;if(!u){if(u=s(h),u===null)throw Error(i(188));return u!==h?null:h}for(var d=h,g=u;;){var b=d.return;if(b===null)break;var x=b.alternate;if(x===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===d)return a(b),h;if(x===g)return a(b),u;x=x.sibling}throw Error(i(188))}if(d.return!==g.return)d=b,g=x;else{for(var C=!1,_=b.child;_;){if(_===d){C=!0,d=b,g=x;break}if(_===g){C=!0,g=b,d=x;break}_=_.sibling}if(!C){for(_=x.child;_;){if(_===d){C=!0,d=x,g=b;break}if(_===g){C=!0,g=x,d=b;break}_=_.sibling}if(!C)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?h:u}function c(h){var u=h.tag;if(u===5||u===26||u===27||u===6)return h;for(h=h.child;h!==null;){if(u=c(h),u!==null)return u;h=h.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function k(h){return h===null||typeof h!="object"?null:(h=z&&h[z]||h["@@iterator"],typeof h=="function"?h:null)}var L=Symbol.for("react.client.reference");function $(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===L?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case S:return"Fragment";case v:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case E:return"SuspenseList";case D:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case y:return"Portal";case M:return h.displayName||"Context";case T:return(h._context.displayName||"Context")+".Consumer";case N:var u=h.render;return h=h.displayName,h||(h=u.displayName||u.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case A:return u=h.displayName||null,u!==null?u:$(h.type)||"Memo";case V:u=h._payload,h=h._init;try{return $(h(u))}catch{}}return null}var j=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},F=[],pt=-1;function R(h){return{current:h}}function B(h){0>pt||(h.current=F[pt],F[pt]=null,pt--)}function H(h,u){pt++,F[pt]=h.current,h.current=u}var G=R(null),tt=R(null),mt=R(null),Rt=R(null);function Ut(h,u){switch(H(mt,u),H(tt,h),H(G,null),u.nodeType){case 9:case 11:h=(h=u.documentElement)&&(h=h.namespaceURI)?BQ(h):0;break;default:if(h=u.tagName,u=u.namespaceURI)u=BQ(u),h=_Q(u,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}B(G),H(G,h)}function qt(){B(G),B(tt),B(mt)}function Je(h){h.memoizedState!==null&&H(Rt,h);var u=G.current,d=_Q(u,h.type);u!==d&&(H(tt,h),H(G,d))}function ze(h){tt.current===h&&(B(G),B(tt)),Rt.current===h&&(B(Rt),sc._currentValue=st)}var yn,bn;function Q(h){if(yn===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);yn=u&&u[1]||"",bn=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yn+h+bn}var ut=!1;function ot(h,u){if(!h||ut)return"";ut=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(lt){var rt=lt}Reflect.construct(h,[],ft)}else{try{ft.call()}catch(lt){rt=lt}h.call(ft.prototype)}}else{try{throw Error()}catch(lt){rt=lt}(ft=h())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(lt){if(lt&&rt&&typeof lt.stack=="string")return[lt.stack,rt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=g.DetermineComponentFrameRoot(),C=x[0],_=x[1];if(C&&_){var Y=C.split(`
`),it=_.split(`
`);for(b=g=0;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;for(;b<it.length&&!it[b].includes("DetermineComponentFrameRoot");)b++;if(g===Y.length||b===it.length)for(g=Y.length-1,b=it.length-1;1<=g&&0<=b&&Y[g]!==it[b];)b--;for(;1<=g&&0<=b;g--,b--)if(Y[g]!==it[b]){if(g!==1||b!==1)do if(g--,b--,0>b||Y[g]!==it[b]){var at=`
`+Y[g].replace(" at new "," at ");return h.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",h.displayName)),at}while(1<=g&&0<=b);break}}}finally{ut=!1,Error.prepareStackTrace=d}return(d=h?h.displayName||h.name:"")?Q(d):""}function q(h,u){switch(h.tag){case 26:case 27:case 5:return Q(h.type);case 16:return Q("Lazy");case 13:return h.child!==u&&u!==null?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return ot(h.type,!1);case 11:return ot(h.type.render,!1);case 1:return ot(h.type,!0);case 31:return Q("Activity");default:return""}}function I(h){try{var u="",d=null;do u+=q(h,d),d=h,h=h.return;while(h);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var K=Object.prototype.hasOwnProperty,dt=r.unstable_scheduleCallback,gt=r.unstable_cancelCallback,nt=r.unstable_shouldYield,Ot=r.unstable_requestPaint,xt=r.unstable_now,bt=r.unstable_getCurrentPriorityLevel,Vt=r.unstable_ImmediatePriority,be=r.unstable_UserBlockingPriority,re=r.unstable_NormalPriority,xn=r.unstable_LowPriority,uo=r.unstable_IdlePriority,dr=r.log,Aa=r.unstable_setDisableYieldValue,Te=null,_i=null;function pr(h){if(typeof dr=="function"&&Aa(h),_i&&typeof _i.setStrictMode=="function")try{_i.setStrictMode(Te,h)}catch{}}var ii=Math.clz32?Math.clz32:N1,_p=Math.log,z1=Math.LN2;function N1(h){return h>>>=0,h===0?32:31-(_p(h)/z1|0)|0}var yh=256,Ca=262144,ss=4194304;function gr(h){var u=h&42;if(u!==0)return u;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function zp(h,u,d){var g=h.pendingLanes;if(g===0)return 0;var b=0,x=h.suspendedLanes,C=h.pingedLanes;h=h.warmLanes;var _=g&134217727;return _!==0?(g=_&~x,g!==0?b=gr(g):(C&=_,C!==0?b=gr(C):d||(d=_&~h,d!==0&&(b=gr(d))))):(_=g&~x,_!==0?b=gr(_):C!==0?b=gr(C):d||(d=g&~h,d!==0&&(b=gr(d)))),b===0?0:u!==0&&u!==b&&(u&x)===0&&(x=b&-b,d=u&-u,x>=d||x===32&&(d&4194048)!==0)?u:b}function yf(h,u){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&u)===0}function SZ(h,u){switch(h){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mA(){var h=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),h}function L1(h){for(var u=[],d=0;31>d;d++)u.push(h);return u}function bf(h,u){h.pendingLanes|=u,u!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function wZ(h,u,d,g,b,x){var C=h.pendingLanes;h.pendingLanes=d,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=d,h.entangledLanes&=d,h.errorRecoveryDisabledLanes&=d,h.shellSuspendCounter=0;var _=h.entanglements,Y=h.expirationTimes,it=h.hiddenUpdates;for(d=C&~d;0<d;){var at=31-ii(d),ft=1<<at;_[at]=0,Y[at]=-1;var rt=it[at];if(rt!==null)for(it[at]=null,at=0;at<rt.length;at++){var lt=rt[at];lt!==null&&(lt.lane&=-536870913)}d&=~ft}g!==0&&OA(h,g,0),x!==0&&b===0&&h.tag!==0&&(h.suspendedLanes|=x&~(C&~u))}function OA(h,u,d){h.pendingLanes|=u,h.suspendedLanes&=~u;var g=31-ii(u);h.entangledLanes|=u,h.entanglements[g]=h.entanglements[g]|1073741824|d&261930}function yA(h,u){var d=h.entangledLanes|=u;for(h=h.entanglements;d;){var g=31-ii(d),b=1<<g;b&u|h[g]&u&&(h[g]|=u),d&=~b}}function bA(h,u){var d=u&-u;return d=(d&42)!==0?1:Z1(d),(d&(h.suspendedLanes|u))!==0?0:d}function Z1(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function V1(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function xA(){var h=X.p;return h!==0?h:(h=window.event,h===void 0?32:s3(h.type))}function SA(h,u){var d=X.p;try{return X.p=h,u()}finally{X.p=d}}var fo=Math.random().toString(36).slice(2),Ii="__reactFiber$"+fo,Sn="__reactProps$"+fo,bh="__reactContainer$"+fo,X1="__reactEvents$"+fo,vZ="__reactListeners$"+fo,kZ="__reactHandles$"+fo,wA="__reactResources$"+fo,xf="__reactMarker$"+fo;function I1(h){delete h[Ii],delete h[Sn],delete h[X1],delete h[vZ],delete h[kZ]}function xh(h){var u=h[Ii];if(u)return u;for(var d=h.parentNode;d;){if(u=d[bh]||d[Ii]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(h=IQ(h);h!==null;){if(d=h[Ii])return d;h=IQ(h)}return u}h=d,d=h.parentNode}return null}function Sh(h){if(h=h[Ii]||h[bh]){var u=h.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return h}return null}function Sf(h){var u=h.tag;if(u===5||u===26||u===27||u===6)return h.stateNode;throw Error(i(33))}function wh(h){var u=h[wA];return u||(u=h[wA]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function zi(h){h[xf]=!0}var vA=new Set,kA={};function Ta(h,u){vh(h,u),vh(h+"Capture",u)}function vh(h,u){for(kA[h]=u,h=0;h<u.length;h++)vA.add(u[h])}var $Z=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$A={},AA={};function AZ(h){return K.call(AA,h)?!0:K.call($A,h)?!1:$Z.test(h)?AA[h]=!0:($A[h]=!0,!1)}function Np(h,u,d){if(AZ(u))if(d===null)h.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":h.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){h.removeAttribute(u);return}}h.setAttribute(u,""+d)}}function Lp(h,u,d){if(d===null)h.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(u);return}h.setAttribute(u,""+d)}}function yl(h,u,d,g){if(g===null)h.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(d);return}h.setAttributeNS(u,d,""+g)}}function mr(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function CA(h){var u=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function CZ(h,u,d){var g=Object.getOwnPropertyDescriptor(h.constructor.prototype,u);if(!h.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,x=g.set;return Object.defineProperty(h,u,{configurable:!0,get:function(){return b.call(this)},set:function(C){d=""+C,x.call(this,C)}}),Object.defineProperty(h,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){h._valueTracker=null,delete h[u]}}}}function j1(h){if(!h._valueTracker){var u=CA(h)?"checked":"value";h._valueTracker=CZ(h,u,""+h[u])}}function TA(h){if(!h)return!1;var u=h._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return h&&(g=CA(h)?h.checked?"true":"false":h.value),h=g,h!==d?(u.setValue(h),!0):!1}function Zp(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var TZ=/[\n"\\]/g;function Or(h){return h.replace(TZ,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function q1(h,u,d,g,b,x,C,_){h.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?h.type=C:h.removeAttribute("type"),u!=null?C==="number"?(u===0&&h.value===""||h.value!=u)&&(h.value=""+mr(u)):h.value!==""+mr(u)&&(h.value=""+mr(u)):C!=="submit"&&C!=="reset"||h.removeAttribute("value"),u!=null?W1(h,C,mr(u)):d!=null?W1(h,C,mr(d)):g!=null&&h.removeAttribute("value"),b==null&&x!=null&&(h.defaultChecked=!!x),b!=null&&(h.checked=b&&typeof b!="function"&&typeof b!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?h.name=""+mr(_):h.removeAttribute("name")}function QA(h,u,d,g,b,x,C,_){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(h.type=x),u!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||u!=null)){j1(h);return}d=d!=null?""+mr(d):"",u=u!=null?""+mr(u):d,_||u===h.value||(h.value=u),h.defaultValue=u}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,h.checked=_?h.checked:!!g,h.defaultChecked=!!g,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(h.name=C),j1(h)}function W1(h,u,d){u==="number"&&Zp(h.ownerDocument)===h||h.defaultValue===""+d||(h.defaultValue=""+d)}function kh(h,u,d,g){if(h=h.options,u){u={};for(var b=0;b<d.length;b++)u["$"+d[b]]=!0;for(d=0;d<h.length;d++)b=u.hasOwnProperty("$"+h[d].value),h[d].selected!==b&&(h[d].selected=b),b&&g&&(h[d].defaultSelected=!0)}else{for(d=""+mr(d),u=null,b=0;b<h.length;b++){if(h[b].value===d){h[b].selected=!0,g&&(h[b].defaultSelected=!0);return}u!==null||h[b].disabled||(u=h[b])}u!==null&&(u.selected=!0)}}function PA(h,u,d){if(u!=null&&(u=""+mr(u),u!==h.value&&(h.value=u),d==null)){h.defaultValue!==u&&(h.defaultValue=u);return}h.defaultValue=d!=null?""+mr(d):""}function MA(h,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(i(92));if(j(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=mr(u),h.defaultValue=d,g=h.textContent,g===d&&g!==""&&g!==null&&(h.value=g),j1(h)}function $h(h,u){if(u){var d=h.firstChild;if(d&&d===h.lastChild&&d.nodeType===3){d.nodeValue=u;return}}h.textContent=u}var QZ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function RA(h,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?h.setProperty(u,""):u==="float"?h.cssFloat="":h[u]="":g?h.setProperty(u,d):typeof d!="number"||d===0||QZ.has(u)?u==="float"?h.cssFloat=d:h[u]=(""+d).trim():h[u]=d+"px"}function EA(h,u,d){if(u!=null&&typeof u!="object")throw Error(i(62));if(h=h.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?h.setProperty(g,""):g==="float"?h.cssFloat="":h[g]="");for(var b in u)g=u[b],u.hasOwnProperty(b)&&d[b]!==g&&RA(h,b,g)}else for(var x in u)u.hasOwnProperty(x)&&RA(h,x,u[x])}function Y1(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PZ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MZ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vp(h){return MZ.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}function bl(){}var H1=null;function U1(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ah=null,Ch=null;function DA(h){var u=Sh(h);if(u&&(h=u.stateNode)){var d=h[Sn]||null;t:switch(h=u.stateNode,u.type){case"input":if(q1(h,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=h;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Or(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==h&&g.form===h.form){var b=g[Sn]||null;if(!b)throw Error(i(90));q1(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===h.form&&TA(g)}break t;case"textarea":PA(h,d.value,d.defaultValue);break t;case"select":u=d.value,u!=null&&kh(h,!!d.multiple,u,!1)}}}var G1=!1;function BA(h,u,d){if(G1)return h(u,d);G1=!0;try{var g=h(u);return g}finally{if(G1=!1,(Ah!==null||Ch!==null)&&(Tg(),Ah&&(u=Ah,h=Ch,Ch=Ah=null,DA(u),h)))for(u=0;u<h.length;u++)DA(h[u])}}function wf(h,u){var d=h.stateNode;if(d===null)return null;var g=d[Sn]||null;if(g===null)return null;d=g[u];t:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(h=h.type,g=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!g;break t;default:h=!1}if(h)return null;if(d&&typeof d!="function")throw Error(i(231,u,typeof d));return d}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F1=!1;if(xl)try{var vf={};Object.defineProperty(vf,"passive",{get:function(){F1=!0}}),window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{F1=!1}var co=null,K1=null,Xp=null;function _A(){if(Xp)return Xp;var h,u=K1,d=u.length,g,b="value"in co?co.value:co.textContent,x=b.length;for(h=0;h<d&&u[h]===b[h];h++);var C=d-h;for(g=1;g<=C&&u[d-g]===b[x-g];g++);return Xp=b.slice(h,1<g?1-g:void 0)}function Ip(h){var u=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&u===13&&(h=13)):h=u,h===10&&(h=13),32<=h||h===13?h:0}function jp(){return!0}function zA(){return!1}function wn(h){function u(d,g,b,x,C){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var _ in h)h.hasOwnProperty(_)&&(d=h[_],this[_]=d?d(x):x[_]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?jp:zA,this.isPropagationStopped=zA,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=jp)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=jp)},persist:function(){},isPersistent:jp}),u}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qp=wn(Qa),kf=p({},Qa,{view:0,detail:0}),RZ=wn(kf),J1,ty,$f,Wp=p({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==$f&&($f&&h.type==="mousemove"?(J1=h.screenX-$f.screenX,ty=h.screenY-$f.screenY):ty=J1=0,$f=h),J1)},movementY:function(h){return"movementY"in h?h.movementY:ty}}),NA=wn(Wp),EZ=p({},Wp,{dataTransfer:0}),DZ=wn(EZ),BZ=p({},kf,{relatedTarget:0}),ey=wn(BZ),_Z=p({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),zZ=wn(_Z),NZ=p({},Qa,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),LZ=wn(NZ),ZZ=p({},Qa,{data:0}),LA=wn(ZZ),VZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jZ(h){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(h):(h=IZ[h])?!!u[h]:!1}function iy(){return jZ}var qZ=p({},kf,{key:function(h){if(h.key){var u=VZ[h.key]||h.key;if(u!=="Unidentified")return u}return h.type==="keypress"?(h=Ip(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?XZ[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(h){return h.type==="keypress"?Ip(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Ip(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),WZ=wn(qZ),YZ=p({},Wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZA=wn(YZ),HZ=p({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),UZ=wn(HZ),GZ=p({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),FZ=wn(GZ),KZ=p({},Wp,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),JZ=wn(KZ),tV=p({},Qa,{newState:0,oldState:0}),eV=wn(tV),iV=[9,13,27,32],ny=xl&&"CompositionEvent"in window,Af=null;xl&&"documentMode"in document&&(Af=document.documentMode);var nV=xl&&"TextEvent"in window&&!Af,VA=xl&&(!ny||Af&&8<Af&&11>=Af),XA=" ",IA=!1;function jA(h,u){switch(h){case"keyup":return iV.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qA(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Th=!1;function rV(h,u){switch(h){case"compositionend":return qA(u);case"keypress":return u.which!==32?null:(IA=!0,XA);case"textInput":return h=u.data,h===XA&&IA?null:h;default:return null}}function sV(h,u){if(Th)return h==="compositionend"||!ny&&jA(h,u)?(h=_A(),Xp=K1=co=null,Th=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return VA&&u.locale!=="ko"?null:u.data;default:return null}}var lV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WA(h){var u=h&&h.nodeName&&h.nodeName.toLowerCase();return u==="input"?!!lV[h.type]:u==="textarea"}function YA(h,u,d,g){Ah?Ch?Ch.push(g):Ch=[g]:Ah=g,u=Bg(u,"onChange"),0<u.length&&(d=new qp("onChange","change",null,d,g),h.push({event:d,listeners:u}))}var Cf=null,Tf=null;function oV(h){QQ(h,0)}function Yp(h){var u=Sf(h);if(TA(u))return h}function HA(h,u){if(h==="change")return u}var UA=!1;if(xl){var ry;if(xl){var sy="oninput"in document;if(!sy){var GA=document.createElement("div");GA.setAttribute("oninput","return;"),sy=typeof GA.oninput=="function"}ry=sy}else ry=!1;UA=ry&&(!document.documentMode||9<document.documentMode)}function FA(){Cf&&(Cf.detachEvent("onpropertychange",KA),Tf=Cf=null)}function KA(h){if(h.propertyName==="value"&&Yp(Tf)){var u=[];YA(u,Tf,h,U1(h)),BA(oV,u)}}function aV(h,u,d){h==="focusin"?(FA(),Cf=u,Tf=d,Cf.attachEvent("onpropertychange",KA)):h==="focusout"&&FA()}function hV(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Yp(Tf)}function uV(h,u){if(h==="click")return Yp(u)}function fV(h,u){if(h==="input"||h==="change")return Yp(u)}function cV(h,u){return h===u&&(h!==0||1/h===1/u)||h!==h&&u!==u}var qn=typeof Object.is=="function"?Object.is:cV;function Qf(h,u){if(qn(h,u))return!0;if(typeof h!="object"||h===null||typeof u!="object"||u===null)return!1;var d=Object.keys(h),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!K.call(u,b)||!qn(h[b],u[b]))return!1}return!0}function JA(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function tC(h,u){var d=JA(h);h=0;for(var g;d;){if(d.nodeType===3){if(g=h+d.textContent.length,h<=u&&g>=u)return{node:d,offset:u-h};h=g}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=JA(d)}}function eC(h,u){return h&&u?h===u?!0:h&&h.nodeType===3?!1:u&&u.nodeType===3?eC(h,u.parentNode):"contains"in h?h.contains(u):h.compareDocumentPosition?!!(h.compareDocumentPosition(u)&16):!1:!1}function iC(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var u=Zp(h.document);u instanceof h.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)h=u.contentWindow;else break;u=Zp(h.document)}return u}function ly(h){var u=h&&h.nodeName&&h.nodeName.toLowerCase();return u&&(u==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||u==="textarea"||h.contentEditable==="true")}var dV=xl&&"documentMode"in document&&11>=document.documentMode,Qh=null,oy=null,Pf=null,ay=!1;function nC(h,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ay||Qh==null||Qh!==Zp(g)||(g=Qh,"selectionStart"in g&&ly(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Pf&&Qf(Pf,g)||(Pf=g,g=Bg(oy,"onSelect"),0<g.length&&(u=new qp("onSelect","select",null,u,d),h.push({event:u,listeners:g}),u.target=Qh)))}function Pa(h,u){var d={};return d[h.toLowerCase()]=u.toLowerCase(),d["Webkit"+h]="webkit"+u,d["Moz"+h]="moz"+u,d}var Ph={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},hy={},rC={};xl&&(rC=document.createElement("div").style,"AnimationEvent"in window||(delete Ph.animationend.animation,delete Ph.animationiteration.animation,delete Ph.animationstart.animation),"TransitionEvent"in window||delete Ph.transitionend.transition);function Ma(h){if(hy[h])return hy[h];if(!Ph[h])return h;var u=Ph[h],d;for(d in u)if(u.hasOwnProperty(d)&&d in rC)return hy[h]=u[d];return h}var sC=Ma("animationend"),lC=Ma("animationiteration"),oC=Ma("animationstart"),pV=Ma("transitionrun"),gV=Ma("transitionstart"),mV=Ma("transitioncancel"),aC=Ma("transitionend"),hC=new Map,uy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uy.push("scrollEnd");function zr(h,u){hC.set(h,u),Ta(u,[h])}var Hp=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},yr=[],Mh=0,fy=0;function Up(){for(var h=Mh,u=fy=Mh=0;u<h;){var d=yr[u];yr[u++]=null;var g=yr[u];yr[u++]=null;var b=yr[u];yr[u++]=null;var x=yr[u];if(yr[u++]=null,g!==null&&b!==null){var C=g.pending;C===null?b.next=b:(b.next=C.next,C.next=b),g.pending=b}x!==0&&uC(d,b,x)}}function Gp(h,u,d,g){yr[Mh++]=h,yr[Mh++]=u,yr[Mh++]=d,yr[Mh++]=g,fy|=g,h.lanes|=g,h=h.alternate,h!==null&&(h.lanes|=g)}function cy(h,u,d,g){return Gp(h,u,d,g),Fp(h)}function Ra(h,u){return Gp(h,null,null,u),Fp(h)}function uC(h,u,d){h.lanes|=d;var g=h.alternate;g!==null&&(g.lanes|=d);for(var b=!1,x=h.return;x!==null;)x.childLanes|=d,g=x.alternate,g!==null&&(g.childLanes|=d),x.tag===22&&(h=x.stateNode,h===null||h._visibility&1||(b=!0)),h=x,x=x.return;return h.tag===3?(x=h.stateNode,b&&u!==null&&(b=31-ii(d),h=x.hiddenUpdates,g=h[b],g===null?h[b]=[u]:g.push(u),u.lane=d|536870912),x):null}function Fp(h){if(50<Kf)throw Kf=0,Sb=null,Error(i(185));for(var u=h.return;u!==null;)h=u,u=h.return;return h.tag===3?h.stateNode:null}var Rh={};function OV(h,u,d,g){this.tag=h,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(h,u,d,g){return new OV(h,u,d,g)}function dy(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Sl(h,u){var d=h.alternate;return d===null?(d=Wn(h.tag,u,h.key,h.mode),d.elementType=h.elementType,d.type=h.type,d.stateNode=h.stateNode,d.alternate=h,h.alternate=d):(d.pendingProps=u,d.type=h.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=h.flags&65011712,d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,u=h.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=h.sibling,d.index=h.index,d.ref=h.ref,d.refCleanup=h.refCleanup,d}function fC(h,u){h.flags&=65011714;var d=h.alternate;return d===null?(h.childLanes=0,h.lanes=u,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=d.childLanes,h.lanes=d.lanes,h.child=d.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=d.memoizedProps,h.memoizedState=d.memoizedState,h.updateQueue=d.updateQueue,h.type=d.type,u=d.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),h}function Kp(h,u,d,g,b,x){var C=0;if(g=h,typeof h=="function")dy(h)&&(C=1);else if(typeof h=="string")C=wX(h,d,G.current)?26:h==="html"||h==="head"||h==="body"?27:5;else t:switch(h){case D:return h=Wn(31,d,u,b),h.elementType=D,h.lanes=x,h;case S:return Ea(d.children,b,x,u);case w:C=8,b|=24;break;case v:return h=Wn(12,d,u,b|2),h.elementType=v,h.lanes=x,h;case P:return h=Wn(13,d,u,b),h.elementType=P,h.lanes=x,h;case E:return h=Wn(19,d,u,b),h.elementType=E,h.lanes=x,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case M:C=10;break t;case T:C=9;break t;case N:C=11;break t;case A:C=14;break t;case V:C=16,g=null;break t}C=29,d=Error(i(130,h===null?"null":typeof h,"")),g=null}return u=Wn(C,d,u,b),u.elementType=h,u.type=g,u.lanes=x,u}function Ea(h,u,d,g){return h=Wn(7,h,g,u),h.lanes=d,h}function py(h,u,d){return h=Wn(6,h,null,u),h.lanes=d,h}function cC(h){var u=Wn(18,null,null,0);return u.stateNode=h,u}function gy(h,u,d){return u=Wn(4,h.children!==null?h.children:[],h.key,u),u.lanes=d,u.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},u}var dC=new WeakMap;function br(h,u){if(typeof h=="object"&&h!==null){var d=dC.get(h);return d!==void 0?d:(u={value:h,source:u,stack:I(u)},dC.set(h,u),u)}return{value:h,source:u,stack:I(u)}}var Eh=[],Dh=0,Jp=null,Mf=0,xr=[],Sr=0,po=null,ls=1,os="";function wl(h,u){Eh[Dh++]=Mf,Eh[Dh++]=Jp,Jp=h,Mf=u}function pC(h,u,d){xr[Sr++]=ls,xr[Sr++]=os,xr[Sr++]=po,po=h;var g=ls;h=os;var b=32-ii(g)-1;g&=~(1<<b),d+=1;var x=32-ii(u)+b;if(30<x){var C=b-b%5;x=(g&(1<<C)-1).toString(32),g>>=C,b-=C,ls=1<<32-ii(u)+b|d<<b|g,os=x+h}else ls=1<<x|d<<b|g,os=h}function my(h){h.return!==null&&(wl(h,1),pC(h,1,0))}function Oy(h){for(;h===Jp;)Jp=Eh[--Dh],Eh[Dh]=null,Mf=Eh[--Dh],Eh[Dh]=null;for(;h===po;)po=xr[--Sr],xr[Sr]=null,os=xr[--Sr],xr[Sr]=null,ls=xr[--Sr],xr[Sr]=null}function gC(h,u){xr[Sr++]=ls,xr[Sr++]=os,xr[Sr++]=po,ls=u.id,os=u.overflow,po=h}var ji=null,Xe=null,ue=!1,go=null,wr=!1,yy=Error(i(519));function mo(h){var u=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rf(br(u,h)),yy}function mC(h){var u=h.stateNode,d=h.type,g=h.memoizedProps;switch(u[Ii]=h,u[Sn]=g,d){case"dialog":le("cancel",u),le("close",u);break;case"iframe":case"object":case"embed":le("load",u);break;case"video":case"audio":for(d=0;d<tc.length;d++)le(tc[d],u);break;case"source":le("error",u);break;case"img":case"image":case"link":le("error",u),le("load",u);break;case"details":le("toggle",u);break;case"input":le("invalid",u),QA(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":le("invalid",u);break;case"textarea":le("invalid",u),MA(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||EQ(u.textContent,d)?(g.popover!=null&&(le("beforetoggle",u),le("toggle",u)),g.onScroll!=null&&le("scroll",u),g.onScrollEnd!=null&&le("scrollend",u),g.onClick!=null&&(u.onclick=bl),u=!0):u=!1,u||mo(h,!0)}function OC(h){for(ji=h.return;ji;)switch(ji.tag){case 5:case 31:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:ji=ji.return}}function Bh(h){if(h!==ji)return!1;if(!ue)return OC(h),ue=!0,!1;var u=h.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=h.type,d=!(d!=="form"&&d!=="button")||_b(h.type,h.memoizedProps)),d=!d),d&&Xe&&mo(h),OC(h),u===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));Xe=XQ(h)}else if(u===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));Xe=XQ(h)}else u===27?(u=Xe,Po(h.type)?(h=Vb,Vb=null,Xe=h):Xe=u):Xe=ji?kr(h.stateNode.nextSibling):null;return!0}function Da(){Xe=ji=null,ue=!1}function by(){var h=go;return h!==null&&(An===null?An=h:An.push.apply(An,h),go=null),h}function Rf(h){go===null?go=[h]:go.push(h)}var xy=R(null),Ba=null,vl=null;function Oo(h,u,d){H(xy,u._currentValue),u._currentValue=d}function kl(h){h._currentValue=xy.current,B(xy)}function Sy(h,u,d){for(;h!==null;){var g=h.alternate;if((h.childLanes&u)!==u?(h.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),h===d)break;h=h.return}}function wy(h,u,d,g){var b=h.child;for(b!==null&&(b.return=h);b!==null;){var x=b.dependencies;if(x!==null){var C=b.child;x=x.firstContext;t:for(;x!==null;){var _=x;x=b;for(var Y=0;Y<u.length;Y++)if(_.context===u[Y]){x.lanes|=d,_=x.alternate,_!==null&&(_.lanes|=d),Sy(x.return,d,h),g||(C=null);break t}x=_.next}}else if(b.tag===18){if(C=b.return,C===null)throw Error(i(341));C.lanes|=d,x=C.alternate,x!==null&&(x.lanes|=d),Sy(C,d,h),C=null}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===h){C=null;break}if(b=C.sibling,b!==null){b.return=C.return,C=b;break}C=C.return}b=C}}function _h(h,u,d,g){h=null;for(var b=u,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var C=b.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var _=b.type;qn(b.pendingProps.value,C.value)||(h!==null?h.push(_):h=[_])}}else if(b===Rt.current){if(C=b.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(h!==null?h.push(sc):h=[sc])}b=b.return}h!==null&&wy(u,h,d,g),u.flags|=262144}function tg(h){for(h=h.firstContext;h!==null;){if(!qn(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function _a(h){Ba=h,vl=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function qi(h){return yC(Ba,h)}function eg(h,u){return Ba===null&&_a(h),yC(h,u)}function yC(h,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},vl===null){if(h===null)throw Error(i(308));vl=u,h.dependencies={lanes:0,firstContext:u},h.flags|=524288}else vl=vl.next=u;return d}var yV=typeof AbortController<"u"?AbortController:function(){var h=[],u=this.signal={aborted:!1,addEventListener:function(d,g){h.push(g)}};this.abort=function(){u.aborted=!0,h.forEach(function(d){return d()})}},bV=r.unstable_scheduleCallback,xV=r.unstable_NormalPriority,wi={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vy(){return{controller:new yV,data:new Map,refCount:0}}function Ef(h){h.refCount--,h.refCount===0&&bV(xV,function(){h.controller.abort()})}var Df=null,ky=0,zh=0,Nh=null;function SV(h,u){if(Df===null){var d=Df=[];ky=0,zh=Cb(),Nh={status:"pending",value:void 0,then:function(g){d.push(g)}}}return ky++,u.then(bC,bC),u}function bC(){if(--ky===0&&Df!==null){Nh!==null&&(Nh.status="fulfilled");var h=Df;Df=null,zh=0,Nh=null;for(var u=0;u<h.length;u++)(0,h[u])()}}function wV(h,u){var d=[],g={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return h.then(function(){g.status="fulfilled",g.value=u;for(var b=0;b<d.length;b++)(0,d[b])(u)},function(b){for(g.status="rejected",g.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),g}var xC=W.S;W.S=function(h,u){nQ=xt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&SV(h,u),xC!==null&&xC(h,u)};var za=R(null);function $y(){var h=za.current;return h!==null?h:Qe.pooledCache}function ig(h,u){u===null?H(za,za.current):H(za,u.pool)}function SC(){var h=$y();return h===null?null:{parent:wi._currentValue,pool:h}}var Lh=Error(i(460)),Ay=Error(i(474)),ng=Error(i(542)),rg={then:function(){}};function wC(h){return h=h.status,h==="fulfilled"||h==="rejected"}function vC(h,u,d){switch(d=h[d],d===void 0?h.push(u):d!==u&&(u.then(bl,bl),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw h=u.reason,$C(h),h;default:if(typeof u.status=="string")u.then(bl,bl);else{if(h=Qe,h!==null&&100<h.shellSuspendCounter)throw Error(i(482));h=u,h.status="pending",h.then(function(g){if(u.status==="pending"){var b=u;b.status="fulfilled",b.value=g}},function(g){if(u.status==="pending"){var b=u;b.status="rejected",b.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw h=u.reason,$C(h),h}throw La=u,Lh}}function Na(h){try{var u=h._init;return u(h._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(La=d,Lh):d}}var La=null;function kC(){if(La===null)throw Error(i(459));var h=La;return La=null,h}function $C(h){if(h===Lh||h===ng)throw Error(i(483))}var Zh=null,Bf=0;function sg(h){var u=Bf;return Bf+=1,Zh===null&&(Zh=[]),vC(Zh,h,u)}function _f(h,u){u=u.props.ref,h.ref=u!==void 0?u:null}function lg(h,u){throw u.$$typeof===m?Error(i(525)):(h=Object.prototype.toString.call(u),Error(i(31,h==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":h)))}function AC(h){function u(J,U){if(h){var et=J.deletions;et===null?(J.deletions=[U],J.flags|=16):et.push(U)}}function d(J,U){if(!h)return null;for(;U!==null;)u(J,U),U=U.sibling;return null}function g(J){for(var U=new Map;J!==null;)J.key!==null?U.set(J.key,J):U.set(J.index,J),J=J.sibling;return U}function b(J,U){return J=Sl(J,U),J.index=0,J.sibling=null,J}function x(J,U,et){return J.index=et,h?(et=J.alternate,et!==null?(et=et.index,et<U?(J.flags|=67108866,U):et):(J.flags|=67108866,U)):(J.flags|=1048576,U)}function C(J){return h&&J.alternate===null&&(J.flags|=67108866),J}function _(J,U,et,ht){return U===null||U.tag!==6?(U=py(et,J.mode,ht),U.return=J,U):(U=b(U,et),U.return=J,U)}function Y(J,U,et,ht){var Xt=et.type;return Xt===S?at(J,U,et.props.children,ht,et.key):U!==null&&(U.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===V&&Na(Xt)===U.type)?(U=b(U,et.props),_f(U,et),U.return=J,U):(U=Kp(et.type,et.key,et.props,null,J.mode,ht),_f(U,et),U.return=J,U)}function it(J,U,et,ht){return U===null||U.tag!==4||U.stateNode.containerInfo!==et.containerInfo||U.stateNode.implementation!==et.implementation?(U=gy(et,J.mode,ht),U.return=J,U):(U=b(U,et.children||[]),U.return=J,U)}function at(J,U,et,ht,Xt){return U===null||U.tag!==7?(U=Ea(et,J.mode,ht,Xt),U.return=J,U):(U=b(U,et),U.return=J,U)}function ft(J,U,et){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=py(""+U,J.mode,et),U.return=J,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return et=Kp(U.type,U.key,U.props,null,J.mode,et),_f(et,U),et.return=J,et;case y:return U=gy(U,J.mode,et),U.return=J,U;case V:return U=Na(U),ft(J,U,et)}if(j(U)||k(U))return U=Ea(U,J.mode,et,null),U.return=J,U;if(typeof U.then=="function")return ft(J,sg(U),et);if(U.$$typeof===M)return ft(J,eg(J,U),et);lg(J,U)}return null}function rt(J,U,et,ht){var Xt=U!==null?U.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Xt!==null?null:_(J,U,""+et,ht);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case O:return et.key===Xt?Y(J,U,et,ht):null;case y:return et.key===Xt?it(J,U,et,ht):null;case V:return et=Na(et),rt(J,U,et,ht)}if(j(et)||k(et))return Xt!==null?null:at(J,U,et,ht,null);if(typeof et.then=="function")return rt(J,U,sg(et),ht);if(et.$$typeof===M)return rt(J,U,eg(J,et),ht);lg(J,et)}return null}function lt(J,U,et,ht,Xt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return J=J.get(et)||null,_(U,J,""+ht,Xt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case O:return J=J.get(ht.key===null?et:ht.key)||null,Y(U,J,ht,Xt);case y:return J=J.get(ht.key===null?et:ht.key)||null,it(U,J,ht,Xt);case V:return ht=Na(ht),lt(J,U,et,ht,Xt)}if(j(ht)||k(ht))return J=J.get(et)||null,at(U,J,ht,Xt,null);if(typeof ht.then=="function")return lt(J,U,et,sg(ht),Xt);if(ht.$$typeof===M)return lt(J,U,et,eg(U,ht),Xt);lg(U,ht)}return null}function Dt(J,U,et,ht){for(var Xt=null,de=null,zt=U,Jt=U=0,he=null;zt!==null&&Jt<et.length;Jt++){zt.index>Jt?(he=zt,zt=null):he=zt.sibling;var pe=rt(J,zt,et[Jt],ht);if(pe===null){zt===null&&(zt=he);break}h&&zt&&pe.alternate===null&&u(J,zt),U=x(pe,U,Jt),de===null?Xt=pe:de.sibling=pe,de=pe,zt=he}if(Jt===et.length)return d(J,zt),ue&&wl(J,Jt),Xt;if(zt===null){for(;Jt<et.length;Jt++)zt=ft(J,et[Jt],ht),zt!==null&&(U=x(zt,U,Jt),de===null?Xt=zt:de.sibling=zt,de=zt);return ue&&wl(J,Jt),Xt}for(zt=g(zt);Jt<et.length;Jt++)he=lt(zt,J,Jt,et[Jt],ht),he!==null&&(h&&he.alternate!==null&&zt.delete(he.key===null?Jt:he.key),U=x(he,U,Jt),de===null?Xt=he:de.sibling=he,de=he);return h&&zt.forEach(function(Bo){return u(J,Bo)}),ue&&wl(J,Jt),Xt}function Yt(J,U,et,ht){if(et==null)throw Error(i(151));for(var Xt=null,de=null,zt=U,Jt=U=0,he=null,pe=et.next();zt!==null&&!pe.done;Jt++,pe=et.next()){zt.index>Jt?(he=zt,zt=null):he=zt.sibling;var Bo=rt(J,zt,pe.value,ht);if(Bo===null){zt===null&&(zt=he);break}h&&zt&&Bo.alternate===null&&u(J,zt),U=x(Bo,U,Jt),de===null?Xt=Bo:de.sibling=Bo,de=Bo,zt=he}if(pe.done)return d(J,zt),ue&&wl(J,Jt),Xt;if(zt===null){for(;!pe.done;Jt++,pe=et.next())pe=ft(J,pe.value,ht),pe!==null&&(U=x(pe,U,Jt),de===null?Xt=pe:de.sibling=pe,de=pe);return ue&&wl(J,Jt),Xt}for(zt=g(zt);!pe.done;Jt++,pe=et.next())pe=lt(zt,J,Jt,pe.value,ht),pe!==null&&(h&&pe.alternate!==null&&zt.delete(pe.key===null?Jt:pe.key),U=x(pe,U,Jt),de===null?Xt=pe:de.sibling=pe,de=pe);return h&&zt.forEach(function(EX){return u(J,EX)}),ue&&wl(J,Jt),Xt}function $e(J,U,et,ht){if(typeof et=="object"&&et!==null&&et.type===S&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case O:t:{for(var Xt=et.key;U!==null;){if(U.key===Xt){if(Xt=et.type,Xt===S){if(U.tag===7){d(J,U.sibling),ht=b(U,et.props.children),ht.return=J,J=ht;break t}}else if(U.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===V&&Na(Xt)===U.type){d(J,U.sibling),ht=b(U,et.props),_f(ht,et),ht.return=J,J=ht;break t}d(J,U);break}else u(J,U);U=U.sibling}et.type===S?(ht=Ea(et.props.children,J.mode,ht,et.key),ht.return=J,J=ht):(ht=Kp(et.type,et.key,et.props,null,J.mode,ht),_f(ht,et),ht.return=J,J=ht)}return C(J);case y:t:{for(Xt=et.key;U!==null;){if(U.key===Xt)if(U.tag===4&&U.stateNode.containerInfo===et.containerInfo&&U.stateNode.implementation===et.implementation){d(J,U.sibling),ht=b(U,et.children||[]),ht.return=J,J=ht;break t}else{d(J,U);break}else u(J,U);U=U.sibling}ht=gy(et,J.mode,ht),ht.return=J,J=ht}return C(J);case V:return et=Na(et),$e(J,U,et,ht)}if(j(et))return Dt(J,U,et,ht);if(k(et)){if(Xt=k(et),typeof Xt!="function")throw Error(i(150));return et=Xt.call(et),Yt(J,U,et,ht)}if(typeof et.then=="function")return $e(J,U,sg(et),ht);if(et.$$typeof===M)return $e(J,U,eg(J,et),ht);lg(J,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,U!==null&&U.tag===6?(d(J,U.sibling),ht=b(U,et),ht.return=J,J=ht):(d(J,U),ht=py(et,J.mode,ht),ht.return=J,J=ht),C(J)):d(J,U)}return function(J,U,et,ht){try{Bf=0;var Xt=$e(J,U,et,ht);return Zh=null,Xt}catch(zt){if(zt===Lh||zt===ng)throw zt;var de=Wn(29,zt,null,J.mode);return de.lanes=ht,de.return=J,de}}}var Za=AC(!0),CC=AC(!1),yo=!1;function Cy(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ty(h,u){h=h.updateQueue,u.updateQueue===h&&(u.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function bo(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function xo(h,u,d){var g=h.updateQueue;if(g===null)return null;if(g=g.shared,(me&2)!==0){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,u=Fp(h),uC(h,null,d),u}return Gp(h,g,u,d),Fp(h)}function zf(h,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=h.pendingLanes,d|=g,u.lanes=d,yA(h,d)}}function Qy(h,u){var d=h.updateQueue,g=h.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var C={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?b=x=C:x=x.next=C,d=d.next}while(d!==null);x===null?b=x=u:x=x.next=u}else b=x=u;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:g.shared,callbacks:g.callbacks},h.updateQueue=d;return}h=d.lastBaseUpdate,h===null?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=u}var Py=!1;function Nf(){if(Py){var h=Nh;if(h!==null)throw h}}function Lf(h,u,d,g){Py=!1;var b=h.updateQueue;yo=!1;var x=b.firstBaseUpdate,C=b.lastBaseUpdate,_=b.shared.pending;if(_!==null){b.shared.pending=null;var Y=_,it=Y.next;Y.next=null,C===null?x=it:C.next=it,C=Y;var at=h.alternate;at!==null&&(at=at.updateQueue,_=at.lastBaseUpdate,_!==C&&(_===null?at.firstBaseUpdate=it:_.next=it,at.lastBaseUpdate=Y))}if(x!==null){var ft=b.baseState;C=0,at=it=Y=null,_=x;do{var rt=_.lane&-536870913,lt=rt!==_.lane;if(lt?(ae&rt)===rt:(g&rt)===rt){rt!==0&&rt===zh&&(Py=!0),at!==null&&(at=at.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var Dt=h,Yt=_;rt=u;var $e=d;switch(Yt.tag){case 1:if(Dt=Yt.payload,typeof Dt=="function"){ft=Dt.call($e,ft,rt);break t}ft=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Yt.payload,rt=typeof Dt=="function"?Dt.call($e,ft,rt):Dt,rt==null)break t;ft=p({},ft,rt);break t;case 2:yo=!0}}rt=_.callback,rt!==null&&(h.flags|=64,lt&&(h.flags|=8192),lt=b.callbacks,lt===null?b.callbacks=[rt]:lt.push(rt))}else lt={lane:rt,tag:_.tag,payload:_.payload,callback:_.callback,next:null},at===null?(it=at=lt,Y=ft):at=at.next=lt,C|=rt;if(_=_.next,_===null){if(_=b.shared.pending,_===null)break;lt=_,_=lt.next,lt.next=null,b.lastBaseUpdate=lt,b.shared.pending=null}}while(!0);at===null&&(Y=ft),b.baseState=Y,b.firstBaseUpdate=it,b.lastBaseUpdate=at,x===null&&(b.shared.lanes=0),$o|=C,h.lanes=C,h.memoizedState=ft}}function TC(h,u){if(typeof h!="function")throw Error(i(191,h));h.call(u)}function QC(h,u){var d=h.callbacks;if(d!==null)for(h.callbacks=null,h=0;h<d.length;h++)TC(d[h],u)}var Vh=R(null),og=R(0);function PC(h,u){h=El,H(og,h),H(Vh,u),El=h|u.baseLanes}function My(){H(og,El),H(Vh,Vh.current)}function Ry(){El=og.current,B(Vh),B(og)}var Yn=R(null),vr=null;function So(h){var u=h.alternate;H(Oi,Oi.current&1),H(Yn,h),vr===null&&(u===null||Vh.current!==null||u.memoizedState!==null)&&(vr=h)}function Ey(h){H(Oi,Oi.current),H(Yn,h),vr===null&&(vr=h)}function MC(h){h.tag===22?(H(Oi,Oi.current),H(Yn,h),vr===null&&(vr=h)):wo()}function wo(){H(Oi,Oi.current),H(Yn,Yn.current)}function Hn(h){B(Yn),vr===h&&(vr=null),B(Oi)}var Oi=R(0);function ag(h){for(var u=h;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Lb(d)||Zb(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break;for(;u.sibling===null;){if(u.return===null||u.return===h)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var $l=0,Kt=null,ve=null,vi=null,hg=!1,Xh=!1,Va=!1,ug=0,Zf=0,Ih=null,vV=0;function ui(){throw Error(i(321))}function Dy(h,u){if(u===null)return!1;for(var d=0;d<u.length&&d<h.length;d++)if(!qn(h[d],u[d]))return!1;return!0}function By(h,u,d,g,b,x){return $l=x,Kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=h===null||h.memoizedState===null?pT:Gy,Va=!1,x=d(g,b),Va=!1,Xh&&(x=EC(u,d,g,b)),RC(h),x}function RC(h){W.H=If;var u=ve!==null&&ve.next!==null;if($l=0,vi=ve=Kt=null,hg=!1,Zf=0,Ih=null,u)throw Error(i(300));h===null||ki||(h=h.dependencies,h!==null&&tg(h)&&(ki=!0))}function EC(h,u,d,g){Kt=h;var b=0;do{if(Xh&&(Ih=null),Zf=0,Xh=!1,25<=b)throw Error(i(301));if(b+=1,vi=ve=null,h.updateQueue!=null){var x=h.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=gT,x=u(d,g)}while(Xh);return x}function kV(){var h=W.H,u=h.useState()[0];return u=typeof u.then=="function"?Vf(u):u,h=h.useState()[0],(ve!==null?ve.memoizedState:null)!==h&&(Kt.flags|=1024),u}function _y(){var h=ug!==0;return ug=0,h}function zy(h,u,d){u.updateQueue=h.updateQueue,u.flags&=-2053,h.lanes&=~d}function Ny(h){if(hg){for(h=h.memoizedState;h!==null;){var u=h.queue;u!==null&&(u.pending=null),h=h.next}hg=!1}$l=0,vi=ve=Kt=null,Xh=!1,Zf=ug=0,Ih=null}function hn(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Kt.memoizedState=vi=h:vi=vi.next=h,vi}function yi(){if(ve===null){var h=Kt.alternate;h=h!==null?h.memoizedState:null}else h=ve.next;var u=vi===null?Kt.memoizedState:vi.next;if(u!==null)vi=u,ve=h;else{if(h===null)throw Kt.alternate===null?Error(i(467)):Error(i(310));ve=h,h={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},vi===null?Kt.memoizedState=vi=h:vi=vi.next=h}return vi}function fg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vf(h){var u=Zf;return Zf+=1,Ih===null&&(Ih=[]),h=vC(Ih,h,u),u=Kt,(vi===null?u.memoizedState:vi.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?pT:Gy),h}function cg(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Vf(h);if(h.$$typeof===M)return qi(h)}throw Error(i(438,String(h)))}function Ly(h){var u=null,d=Kt.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=Kt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(b){return b.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=fg(),Kt.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(h),g=0;g<h;g++)d[g]=Z;return u.index++,d}function Al(h,u){return typeof u=="function"?u(h):u}function dg(h){var u=yi();return Zy(u,ve,h)}function Zy(h,u,d){var g=h.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var b=h.baseQueue,x=g.pending;if(x!==null){if(b!==null){var C=b.next;b.next=x.next,x.next=C}u.baseQueue=b=x,g.pending=null}if(x=h.baseState,b===null)h.memoizedState=x;else{u=b.next;var _=C=null,Y=null,it=u,at=!1;do{var ft=it.lane&-536870913;if(ft!==it.lane?(ae&ft)===ft:($l&ft)===ft){var rt=it.revertLane;if(rt===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),ft===zh&&(at=!0);else if(($l&rt)===rt){it=it.next,rt===zh&&(at=!0);continue}else ft={lane:0,revertLane:it.revertLane,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Y===null?(_=Y=ft,C=x):Y=Y.next=ft,Kt.lanes|=rt,$o|=rt;ft=it.action,Va&&d(x,ft),x=it.hasEagerState?it.eagerState:d(x,ft)}else rt={lane:ft,revertLane:it.revertLane,gesture:it.gesture,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Y===null?(_=Y=rt,C=x):Y=Y.next=rt,Kt.lanes|=ft,$o|=ft;it=it.next}while(it!==null&&it!==u);if(Y===null?C=x:Y.next=_,!qn(x,h.memoizedState)&&(ki=!0,at&&(d=Nh,d!==null)))throw d;h.memoizedState=x,h.baseState=C,h.baseQueue=Y,g.lastRenderedState=x}return b===null&&(g.lanes=0),[h.memoizedState,g.dispatch]}function Vy(h){var u=yi(),d=u.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=h;var g=d.dispatch,b=d.pending,x=u.memoizedState;if(b!==null){d.pending=null;var C=b=b.next;do x=h(x,C.action),C=C.next;while(C!==b);qn(x,u.memoizedState)||(ki=!0),u.memoizedState=x,u.baseQueue===null&&(u.baseState=x),d.lastRenderedState=x}return[x,g]}function DC(h,u,d){var g=Kt,b=yi(),x=ue;if(x){if(d===void 0)throw Error(i(407));d=d()}else d=u();var C=!qn((ve||b).memoizedState,d);if(C&&(b.memoizedState=d,ki=!0),b=b.queue,jy(zC.bind(null,g,b,h),[h]),b.getSnapshot!==u||C||vi!==null&&vi.memoizedState.tag&1){if(g.flags|=2048,jh(9,{destroy:void 0},_C.bind(null,g,b,d,u),null),Qe===null)throw Error(i(349));x||($l&127)!==0||BC(g,u,d)}return d}function BC(h,u,d){h.flags|=16384,h={getSnapshot:u,value:d},u=Kt.updateQueue,u===null?(u=fg(),Kt.updateQueue=u,u.stores=[h]):(d=u.stores,d===null?u.stores=[h]:d.push(h))}function _C(h,u,d,g){u.value=d,u.getSnapshot=g,NC(u)&&LC(h)}function zC(h,u,d){return d(function(){NC(u)&&LC(h)})}function NC(h){var u=h.getSnapshot;h=h.value;try{var d=u();return!qn(h,d)}catch{return!0}}function LC(h){var u=Ra(h,2);u!==null&&Cn(u,h,2)}function Xy(h){var u=hn();if(typeof h=="function"){var d=h;if(h=d(),Va){pr(!0);try{d()}finally{pr(!1)}}}return u.memoizedState=u.baseState=h,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:h},u}function ZC(h,u,d,g){return h.baseState=d,Zy(h,ve,typeof g=="function"?g:Al)}function $V(h,u,d,g,b){if(mg(h))throw Error(i(485));if(h=u.action,h!==null){var x={payload:b,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};W.T!==null?d(!0):x.isTransition=!1,g(x),d=u.pending,d===null?(x.next=u.pending=x,VC(u,x)):(x.next=d.next,u.pending=d.next=x)}}function VC(h,u){var d=u.action,g=u.payload,b=h.state;if(u.isTransition){var x=W.T,C={};W.T=C;try{var _=d(b,g),Y=W.S;Y!==null&&Y(C,_),XC(h,u,_)}catch(it){Iy(h,u,it)}finally{x!==null&&C.types!==null&&(x.types=C.types),W.T=x}}else try{x=d(b,g),XC(h,u,x)}catch(it){Iy(h,u,it)}}function XC(h,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){IC(h,u,g)},function(g){return Iy(h,u,g)}):IC(h,u,d)}function IC(h,u,d){u.status="fulfilled",u.value=d,jC(u),h.state=d,u=h.pending,u!==null&&(d=u.next,d===u?h.pending=null:(d=d.next,u.next=d,VC(h,d)))}function Iy(h,u,d){var g=h.pending;if(h.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,jC(u),u=u.next;while(u!==g)}h.action=null}function jC(h){h=h.listeners;for(var u=0;u<h.length;u++)(0,h[u])()}function qC(h,u){return u}function WC(h,u){if(ue){var d=Qe.formState;if(d!==null){t:{var g=Kt;if(ue){if(Xe){e:{for(var b=Xe,x=wr;b.nodeType!==8;){if(!x){b=null;break e}if(b=kr(b.nextSibling),b===null){b=null;break e}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){Xe=kr(b.nextSibling),g=b.data==="F!";break t}}mo(g)}g=!1}g&&(u=d[0])}}return d=hn(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qC,lastRenderedState:u},d.queue=g,d=fT.bind(null,Kt,g),g.dispatch=d,g=Xy(!1),x=Uy.bind(null,Kt,!1,g.queue),g=hn(),b={state:u,dispatch:null,action:h,pending:null},g.queue=b,d=$V.bind(null,Kt,b,x,d),b.dispatch=d,g.memoizedState=h,[u,d,!1]}function YC(h){var u=yi();return HC(u,ve,h)}function HC(h,u,d){if(u=Zy(h,u,qC)[0],h=dg(Al)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=Vf(u)}catch(C){throw C===Lh?ng:C}else g=u;u=yi();var b=u.queue,x=b.dispatch;return d!==u.memoizedState&&(Kt.flags|=2048,jh(9,{destroy:void 0},AV.bind(null,b,d),null)),[g,x,h]}function AV(h,u){h.action=u}function UC(h){var u=yi(),d=ve;if(d!==null)return HC(u,d,h);yi(),u=u.memoizedState,d=yi();var g=d.queue.dispatch;return d.memoizedState=h,[u,g,!1]}function jh(h,u,d,g){return h={tag:h,create:d,deps:g,inst:u,next:null},u=Kt.updateQueue,u===null&&(u=fg(),Kt.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=h.next=h:(g=d.next,d.next=h,h.next=g,u.lastEffect=h),h}function GC(){return yi().memoizedState}function pg(h,u,d,g){var b=hn();Kt.flags|=h,b.memoizedState=jh(1|u,{destroy:void 0},d,g===void 0?null:g)}function gg(h,u,d,g){var b=yi();g=g===void 0?null:g;var x=b.memoizedState.inst;ve!==null&&g!==null&&Dy(g,ve.memoizedState.deps)?b.memoizedState=jh(u,x,d,g):(Kt.flags|=h,b.memoizedState=jh(1|u,x,d,g))}function FC(h,u){pg(8390656,8,h,u)}function jy(h,u){gg(2048,8,h,u)}function CV(h){Kt.flags|=4;var u=Kt.updateQueue;if(u===null)u=fg(),Kt.updateQueue=u,u.events=[h];else{var d=u.events;d===null?u.events=[h]:d.push(h)}}function KC(h){var u=yi().memoizedState;return CV({ref:u,nextImpl:h}),function(){if((me&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}function JC(h,u){return gg(4,2,h,u)}function tT(h,u){return gg(4,4,h,u)}function eT(h,u){if(typeof u=="function"){h=h();var d=u(h);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return h=h(),u.current=h,function(){u.current=null}}function iT(h,u,d){d=d!=null?d.concat([h]):null,gg(4,4,eT.bind(null,u,h),d)}function qy(){}function nT(h,u){var d=yi();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&Dy(u,g[1])?g[0]:(d.memoizedState=[h,u],h)}function rT(h,u){var d=yi();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&Dy(u,g[1]))return g[0];if(g=h(),Va){pr(!0);try{h()}finally{pr(!1)}}return d.memoizedState=[g,u],g}function Wy(h,u,d){return d===void 0||($l&1073741824)!==0&&(ae&261930)===0?h.memoizedState=u:(h.memoizedState=d,h=sQ(),Kt.lanes|=h,$o|=h,d)}function sT(h,u,d,g){return qn(d,u)?d:Vh.current!==null?(h=Wy(h,d,g),qn(h,u)||(ki=!0),h):($l&42)===0||($l&1073741824)!==0&&(ae&261930)===0?(ki=!0,h.memoizedState=d):(h=sQ(),Kt.lanes|=h,$o|=h,u)}function lT(h,u,d,g,b){var x=X.p;X.p=x!==0&&8>x?x:8;var C=W.T,_={};W.T=_,Uy(h,!1,u,d);try{var Y=b(),it=W.S;if(it!==null&&it(_,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var at=wV(Y,g);Xf(h,u,at,Fn(h))}else Xf(h,u,g,Fn(h))}catch(ft){Xf(h,u,{then:function(){},status:"rejected",reason:ft},Fn())}finally{X.p=x,C!==null&&_.types!==null&&(C.types=_.types),W.T=C}}function TV(){}function Yy(h,u,d,g){if(h.tag!==5)throw Error(i(476));var b=oT(h).queue;lT(h,b,u,st,d===null?TV:function(){return aT(h),d(g)})}function oT(h){var u=h.memoizedState;if(u!==null)return u;u={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:st},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:d},next:null},h.memoizedState=u,h=h.alternate,h!==null&&(h.memoizedState=u),u}function aT(h){var u=oT(h);u.next===null&&(u=h.alternate.memoizedState),Xf(h,u.next.queue,{},Fn())}function Hy(){return qi(sc)}function hT(){return yi().memoizedState}function uT(){return yi().memoizedState}function QV(h){for(var u=h.return;u!==null;){switch(u.tag){case 24:case 3:var d=Fn();h=bo(d);var g=xo(u,h,d);g!==null&&(Cn(g,u,d),zf(g,u,d)),u={cache:vy()},h.payload=u;return}u=u.return}}function PV(h,u,d){var g=Fn();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},mg(h)?cT(u,d):(d=cy(h,u,d,g),d!==null&&(Cn(d,h,g),dT(d,u,g)))}function fT(h,u,d){var g=Fn();Xf(h,u,d,g)}function Xf(h,u,d,g){var b={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(mg(h))cT(u,b);else{var x=h.alternate;if(h.lanes===0&&(x===null||x.lanes===0)&&(x=u.lastRenderedReducer,x!==null))try{var C=u.lastRenderedState,_=x(C,d);if(b.hasEagerState=!0,b.eagerState=_,qn(_,C))return Gp(h,u,b,0),Qe===null&&Up(),!1}catch{}if(d=cy(h,u,b,g),d!==null)return Cn(d,h,g),dT(d,u,g),!0}return!1}function Uy(h,u,d,g){if(g={lane:2,revertLane:Cb(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},mg(h)){if(u)throw Error(i(479))}else u=cy(h,d,g,2),u!==null&&Cn(u,h,2)}function mg(h){var u=h.alternate;return h===Kt||u!==null&&u===Kt}function cT(h,u){Xh=hg=!0;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}function dT(h,u,d){if((d&4194048)!==0){var g=u.lanes;g&=h.pendingLanes,d|=g,u.lanes=d,yA(h,d)}}var If={readContext:qi,use:cg,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useInsertionEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useSyncExternalStore:ui,useId:ui,useHostTransitionStatus:ui,useFormState:ui,useActionState:ui,useOptimistic:ui,useMemoCache:ui,useCacheRefresh:ui};If.useEffectEvent=ui;var pT={readContext:qi,use:cg,useCallback:function(h,u){return hn().memoizedState=[h,u===void 0?null:u],h},useContext:qi,useEffect:FC,useImperativeHandle:function(h,u,d){d=d!=null?d.concat([h]):null,pg(4194308,4,eT.bind(null,u,h),d)},useLayoutEffect:function(h,u){return pg(4194308,4,h,u)},useInsertionEffect:function(h,u){pg(4,2,h,u)},useMemo:function(h,u){var d=hn();u=u===void 0?null:u;var g=h();if(Va){pr(!0);try{h()}finally{pr(!1)}}return d.memoizedState=[g,u],g},useReducer:function(h,u,d){var g=hn();if(d!==void 0){var b=d(u);if(Va){pr(!0);try{d(u)}finally{pr(!1)}}}else b=u;return g.memoizedState=g.baseState=b,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:b},g.queue=h,h=h.dispatch=PV.bind(null,Kt,h),[g.memoizedState,h]},useRef:function(h){var u=hn();return h={current:h},u.memoizedState=h},useState:function(h){h=Xy(h);var u=h.queue,d=fT.bind(null,Kt,u);return u.dispatch=d,[h.memoizedState,d]},useDebugValue:qy,useDeferredValue:function(h,u){var d=hn();return Wy(d,h,u)},useTransition:function(){var h=Xy(!1);return h=lT.bind(null,Kt,h.queue,!0,!1),hn().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,u,d){var g=Kt,b=hn();if(ue){if(d===void 0)throw Error(i(407));d=d()}else{if(d=u(),Qe===null)throw Error(i(349));(ae&127)!==0||BC(g,u,d)}b.memoizedState=d;var x={value:d,getSnapshot:u};return b.queue=x,FC(zC.bind(null,g,x,h),[h]),g.flags|=2048,jh(9,{destroy:void 0},_C.bind(null,g,x,d,u),null),d},useId:function(){var h=hn(),u=Qe.identifierPrefix;if(ue){var d=os,g=ls;d=(g&~(1<<32-ii(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=ug++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=vV++,u="_"+u+"r_"+d.toString(32)+"_";return h.memoizedState=u},useHostTransitionStatus:Hy,useFormState:WC,useActionState:WC,useOptimistic:function(h){var u=hn();u.memoizedState=u.baseState=h;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=Uy.bind(null,Kt,!0,d),d.dispatch=u,[h,u]},useMemoCache:Ly,useCacheRefresh:function(){return hn().memoizedState=QV.bind(null,Kt)},useEffectEvent:function(h){var u=hn(),d={impl:h};return u.memoizedState=d,function(){if((me&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}},Gy={readContext:qi,use:cg,useCallback:nT,useContext:qi,useEffect:jy,useImperativeHandle:iT,useInsertionEffect:JC,useLayoutEffect:tT,useMemo:rT,useReducer:dg,useRef:GC,useState:function(){return dg(Al)},useDebugValue:qy,useDeferredValue:function(h,u){var d=yi();return sT(d,ve.memoizedState,h,u)},useTransition:function(){var h=dg(Al)[0],u=yi().memoizedState;return[typeof h=="boolean"?h:Vf(h),u]},useSyncExternalStore:DC,useId:hT,useHostTransitionStatus:Hy,useFormState:YC,useActionState:YC,useOptimistic:function(h,u){var d=yi();return ZC(d,ve,h,u)},useMemoCache:Ly,useCacheRefresh:uT};Gy.useEffectEvent=KC;var gT={readContext:qi,use:cg,useCallback:nT,useContext:qi,useEffect:jy,useImperativeHandle:iT,useInsertionEffect:JC,useLayoutEffect:tT,useMemo:rT,useReducer:Vy,useRef:GC,useState:function(){return Vy(Al)},useDebugValue:qy,useDeferredValue:function(h,u){var d=yi();return ve===null?Wy(d,h,u):sT(d,ve.memoizedState,h,u)},useTransition:function(){var h=Vy(Al)[0],u=yi().memoizedState;return[typeof h=="boolean"?h:Vf(h),u]},useSyncExternalStore:DC,useId:hT,useHostTransitionStatus:Hy,useFormState:UC,useActionState:UC,useOptimistic:function(h,u){var d=yi();return ve!==null?ZC(d,ve,h,u):(d.baseState=h,[h,d.queue.dispatch])},useMemoCache:Ly,useCacheRefresh:uT};gT.useEffectEvent=KC;function Fy(h,u,d,g){u=h.memoizedState,d=d(g,u),d=d==null?u:p({},u,d),h.memoizedState=d,h.lanes===0&&(h.updateQueue.baseState=d)}var Ky={enqueueSetState:function(h,u,d){h=h._reactInternals;var g=Fn(),b=bo(g);b.payload=u,d!=null&&(b.callback=d),u=xo(h,b,g),u!==null&&(Cn(u,h,g),zf(u,h,g))},enqueueReplaceState:function(h,u,d){h=h._reactInternals;var g=Fn(),b=bo(g);b.tag=1,b.payload=u,d!=null&&(b.callback=d),u=xo(h,b,g),u!==null&&(Cn(u,h,g),zf(u,h,g))},enqueueForceUpdate:function(h,u){h=h._reactInternals;var d=Fn(),g=bo(d);g.tag=2,u!=null&&(g.callback=u),u=xo(h,g,d),u!==null&&(Cn(u,h,d),zf(u,h,d))}};function mT(h,u,d,g,b,x,C){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(g,x,C):u.prototype&&u.prototype.isPureReactComponent?!Qf(d,g)||!Qf(b,x):!0}function OT(h,u,d,g){h=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==h&&Ky.enqueueReplaceState(u,u.state,null)}function Xa(h,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(h=h.defaultProps){d===u&&(d=p({},d));for(var b in h)d[b]===void 0&&(d[b]=h[b])}return d}function yT(h){Hp(h)}function bT(h){console.error(h)}function xT(h){Hp(h)}function Og(h,u){try{var d=h.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function ST(h,u,d){try{var g=h.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Jy(h,u,d){return d=bo(d),d.tag=3,d.payload={element:null},d.callback=function(){Og(h,u)},d}function wT(h){return h=bo(h),h.tag=3,h}function vT(h,u,d,g){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var x=g.value;h.payload=function(){return b(x)},h.callback=function(){ST(u,d,g)}}var C=d.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(h.callback=function(){ST(u,d,g),typeof b!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var _=g.stack;this.componentDidCatch(g.value,{componentStack:_!==null?_:""})})}function MV(h,u,d,g,b){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&_h(u,d,b,!0),d=Yn.current,d!==null){switch(d.tag){case 31:case 13:return vr===null?Qg():d.alternate===null&&fi===0&&(fi=3),d.flags&=-257,d.flags|=65536,d.lanes=b,g===rg?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),kb(h,g,b)),!1;case 22:return d.flags|=65536,g===rg?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),kb(h,g,b)),!1}throw Error(i(435,d.tag))}return kb(h,g,b),Qg(),!1}if(ue)return u=Yn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=b,g!==yy&&(h=Error(i(422),{cause:g}),Rf(br(h,d)))):(g!==yy&&(u=Error(i(423),{cause:g}),Rf(br(u,d))),h=h.current.alternate,h.flags|=65536,b&=-b,h.lanes|=b,g=br(g,d),b=Jy(h.stateNode,g,b),Qy(h,b),fi!==4&&(fi=2)),!1;var x=Error(i(520),{cause:g});if(x=br(x,d),Ff===null?Ff=[x]:Ff.push(x),fi!==4&&(fi=2),u===null)return!0;g=br(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,h=b&-b,d.lanes|=h,h=Jy(d.stateNode,g,h),Qy(d,h),!1;case 1:if(u=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ao===null||!Ao.has(x))))return d.flags|=65536,b&=-b,d.lanes|=b,b=wT(b),vT(b,h,d,g),Qy(d,b),!1}d=d.return}while(d!==null);return!1}var tb=Error(i(461)),ki=!1;function Wi(h,u,d,g){u.child=h===null?CC(u,null,d,g):Za(u,h.child,d,g)}function kT(h,u,d,g,b){d=d.render;var x=u.ref;if("ref"in g){var C={};for(var _ in g)_!=="ref"&&(C[_]=g[_])}else C=g;return _a(u),g=By(h,u,d,C,x,b),_=_y(),h!==null&&!ki?(zy(h,u,b),Cl(h,u,b)):(ue&&_&&my(u),u.flags|=1,Wi(h,u,g,b),u.child)}function $T(h,u,d,g,b){if(h===null){var x=d.type;return typeof x=="function"&&!dy(x)&&x.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=x,AT(h,u,x,g,b)):(h=Kp(d.type,null,g,u,u.mode,b),h.ref=u.ref,h.return=u,u.child=h)}if(x=h.child,!ab(h,b)){var C=x.memoizedProps;if(d=d.compare,d=d!==null?d:Qf,d(C,g)&&h.ref===u.ref)return Cl(h,u,b)}return u.flags|=1,h=Sl(x,g),h.ref=u.ref,h.return=u,u.child=h}function AT(h,u,d,g,b){if(h!==null){var x=h.memoizedProps;if(Qf(x,g)&&h.ref===u.ref)if(ki=!1,u.pendingProps=g=x,ab(h,b))(h.flags&131072)!==0&&(ki=!0);else return u.lanes=h.lanes,Cl(h,u,b)}return eb(h,u,d,g,b)}function CT(h,u,d,g){var b=g.children,x=h!==null?h.memoizedState:null;if(h===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(x=x!==null?x.baseLanes|d:d,h!==null){for(g=u.child=h.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~x}else g=0,u.child=null;return TT(h,u,x,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},h!==null&&ig(u,x!==null?x.cachePool:null),x!==null?PC(u,x):My(),MC(u);else return g=u.lanes=536870912,TT(h,u,x!==null?x.baseLanes|d:d,d,g)}else x!==null?(ig(u,x.cachePool),PC(u,x),wo(),u.memoizedState=null):(h!==null&&ig(u,null),My(),wo());return Wi(h,u,b,d),u.child}function jf(h,u){return h!==null&&h.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function TT(h,u,d,g,b){var x=$y();return x=x===null?null:{parent:wi._currentValue,pool:x},u.memoizedState={baseLanes:d,cachePool:x},h!==null&&ig(u,null),My(),MC(u),h!==null&&_h(h,u,g,!0),u.childLanes=b,null}function yg(h,u){return u=xg({mode:u.mode,children:u.children},h.mode),u.ref=h.ref,h.child=u,u.return=h,u}function QT(h,u,d){return Za(u,h.child,null,d),h=yg(u,u.pendingProps),h.flags|=2,Hn(u),u.memoizedState=null,h}function RV(h,u,d){var g=u.pendingProps,b=(u.flags&128)!==0;if(u.flags&=-129,h===null){if(ue){if(g.mode==="hidden")return h=yg(u,g),u.lanes=536870912,jf(null,h);if(Ey(u),(h=Xe)?(h=VQ(h,wr),h=h!==null&&h.data==="&"?h:null,h!==null&&(u.memoizedState={dehydrated:h,treeContext:po!==null?{id:ls,overflow:os}:null,retryLane:536870912,hydrationErrors:null},d=cC(h),d.return=u,u.child=d,ji=u,Xe=null)):h=null,h===null)throw mo(u);return u.lanes=536870912,null}return yg(u,g)}var x=h.memoizedState;if(x!==null){var C=x.dehydrated;if(Ey(u),b)if(u.flags&256)u.flags&=-257,u=QT(h,u,d);else if(u.memoizedState!==null)u.child=h.child,u.flags|=128,u=null;else throw Error(i(558));else if(ki||_h(h,u,d,!1),b=(d&h.childLanes)!==0,ki||b){if(g=Qe,g!==null&&(C=bA(g,d),C!==0&&C!==x.retryLane))throw x.retryLane=C,Ra(h,C),Cn(g,h,C),tb;Qg(),u=QT(h,u,d)}else h=x.treeContext,Xe=kr(C.nextSibling),ji=u,ue=!0,go=null,wr=!1,h!==null&&gC(u,h),u=yg(u,g),u.flags|=4096;return u}return h=Sl(h.child,{mode:g.mode,children:g.children}),h.ref=u.ref,u.child=h,h.return=u,h}function bg(h,u){var d=u.ref;if(d===null)h!==null&&h.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(h===null||h.ref!==d)&&(u.flags|=4194816)}}function eb(h,u,d,g,b){return _a(u),d=By(h,u,d,g,void 0,b),g=_y(),h!==null&&!ki?(zy(h,u,b),Cl(h,u,b)):(ue&&g&&my(u),u.flags|=1,Wi(h,u,d,b),u.child)}function PT(h,u,d,g,b,x){return _a(u),u.updateQueue=null,d=EC(u,g,d,b),RC(h),g=_y(),h!==null&&!ki?(zy(h,u,x),Cl(h,u,x)):(ue&&g&&my(u),u.flags|=1,Wi(h,u,d,x),u.child)}function MT(h,u,d,g,b){if(_a(u),u.stateNode===null){var x=Rh,C=d.contextType;typeof C=="object"&&C!==null&&(x=qi(C)),x=new d(g,x),u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ky,u.stateNode=x,x._reactInternals=u,x=u.stateNode,x.props=g,x.state=u.memoizedState,x.refs={},Cy(u),C=d.contextType,x.context=typeof C=="object"&&C!==null?qi(C):Rh,x.state=u.memoizedState,C=d.getDerivedStateFromProps,typeof C=="function"&&(Fy(u,d,C,g),x.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&Ky.enqueueReplaceState(x,x.state,null),Lf(u,g,x,b),Nf(),x.state=u.memoizedState),typeof x.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(h===null){x=u.stateNode;var _=u.memoizedProps,Y=Xa(d,_);x.props=Y;var it=x.context,at=d.contextType;C=Rh,typeof at=="object"&&at!==null&&(C=qi(at));var ft=d.getDerivedStateFromProps;at=typeof ft=="function"||typeof x.getSnapshotBeforeUpdate=="function",_=u.pendingProps!==_,at||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_||it!==C)&&OT(u,x,g,C),yo=!1;var rt=u.memoizedState;x.state=rt,Lf(u,g,x,b),Nf(),it=u.memoizedState,_||rt!==it||yo?(typeof ft=="function"&&(Fy(u,d,ft,g),it=u.memoizedState),(Y=yo||mT(u,d,Y,g,rt,it,C))?(at||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(u.flags|=4194308)):(typeof x.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=it),x.props=g,x.state=it,x.context=C,g=Y):(typeof x.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{x=u.stateNode,Ty(h,u),C=u.memoizedProps,at=Xa(d,C),x.props=at,ft=u.pendingProps,rt=x.context,it=d.contextType,Y=Rh,typeof it=="object"&&it!==null&&(Y=qi(it)),_=d.getDerivedStateFromProps,(it=typeof _=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==ft||rt!==Y)&&OT(u,x,g,Y),yo=!1,rt=u.memoizedState,x.state=rt,Lf(u,g,x,b),Nf();var lt=u.memoizedState;C!==ft||rt!==lt||yo||h!==null&&h.dependencies!==null&&tg(h.dependencies)?(typeof _=="function"&&(Fy(u,d,_,g),lt=u.memoizedState),(at=yo||mT(u,d,at,g,rt,lt,Y)||h!==null&&h.dependencies!==null&&tg(h.dependencies))?(it||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(g,lt,Y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(g,lt,Y)),typeof x.componentDidUpdate=="function"&&(u.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===h.memoizedProps&&rt===h.memoizedState||(u.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===h.memoizedProps&&rt===h.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=lt),x.props=g,x.state=lt,x.context=Y,g=at):(typeof x.componentDidUpdate!="function"||C===h.memoizedProps&&rt===h.memoizedState||(u.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===h.memoizedProps&&rt===h.memoizedState||(u.flags|=1024),g=!1)}return x=g,bg(h,u),g=(u.flags&128)!==0,x||g?(x=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:x.render(),u.flags|=1,h!==null&&g?(u.child=Za(u,h.child,null,b),u.child=Za(u,null,d,b)):Wi(h,u,d,b),u.memoizedState=x.state,h=u.child):h=Cl(h,u,b),h}function RT(h,u,d,g){return Da(),u.flags|=256,Wi(h,u,d,g),u.child}var ib={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nb(h){return{baseLanes:h,cachePool:SC()}}function rb(h,u,d){return h=h!==null?h.childLanes&~d:0,u&&(h|=Gn),h}function ET(h,u,d){var g=u.pendingProps,b=!1,x=(u.flags&128)!==0,C;if((C=x)||(C=h!==null&&h.memoizedState===null?!1:(Oi.current&2)!==0),C&&(b=!0,u.flags&=-129),C=(u.flags&32)!==0,u.flags&=-33,h===null){if(ue){if(b?So(u):wo(),(h=Xe)?(h=VQ(h,wr),h=h!==null&&h.data!=="&"?h:null,h!==null&&(u.memoizedState={dehydrated:h,treeContext:po!==null?{id:ls,overflow:os}:null,retryLane:536870912,hydrationErrors:null},d=cC(h),d.return=u,u.child=d,ji=u,Xe=null)):h=null,h===null)throw mo(u);return Zb(h)?u.lanes=32:u.lanes=536870912,null}var _=g.children;return g=g.fallback,b?(wo(),b=u.mode,_=xg({mode:"hidden",children:_},b),g=Ea(g,b,d,null),_.return=u,g.return=u,_.sibling=g,u.child=_,g=u.child,g.memoizedState=nb(d),g.childLanes=rb(h,C,d),u.memoizedState=ib,jf(null,g)):(So(u),sb(u,_))}var Y=h.memoizedState;if(Y!==null&&(_=Y.dehydrated,_!==null)){if(x)u.flags&256?(So(u),u.flags&=-257,u=lb(h,u,d)):u.memoizedState!==null?(wo(),u.child=h.child,u.flags|=128,u=null):(wo(),_=g.fallback,b=u.mode,g=xg({mode:"visible",children:g.children},b),_=Ea(_,b,d,null),_.flags|=2,g.return=u,_.return=u,g.sibling=_,u.child=g,Za(u,h.child,null,d),g=u.child,g.memoizedState=nb(d),g.childLanes=rb(h,C,d),u.memoizedState=ib,u=jf(null,g));else if(So(u),Zb(_)){if(C=_.nextSibling&&_.nextSibling.dataset,C)var it=C.dgst;C=it,g=Error(i(419)),g.stack="",g.digest=C,Rf({value:g,source:null,stack:null}),u=lb(h,u,d)}else if(ki||_h(h,u,d,!1),C=(d&h.childLanes)!==0,ki||C){if(C=Qe,C!==null&&(g=bA(C,d),g!==0&&g!==Y.retryLane))throw Y.retryLane=g,Ra(h,g),Cn(C,h,g),tb;Lb(_)||Qg(),u=lb(h,u,d)}else Lb(_)?(u.flags|=192,u.child=h.child,u=null):(h=Y.treeContext,Xe=kr(_.nextSibling),ji=u,ue=!0,go=null,wr=!1,h!==null&&gC(u,h),u=sb(u,g.children),u.flags|=4096);return u}return b?(wo(),_=g.fallback,b=u.mode,Y=h.child,it=Y.sibling,g=Sl(Y,{mode:"hidden",children:g.children}),g.subtreeFlags=Y.subtreeFlags&65011712,it!==null?_=Sl(it,_):(_=Ea(_,b,d,null),_.flags|=2),_.return=u,g.return=u,g.sibling=_,u.child=g,jf(null,g),g=u.child,_=h.child.memoizedState,_===null?_=nb(d):(b=_.cachePool,b!==null?(Y=wi._currentValue,b=b.parent!==Y?{parent:Y,pool:Y}:b):b=SC(),_={baseLanes:_.baseLanes|d,cachePool:b}),g.memoizedState=_,g.childLanes=rb(h,C,d),u.memoizedState=ib,jf(h.child,g)):(So(u),d=h.child,h=d.sibling,d=Sl(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,h!==null&&(C=u.deletions,C===null?(u.deletions=[h],u.flags|=16):C.push(h)),u.child=d,u.memoizedState=null,d)}function sb(h,u){return u=xg({mode:"visible",children:u},h.mode),u.return=h,h.child=u}function xg(h,u){return h=Wn(22,h,null,u),h.lanes=0,h}function lb(h,u,d){return Za(u,h.child,null,d),h=sb(u,u.pendingProps.children),h.flags|=2,u.memoizedState=null,h}function DT(h,u,d){h.lanes|=u;var g=h.alternate;g!==null&&(g.lanes|=u),Sy(h.return,u,d)}function ob(h,u,d,g,b,x){var C=h.memoizedState;C===null?h.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b,treeForkCount:x}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=d,C.tailMode=b,C.treeForkCount=x)}function BT(h,u,d){var g=u.pendingProps,b=g.revealOrder,x=g.tail;g=g.children;var C=Oi.current,_=(C&2)!==0;if(_?(C=C&1|2,u.flags|=128):C&=1,H(Oi,C),Wi(h,u,g,d),g=ue?Mf:0,!_&&h!==null&&(h.flags&128)!==0)t:for(h=u.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&DT(h,d,u);else if(h.tag===19)DT(h,d,u);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break t;for(;h.sibling===null;){if(h.return===null||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(b){case"forwards":for(d=u.child,b=null;d!==null;)h=d.alternate,h!==null&&ag(h)===null&&(b=d),d=d.sibling;d=b,d===null?(b=u.child,u.child=null):(b=d.sibling,d.sibling=null),ob(u,!1,b,d,x,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=u.child,u.child=null;b!==null;){if(h=b.alternate,h!==null&&ag(h)===null){u.child=b;break}h=b.sibling,b.sibling=d,d=b,b=h}ob(u,!0,d,null,x,g);break;case"together":ob(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Cl(h,u,d){if(h!==null&&(u.dependencies=h.dependencies),$o|=u.lanes,(d&u.childLanes)===0)if(h!==null){if(_h(h,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(h!==null&&u.child!==h.child)throw Error(i(153));if(u.child!==null){for(h=u.child,d=Sl(h,h.pendingProps),u.child=d,d.return=u;h.sibling!==null;)h=h.sibling,d=d.sibling=Sl(h,h.pendingProps),d.return=u;d.sibling=null}return u.child}function ab(h,u){return(h.lanes&u)!==0?!0:(h=h.dependencies,!!(h!==null&&tg(h)))}function EV(h,u,d){switch(u.tag){case 3:Ut(u,u.stateNode.containerInfo),Oo(u,wi,h.memoizedState.cache),Da();break;case 27:case 5:Je(u);break;case 4:Ut(u,u.stateNode.containerInfo);break;case 10:Oo(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Ey(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(So(u),u.flags|=128,null):(d&u.child.childLanes)!==0?ET(h,u,d):(So(u),h=Cl(h,u,d),h!==null?h.sibling:null);So(u);break;case 19:var b=(h.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(_h(h,u,d,!1),g=(d&u.childLanes)!==0),b){if(g)return BT(h,u,d);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),H(Oi,Oi.current),g)break;return null;case 22:return u.lanes=0,CT(h,u,d,u.pendingProps);case 24:Oo(u,wi,h.memoizedState.cache)}return Cl(h,u,d)}function _T(h,u,d){if(h!==null)if(h.memoizedProps!==u.pendingProps)ki=!0;else{if(!ab(h,d)&&(u.flags&128)===0)return ki=!1,EV(h,u,d);ki=(h.flags&131072)!==0}else ki=!1,ue&&(u.flags&1048576)!==0&&pC(u,Mf,u.index);switch(u.lanes=0,u.tag){case 16:t:{var g=u.pendingProps;if(h=Na(u.elementType),u.type=h,typeof h=="function")dy(h)?(g=Xa(h,g),u.tag=1,u=MT(null,u,h,g,d)):(u.tag=0,u=eb(null,u,h,g,d));else{if(h!=null){var b=h.$$typeof;if(b===N){u.tag=11,u=kT(null,u,h,g,d);break t}else if(b===A){u.tag=14,u=$T(null,u,h,g,d);break t}}throw u=$(h)||h,Error(i(306,u,""))}}return u;case 0:return eb(h,u,u.type,u.pendingProps,d);case 1:return g=u.type,b=Xa(g,u.pendingProps),MT(h,u,g,b,d);case 3:t:{if(Ut(u,u.stateNode.containerInfo),h===null)throw Error(i(387));g=u.pendingProps;var x=u.memoizedState;b=x.element,Ty(h,u),Lf(u,g,null,d);var C=u.memoizedState;if(g=C.cache,Oo(u,wi,g),g!==x.cache&&wy(u,[wi],d,!0),Nf(),g=C.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:C.cache},u.updateQueue.baseState=x,u.memoizedState=x,u.flags&256){u=RT(h,u,g,d);break t}else if(g!==b){b=br(Error(i(424)),u),Rf(b),u=RT(h,u,g,d);break t}else for(h=u.stateNode.containerInfo,h.nodeType===9?h=h.body:h=h.nodeName==="HTML"?h.ownerDocument.body:h,Xe=kr(h.firstChild),ji=u,ue=!0,go=null,wr=!0,d=CC(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Da(),g===b){u=Cl(h,u,d);break t}Wi(h,u,g,d)}u=u.child}return u;case 26:return bg(h,u),h===null?(d=YQ(u.type,null,u.pendingProps,null))?u.memoizedState=d:ue||(d=u.type,h=u.pendingProps,g=_g(mt.current).createElement(d),g[Ii]=u,g[Sn]=h,Yi(g,d,h),zi(g),u.stateNode=g):u.memoizedState=YQ(u.type,h.memoizedProps,u.pendingProps,h.memoizedState),null;case 27:return Je(u),h===null&&ue&&(g=u.stateNode=jQ(u.type,u.pendingProps,mt.current),ji=u,wr=!0,b=Xe,Po(u.type)?(Vb=b,Xe=kr(g.firstChild)):Xe=b),Wi(h,u,u.pendingProps.children,d),bg(h,u),h===null&&(u.flags|=4194304),u.child;case 5:return h===null&&ue&&((b=g=Xe)&&(g=hX(g,u.type,u.pendingProps,wr),g!==null?(u.stateNode=g,ji=u,Xe=kr(g.firstChild),wr=!1,b=!0):b=!1),b||mo(u)),Je(u),b=u.type,x=u.pendingProps,C=h!==null?h.memoizedProps:null,g=x.children,_b(b,x)?g=null:C!==null&&_b(b,C)&&(u.flags|=32),u.memoizedState!==null&&(b=By(h,u,kV,null,null,d),sc._currentValue=b),bg(h,u),Wi(h,u,g,d),u.child;case 6:return h===null&&ue&&((h=d=Xe)&&(d=uX(d,u.pendingProps,wr),d!==null?(u.stateNode=d,ji=u,Xe=null,h=!0):h=!1),h||mo(u)),null;case 13:return ET(h,u,d);case 4:return Ut(u,u.stateNode.containerInfo),g=u.pendingProps,h===null?u.child=Za(u,null,g,d):Wi(h,u,g,d),u.child;case 11:return kT(h,u,u.type,u.pendingProps,d);case 7:return Wi(h,u,u.pendingProps,d),u.child;case 8:return Wi(h,u,u.pendingProps.children,d),u.child;case 12:return Wi(h,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,Oo(u,u.type,g.value),Wi(h,u,g.children,d),u.child;case 9:return b=u.type._context,g=u.pendingProps.children,_a(u),b=qi(b),g=g(b),u.flags|=1,Wi(h,u,g,d),u.child;case 14:return $T(h,u,u.type,u.pendingProps,d);case 15:return AT(h,u,u.type,u.pendingProps,d);case 19:return BT(h,u,d);case 31:return RV(h,u,d);case 22:return CT(h,u,d,u.pendingProps);case 24:return _a(u),g=qi(wi),h===null?(b=$y(),b===null&&(b=Qe,x=vy(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=d),b=x),u.memoizedState={parent:g,cache:b},Cy(u),Oo(u,wi,b)):((h.lanes&d)!==0&&(Ty(h,u),Lf(u,null,null,d),Nf()),b=h.memoizedState,x=u.memoizedState,b.parent!==g?(b={parent:g,cache:g},u.memoizedState=b,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=b),Oo(u,wi,g)):(g=x.cache,Oo(u,wi,g),g!==b.cache&&wy(u,[wi],d,!0))),Wi(h,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Tl(h){h.flags|=4}function hb(h,u,d,g,b){if((u=(h.mode&32)!==0)&&(u=!1),u){if(h.flags|=16777216,(b&335544128)===b)if(h.stateNode.complete)h.flags|=8192;else if(hQ())h.flags|=8192;else throw La=rg,Ay}else h.flags&=-16777217}function zT(h,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!KQ(u))if(hQ())h.flags|=8192;else throw La=rg,Ay}function Sg(h,u){u!==null&&(h.flags|=4),h.flags&16384&&(u=h.tag!==22?mA():536870912,h.lanes|=u,Hh|=u)}function qf(h,u){if(!ue)switch(h.tailMode){case"hidden":u=h.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?h.tail=null:d.sibling=null;break;case"collapsed":d=h.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||h.tail===null?h.tail=null:h.tail.sibling=null:g.sibling=null}}function Ie(h){var u=h.alternate!==null&&h.alternate.child===h.child,d=0,g=0;if(u)for(var b=h.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=h,b=b.sibling;else for(b=h.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=h,b=b.sibling;return h.subtreeFlags|=g,h.childLanes=d,u}function DV(h,u,d){var g=u.pendingProps;switch(Oy(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(u),null;case 1:return Ie(u),null;case 3:return d=u.stateNode,g=null,h!==null&&(g=h.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),kl(wi),qt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(h===null||h.child===null)&&(Bh(u)?Tl(u):h===null||h.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,by())),Ie(u),null;case 26:var b=u.type,x=u.memoizedState;return h===null?(Tl(u),x!==null?(Ie(u),zT(u,x)):(Ie(u),hb(u,b,null,g,d))):x?x!==h.memoizedState?(Tl(u),Ie(u),zT(u,x)):(Ie(u),u.flags&=-16777217):(h=h.memoizedProps,h!==g&&Tl(u),Ie(u),hb(u,b,h,g,d)),null;case 27:if(ze(u),d=mt.current,b=u.type,h!==null&&u.stateNode!=null)h.memoizedProps!==g&&Tl(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return Ie(u),null}h=G.current,Bh(u)?mC(u):(h=jQ(b,g,d),u.stateNode=h,Tl(u))}return Ie(u),null;case 5:if(ze(u),b=u.type,h!==null&&u.stateNode!=null)h.memoizedProps!==g&&Tl(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return Ie(u),null}if(x=G.current,Bh(u))mC(u);else{var C=_g(mt.current);switch(x){case 1:x=C.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=C.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=C.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=C.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=C.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof g.is=="string"?C.createElement("select",{is:g.is}):C.createElement("select"),g.multiple?x.multiple=!0:g.size&&(x.size=g.size);break;default:x=typeof g.is=="string"?C.createElement(b,{is:g.is}):C.createElement(b)}}x[Ii]=u,x[Sn]=g;t:for(C=u.child;C!==null;){if(C.tag===5||C.tag===6)x.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===u)break t;for(;C.sibling===null;){if(C.return===null||C.return===u)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}u.stateNode=x;t:switch(Yi(x,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}g&&Tl(u)}}return Ie(u),hb(u,u.type,h===null?null:h.memoizedProps,u.pendingProps,d),null;case 6:if(h&&u.stateNode!=null)h.memoizedProps!==g&&Tl(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(i(166));if(h=mt.current,Bh(u)){if(h=u.stateNode,d=u.memoizedProps,g=null,b=ji,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}h[Ii]=u,h=!!(h.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||EQ(h.nodeValue,d)),h||mo(u,!0)}else h=_g(h).createTextNode(g),h[Ii]=u,u.stateNode=h}return Ie(u),null;case 31:if(d=u.memoizedState,h===null||h.memoizedState!==null){if(g=Bh(u),d!==null){if(h===null){if(!g)throw Error(i(318));if(h=u.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(557));h[Ii]=u}else Da(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ie(u),h=!1}else d=by(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=d),h=!0;if(!h)return u.flags&256?(Hn(u),u):(Hn(u),null);if((u.flags&128)!==0)throw Error(i(558))}return Ie(u),null;case 13:if(g=u.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(b=Bh(u),g!==null&&g.dehydrated!==null){if(h===null){if(!b)throw Error(i(318));if(b=u.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Ii]=u}else Da(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ie(u),b=!1}else b=by(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=b),b=!0;if(!b)return u.flags&256?(Hn(u),u):(Hn(u),null)}return Hn(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,h=h!==null&&h.memoizedState!==null,d&&(g=u.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),x=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(x=g.memoizedState.cachePool.pool),x!==b&&(g.flags|=2048)),d!==h&&d&&(u.child.flags|=8192),Sg(u,u.updateQueue),Ie(u),null);case 4:return qt(),h===null&&Mb(u.stateNode.containerInfo),Ie(u),null;case 10:return kl(u.type),Ie(u),null;case 19:if(B(Oi),g=u.memoizedState,g===null)return Ie(u),null;if(b=(u.flags&128)!==0,x=g.rendering,x===null)if(b)qf(g,!1);else{if(fi!==0||h!==null&&(h.flags&128)!==0)for(h=u.child;h!==null;){if(x=ag(h),x!==null){for(u.flags|=128,qf(g,!1),h=x.updateQueue,u.updateQueue=h,Sg(u,h),u.subtreeFlags=0,h=d,d=u.child;d!==null;)fC(d,h),d=d.sibling;return H(Oi,Oi.current&1|2),ue&&wl(u,g.treeForkCount),u.child}h=h.sibling}g.tail!==null&&xt()>Ag&&(u.flags|=128,b=!0,qf(g,!1),u.lanes=4194304)}else{if(!b)if(h=ag(x),h!==null){if(u.flags|=128,b=!0,h=h.updateQueue,u.updateQueue=h,Sg(u,h),qf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!ue)return Ie(u),null}else 2*xt()-g.renderingStartTime>Ag&&d!==536870912&&(u.flags|=128,b=!0,qf(g,!1),u.lanes=4194304);g.isBackwards?(x.sibling=u.child,u.child=x):(h=g.last,h!==null?h.sibling=x:u.child=x,g.last=x)}return g.tail!==null?(h=g.tail,g.rendering=h,g.tail=h.sibling,g.renderingStartTime=xt(),h.sibling=null,d=Oi.current,H(Oi,b?d&1|2:d&1),ue&&wl(u,g.treeForkCount),h):(Ie(u),null);case 22:case 23:return Hn(u),Ry(),g=u.memoizedState!==null,h!==null?h.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(Ie(u),u.subtreeFlags&6&&(u.flags|=8192)):Ie(u),d=u.updateQueue,d!==null&&Sg(u,d.retryQueue),d=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),h!==null&&B(za),null;case 24:return d=null,h!==null&&(d=h.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),kl(wi),Ie(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function BV(h,u){switch(Oy(u),u.tag){case 1:return h=u.flags,h&65536?(u.flags=h&-65537|128,u):null;case 3:return kl(wi),qt(),h=u.flags,(h&65536)!==0&&(h&128)===0?(u.flags=h&-65537|128,u):null;case 26:case 27:case 5:return ze(u),null;case 31:if(u.memoizedState!==null){if(Hn(u),u.alternate===null)throw Error(i(340));Da()}return h=u.flags,h&65536?(u.flags=h&-65537|128,u):null;case 13:if(Hn(u),h=u.memoizedState,h!==null&&h.dehydrated!==null){if(u.alternate===null)throw Error(i(340));Da()}return h=u.flags,h&65536?(u.flags=h&-65537|128,u):null;case 19:return B(Oi),null;case 4:return qt(),null;case 10:return kl(u.type),null;case 22:case 23:return Hn(u),Ry(),h!==null&&B(za),h=u.flags,h&65536?(u.flags=h&-65537|128,u):null;case 24:return kl(wi),null;case 25:return null;default:return null}}function NT(h,u){switch(Oy(u),u.tag){case 3:kl(wi),qt();break;case 26:case 27:case 5:ze(u);break;case 4:qt();break;case 31:u.memoizedState!==null&&Hn(u);break;case 13:Hn(u);break;case 19:B(Oi);break;case 10:kl(u.type);break;case 22:case 23:Hn(u),Ry(),h!==null&&B(za);break;case 24:kl(wi)}}function Wf(h,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&h)===h){g=void 0;var x=d.create,C=d.inst;g=x(),C.destroy=g}d=d.next}while(d!==b)}}catch(_){Se(u,u.return,_)}}function vo(h,u,d){try{var g=u.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var x=b.next;g=x;do{if((g.tag&h)===h){var C=g.inst,_=C.destroy;if(_!==void 0){C.destroy=void 0,b=u;var Y=d,it=_;try{it()}catch(at){Se(b,Y,at)}}}g=g.next}while(g!==x)}}catch(at){Se(u,u.return,at)}}function LT(h){var u=h.updateQueue;if(u!==null){var d=h.stateNode;try{QC(u,d)}catch(g){Se(h,h.return,g)}}}function ZT(h,u,d){d.props=Xa(h.type,h.memoizedProps),d.state=h.memoizedState;try{d.componentWillUnmount()}catch(g){Se(h,u,g)}}function Yf(h,u){try{var d=h.ref;if(d!==null){switch(h.tag){case 26:case 27:case 5:var g=h.stateNode;break;case 30:g=h.stateNode;break;default:g=h.stateNode}typeof d=="function"?h.refCleanup=d(g):d.current=g}}catch(b){Se(h,u,b)}}function as(h,u){var d=h.ref,g=h.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(b){Se(h,u,b)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Se(h,u,b)}else d.current=null}function VT(h){var u=h.type,d=h.memoizedProps,g=h.stateNode;try{t:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break t;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(b){Se(h,h.return,b)}}function ub(h,u,d){try{var g=h.stateNode;nX(g,h.type,d,u),g[Sn]=u}catch(b){Se(h,h.return,b)}}function XT(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&Po(h.type)||h.tag===4}function fb(h){t:for(;;){for(;h.sibling===null;){if(h.return===null||XT(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&Po(h.type)||h.flags&2||h.child===null||h.tag===4)continue t;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function cb(h,u,d){var g=h.tag;if(g===5||g===6)h=h.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(h,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(h),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=bl));else if(g!==4&&(g===27&&Po(h.type)&&(d=h.stateNode,u=null),h=h.child,h!==null))for(cb(h,u,d),h=h.sibling;h!==null;)cb(h,u,d),h=h.sibling}function wg(h,u,d){var g=h.tag;if(g===5||g===6)h=h.stateNode,u?d.insertBefore(h,u):d.appendChild(h);else if(g!==4&&(g===27&&Po(h.type)&&(d=h.stateNode),h=h.child,h!==null))for(wg(h,u,d),h=h.sibling;h!==null;)wg(h,u,d),h=h.sibling}function IT(h){var u=h.stateNode,d=h.memoizedProps;try{for(var g=h.type,b=u.attributes;b.length;)u.removeAttributeNode(b[0]);Yi(u,g,d),u[Ii]=h,u[Sn]=d}catch(x){Se(h,h.return,x)}}var Ql=!1,$i=!1,db=!1,jT=typeof WeakSet=="function"?WeakSet:Set,Ni=null;function _V(h,u){if(h=h.containerInfo,Db=Ig,h=iC(h),ly(h)){if("selectionStart"in h)var d={start:h.selectionStart,end:h.selectionEnd};else t:{d=(d=h.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break t}var C=0,_=-1,Y=-1,it=0,at=0,ft=h,rt=null;e:for(;;){for(var lt;ft!==d||b!==0&&ft.nodeType!==3||(_=C+b),ft!==x||g!==0&&ft.nodeType!==3||(Y=C+g),ft.nodeType===3&&(C+=ft.nodeValue.length),(lt=ft.firstChild)!==null;)rt=ft,ft=lt;for(;;){if(ft===h)break e;if(rt===d&&++it===b&&(_=C),rt===x&&++at===g&&(Y=C),(lt=ft.nextSibling)!==null)break;ft=rt,rt=ft.parentNode}ft=lt}d=_===-1||Y===-1?null:{start:_,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(Bb={focusedElem:h,selectionRange:d},Ig=!1,Ni=u;Ni!==null;)if(u=Ni,h=u.child,(u.subtreeFlags&1028)!==0&&h!==null)h.return=u,Ni=h;else for(;Ni!==null;){switch(u=Ni,x=u.alternate,h=u.flags,u.tag){case 0:if((h&4)!==0&&(h=u.updateQueue,h=h!==null?h.events:null,h!==null))for(d=0;d<h.length;d++)b=h[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((h&1024)!==0&&x!==null){h=void 0,d=u,b=x.memoizedProps,x=x.memoizedState,g=d.stateNode;try{var Dt=Xa(d.type,b);h=g.getSnapshotBeforeUpdate(Dt,x),g.__reactInternalSnapshotBeforeUpdate=h}catch(Yt){Se(d,d.return,Yt)}}break;case 3:if((h&1024)!==0){if(h=u.stateNode.containerInfo,d=h.nodeType,d===9)Nb(h);else if(d===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":Nb(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(i(163))}if(h=u.sibling,h!==null){h.return=u.return,Ni=h;break}Ni=u.return}}function qT(h,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Ml(h,d),g&4&&Wf(5,d);break;case 1:if(Ml(h,d),g&4)if(h=d.stateNode,u===null)try{h.componentDidMount()}catch(C){Se(d,d.return,C)}else{var b=Xa(d.type,u.memoizedProps);u=u.memoizedState;try{h.componentDidUpdate(b,u,h.__reactInternalSnapshotBeforeUpdate)}catch(C){Se(d,d.return,C)}}g&64&&LT(d),g&512&&Yf(d,d.return);break;case 3:if(Ml(h,d),g&64&&(h=d.updateQueue,h!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{QC(h,u)}catch(C){Se(d,d.return,C)}}break;case 27:u===null&&g&4&&IT(d);case 26:case 5:Ml(h,d),u===null&&g&4&&VT(d),g&512&&Yf(d,d.return);break;case 12:Ml(h,d);break;case 31:Ml(h,d),g&4&&HT(h,d);break;case 13:Ml(h,d),g&4&&UT(h,d),g&64&&(h=d.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(d=qV.bind(null,d),fX(h,d))));break;case 22:if(g=d.memoizedState!==null||Ql,!g){u=u!==null&&u.memoizedState!==null||$i,b=Ql;var x=$i;Ql=g,($i=u)&&!x?Rl(h,d,(d.subtreeFlags&8772)!==0):Ml(h,d),Ql=b,$i=x}break;case 30:break;default:Ml(h,d)}}function WT(h){var u=h.alternate;u!==null&&(h.alternate=null,WT(u)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(u=h.stateNode,u!==null&&I1(u)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var ti=null,vn=!1;function Pl(h,u,d){for(d=d.child;d!==null;)YT(h,u,d),d=d.sibling}function YT(h,u,d){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(Te,d)}catch{}switch(d.tag){case 26:$i||as(d,u),Pl(h,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:$i||as(d,u);var g=ti,b=vn;Po(d.type)&&(ti=d.stateNode,vn=!1),Pl(h,u,d),ic(d.stateNode),ti=g,vn=b;break;case 5:$i||as(d,u);case 6:if(g=ti,b=vn,ti=null,Pl(h,u,d),ti=g,vn=b,ti!==null)if(vn)try{(ti.nodeType===9?ti.body:ti.nodeName==="HTML"?ti.ownerDocument.body:ti).removeChild(d.stateNode)}catch(x){Se(d,u,x)}else try{ti.removeChild(d.stateNode)}catch(x){Se(d,u,x)}break;case 18:ti!==null&&(vn?(h=ti,LQ(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,d.stateNode),iu(h)):LQ(ti,d.stateNode));break;case 4:g=ti,b=vn,ti=d.stateNode.containerInfo,vn=!0,Pl(h,u,d),ti=g,vn=b;break;case 0:case 11:case 14:case 15:vo(2,d,u),$i||vo(4,d,u),Pl(h,u,d);break;case 1:$i||(as(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&ZT(d,u,g)),Pl(h,u,d);break;case 21:Pl(h,u,d);break;case 22:$i=(g=$i)||d.memoizedState!==null,Pl(h,u,d),$i=g;break;default:Pl(h,u,d)}}function HT(h,u){if(u.memoizedState===null&&(h=u.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{iu(h)}catch(d){Se(u,u.return,d)}}}function UT(h,u){if(u.memoizedState===null&&(h=u.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{iu(h)}catch(d){Se(u,u.return,d)}}function zV(h){switch(h.tag){case 31:case 13:case 19:var u=h.stateNode;return u===null&&(u=h.stateNode=new jT),u;case 22:return h=h.stateNode,u=h._retryCache,u===null&&(u=h._retryCache=new jT),u;default:throw Error(i(435,h.tag))}}function vg(h,u){var d=zV(h);u.forEach(function(g){if(!d.has(g)){d.add(g);var b=WV.bind(null,h,g);g.then(b,b)}})}function kn(h,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g],x=h,C=u,_=C;t:for(;_!==null;){switch(_.tag){case 27:if(Po(_.type)){ti=_.stateNode,vn=!1;break t}break;case 5:ti=_.stateNode,vn=!1;break t;case 3:case 4:ti=_.stateNode.containerInfo,vn=!0;break t}_=_.return}if(ti===null)throw Error(i(160));YT(x,C,b),ti=null,vn=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)GT(u,h),u=u.sibling}var Nr=null;function GT(h,u){var d=h.alternate,g=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:kn(u,h),$n(h),g&4&&(vo(3,h,h.return),Wf(3,h),vo(5,h,h.return));break;case 1:kn(u,h),$n(h),g&512&&($i||d===null||as(d,d.return)),g&64&&Ql&&(h=h.updateQueue,h!==null&&(g=h.callbacks,g!==null&&(d=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var b=Nr;if(kn(u,h),$n(h),g&512&&($i||d===null||as(d,d.return)),g&4){var x=d!==null?d.memoizedState:null;if(g=h.memoizedState,d===null)if(g===null)if(h.stateNode===null){t:{g=h.type,d=h.memoizedProps,b=b.ownerDocument||b;e:switch(g){case"title":x=b.getElementsByTagName("title")[0],(!x||x[xf]||x[Ii]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(g),b.head.insertBefore(x,b.querySelector("head > title"))),Yi(x,g,d),x[Ii]=h,zi(x),g=x;break t;case"link":var C=GQ("link","href",b).get(g+(d.href||""));if(C){for(var _=0;_<C.length;_++)if(x=C[_],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){C.splice(_,1);break e}}x=b.createElement(g),Yi(x,g,d),b.head.appendChild(x);break;case"meta":if(C=GQ("meta","content",b).get(g+(d.content||""))){for(_=0;_<C.length;_++)if(x=C[_],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){C.splice(_,1);break e}}x=b.createElement(g),Yi(x,g,d),b.head.appendChild(x);break;default:throw Error(i(468,g))}x[Ii]=h,zi(x),g=x}h.stateNode=g}else FQ(b,h.type,h.stateNode);else h.stateNode=UQ(b,g,h.memoizedProps);else x!==g?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,g===null?FQ(b,h.type,h.stateNode):UQ(b,g,h.memoizedProps)):g===null&&h.stateNode!==null&&ub(h,h.memoizedProps,d.memoizedProps)}break;case 27:kn(u,h),$n(h),g&512&&($i||d===null||as(d,d.return)),d!==null&&g&4&&ub(h,h.memoizedProps,d.memoizedProps);break;case 5:if(kn(u,h),$n(h),g&512&&($i||d===null||as(d,d.return)),h.flags&32){b=h.stateNode;try{$h(b,"")}catch(Dt){Se(h,h.return,Dt)}}g&4&&h.stateNode!=null&&(b=h.memoizedProps,ub(h,b,d!==null?d.memoizedProps:b)),g&1024&&(db=!0);break;case 6:if(kn(u,h),$n(h),g&4){if(h.stateNode===null)throw Error(i(162));g=h.memoizedProps,d=h.stateNode;try{d.nodeValue=g}catch(Dt){Se(h,h.return,Dt)}}break;case 3:if(Lg=null,b=Nr,Nr=zg(u.containerInfo),kn(u,h),Nr=b,$n(h),g&4&&d!==null&&d.memoizedState.isDehydrated)try{iu(u.containerInfo)}catch(Dt){Se(h,h.return,Dt)}db&&(db=!1,FT(h));break;case 4:g=Nr,Nr=zg(h.stateNode.containerInfo),kn(u,h),$n(h),Nr=g;break;case 12:kn(u,h),$n(h);break;case 31:kn(u,h),$n(h),g&4&&(g=h.updateQueue,g!==null&&(h.updateQueue=null,vg(h,g)));break;case 13:kn(u,h),$n(h),h.child.flags&8192&&h.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($g=xt()),g&4&&(g=h.updateQueue,g!==null&&(h.updateQueue=null,vg(h,g)));break;case 22:b=h.memoizedState!==null;var Y=d!==null&&d.memoizedState!==null,it=Ql,at=$i;if(Ql=it||b,$i=at||Y,kn(u,h),$i=at,Ql=it,$n(h),g&8192)t:for(u=h.stateNode,u._visibility=b?u._visibility&-2:u._visibility|1,b&&(d===null||Y||Ql||$i||Ia(h)),d=null,u=h;;){if(u.tag===5||u.tag===26){if(d===null){Y=d=u;try{if(x=Y.stateNode,b)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{_=Y.stateNode;var ft=Y.memoizedProps.style,rt=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;_.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(Dt){Se(Y,Y.return,Dt)}}}else if(u.tag===6){if(d===null){Y=u;try{Y.stateNode.nodeValue=b?"":Y.memoizedProps}catch(Dt){Se(Y,Y.return,Dt)}}}else if(u.tag===18){if(d===null){Y=u;try{var lt=Y.stateNode;b?ZQ(lt,!0):ZQ(Y.stateNode,!1)}catch(Dt){Se(Y,Y.return,Dt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===h)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break t;for(;u.sibling===null;){if(u.return===null||u.return===h)break t;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=h.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,vg(h,d))));break;case 19:kn(u,h),$n(h),g&4&&(g=h.updateQueue,g!==null&&(h.updateQueue=null,vg(h,g)));break;case 30:break;case 21:break;default:kn(u,h),$n(h)}}function $n(h){var u=h.flags;if(u&2){try{for(var d,g=h.return;g!==null;){if(XT(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var b=d.stateNode,x=fb(h);wg(h,x,b);break;case 5:var C=d.stateNode;d.flags&32&&($h(C,""),d.flags&=-33);var _=fb(h);wg(h,_,C);break;case 3:case 4:var Y=d.stateNode.containerInfo,it=fb(h);cb(h,it,Y);break;default:throw Error(i(161))}}catch(at){Se(h,h.return,at)}h.flags&=-3}u&4096&&(h.flags&=-4097)}function FT(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var u=h;FT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),h=h.sibling}}function Ml(h,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)qT(h,u.alternate,u),u=u.sibling}function Ia(h){for(h=h.child;h!==null;){var u=h;switch(u.tag){case 0:case 11:case 14:case 15:vo(4,u,u.return),Ia(u);break;case 1:as(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&ZT(u,u.return,d),Ia(u);break;case 27:ic(u.stateNode);case 26:case 5:as(u,u.return),Ia(u);break;case 22:u.memoizedState===null&&Ia(u);break;case 30:Ia(u);break;default:Ia(u)}h=h.sibling}}function Rl(h,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,b=h,x=u,C=x.flags;switch(x.tag){case 0:case 11:case 15:Rl(b,x,d),Wf(4,x);break;case 1:if(Rl(b,x,d),g=x,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(it){Se(g,g.return,it)}if(g=x,b=g.updateQueue,b!==null){var _=g.stateNode;try{var Y=b.shared.hiddenCallbacks;if(Y!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Y.length;b++)TC(Y[b],_)}catch(it){Se(g,g.return,it)}}d&&C&64&&LT(x),Yf(x,x.return);break;case 27:IT(x);case 26:case 5:Rl(b,x,d),d&&g===null&&C&4&&VT(x),Yf(x,x.return);break;case 12:Rl(b,x,d);break;case 31:Rl(b,x,d),d&&C&4&&HT(b,x);break;case 13:Rl(b,x,d),d&&C&4&&UT(b,x);break;case 22:x.memoizedState===null&&Rl(b,x,d),Yf(x,x.return);break;case 30:break;default:Rl(b,x,d)}u=u.sibling}}function pb(h,u){var d=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),h=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==d&&(h!=null&&h.refCount++,d!=null&&Ef(d))}function gb(h,u){h=null,u.alternate!==null&&(h=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==h&&(u.refCount++,h!=null&&Ef(h))}function Lr(h,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)KT(h,u,d,g),u=u.sibling}function KT(h,u,d,g){var b=u.flags;switch(u.tag){case 0:case 11:case 15:Lr(h,u,d,g),b&2048&&Wf(9,u);break;case 1:Lr(h,u,d,g);break;case 3:Lr(h,u,d,g),b&2048&&(h=null,u.alternate!==null&&(h=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==h&&(u.refCount++,h!=null&&Ef(h)));break;case 12:if(b&2048){Lr(h,u,d,g),h=u.stateNode;try{var x=u.memoizedProps,C=x.id,_=x.onPostCommit;typeof _=="function"&&_(C,u.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Y){Se(u,u.return,Y)}}else Lr(h,u,d,g);break;case 31:Lr(h,u,d,g);break;case 13:Lr(h,u,d,g);break;case 23:break;case 22:x=u.stateNode,C=u.alternate,u.memoizedState!==null?x._visibility&2?Lr(h,u,d,g):Hf(h,u):x._visibility&2?Lr(h,u,d,g):(x._visibility|=2,qh(h,u,d,g,(u.subtreeFlags&10256)!==0||!1)),b&2048&&pb(C,u);break;case 24:Lr(h,u,d,g),b&2048&&gb(u.alternate,u);break;default:Lr(h,u,d,g)}}function qh(h,u,d,g,b){for(b=b&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var x=h,C=u,_=d,Y=g,it=C.flags;switch(C.tag){case 0:case 11:case 15:qh(x,C,_,Y,b),Wf(8,C);break;case 23:break;case 22:var at=C.stateNode;C.memoizedState!==null?at._visibility&2?qh(x,C,_,Y,b):Hf(x,C):(at._visibility|=2,qh(x,C,_,Y,b)),b&&it&2048&&pb(C.alternate,C);break;case 24:qh(x,C,_,Y,b),b&&it&2048&&gb(C.alternate,C);break;default:qh(x,C,_,Y,b)}u=u.sibling}}function Hf(h,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=h,g=u,b=g.flags;switch(g.tag){case 22:Hf(d,g),b&2048&&pb(g.alternate,g);break;case 24:Hf(d,g),b&2048&&gb(g.alternate,g);break;default:Hf(d,g)}u=u.sibling}}var Uf=8192;function Wh(h,u,d){if(h.subtreeFlags&Uf)for(h=h.child;h!==null;)JT(h,u,d),h=h.sibling}function JT(h,u,d){switch(h.tag){case 26:Wh(h,u,d),h.flags&Uf&&h.memoizedState!==null&&vX(d,Nr,h.memoizedState,h.memoizedProps);break;case 5:Wh(h,u,d);break;case 3:case 4:var g=Nr;Nr=zg(h.stateNode.containerInfo),Wh(h,u,d),Nr=g;break;case 22:h.memoizedState===null&&(g=h.alternate,g!==null&&g.memoizedState!==null?(g=Uf,Uf=16777216,Wh(h,u,d),Uf=g):Wh(h,u,d));break;default:Wh(h,u,d)}}function tQ(h){var u=h.alternate;if(u!==null&&(h=u.child,h!==null)){u.child=null;do u=h.sibling,h.sibling=null,h=u;while(h!==null)}}function Gf(h){var u=h.deletions;if((h.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];Ni=g,iQ(g,h)}tQ(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)eQ(h),h=h.sibling}function eQ(h){switch(h.tag){case 0:case 11:case 15:Gf(h),h.flags&2048&&vo(9,h,h.return);break;case 3:Gf(h);break;case 12:Gf(h);break;case 22:var u=h.stateNode;h.memoizedState!==null&&u._visibility&2&&(h.return===null||h.return.tag!==13)?(u._visibility&=-3,kg(h)):Gf(h);break;default:Gf(h)}}function kg(h){var u=h.deletions;if((h.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];Ni=g,iQ(g,h)}tQ(h)}for(h=h.child;h!==null;){switch(u=h,u.tag){case 0:case 11:case 15:vo(8,u,u.return),kg(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,kg(u));break;default:kg(u)}h=h.sibling}}function iQ(h,u){for(;Ni!==null;){var d=Ni;switch(d.tag){case 0:case 11:case 15:vo(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ef(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Ni=g;else t:for(d=h;Ni!==null;){g=Ni;var b=g.sibling,x=g.return;if(WT(g),g===d){Ni=null;break t}if(b!==null){b.return=x,Ni=b;break t}Ni=x}}}var NV={getCacheForType:function(h){var u=qi(wi),d=u.data.get(h);return d===void 0&&(d=h(),u.data.set(h,d)),d},cacheSignal:function(){return qi(wi).controller.signal}},LV=typeof WeakMap=="function"?WeakMap:Map,me=0,Qe=null,se=null,ae=0,xe=0,Un=null,ko=!1,Yh=!1,mb=!1,El=0,fi=0,$o=0,ja=0,Ob=0,Gn=0,Hh=0,Ff=null,An=null,yb=!1,$g=0,nQ=0,Ag=1/0,Cg=null,Ao=null,Qi=0,Co=null,Uh=null,Dl=0,bb=0,xb=null,rQ=null,Kf=0,Sb=null;function Fn(){return(me&2)!==0&&ae!==0?ae&-ae:W.T!==null?Cb():xA()}function sQ(){if(Gn===0)if((ae&536870912)===0||ue){var h=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),Gn=h}else Gn=536870912;return h=Yn.current,h!==null&&(h.flags|=32),Gn}function Cn(h,u,d){(h===Qe&&(xe===2||xe===9)||h.cancelPendingCommit!==null)&&(Gh(h,0),To(h,ae,Gn,!1)),bf(h,d),((me&2)===0||h!==Qe)&&(h===Qe&&((me&2)===0&&(ja|=d),fi===4&&To(h,ae,Gn,!1)),hs(h))}function lQ(h,u,d){if((me&6)!==0)throw Error(i(327));var g=!d&&(u&127)===0&&(u&h.expiredLanes)===0||yf(h,u),b=g?XV(h,u):vb(h,u,!0),x=g;do{if(b===0){Yh&&!g&&To(h,u,0,!1);break}else{if(d=h.current.alternate,x&&!ZV(d)){b=vb(h,u,!1),x=!1;continue}if(b===2){if(x=u,h.errorRecoveryDisabledLanes&x)var C=0;else C=h.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){u=C;t:{var _=h;b=Ff;var Y=_.current.memoizedState.isDehydrated;if(Y&&(Gh(_,C).flags|=256),C=vb(_,C,!1),C!==2){if(mb&&!Y){_.errorRecoveryDisabledLanes|=x,ja|=x,b=4;break t}x=An,An=b,x!==null&&(An===null?An=x:An.push.apply(An,x))}b=C}if(x=!1,b!==2)continue}}if(b===1){Gh(h,0),To(h,u,0,!0);break}t:{switch(g=h,x=b,x){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:To(g,u,Gn,!ko);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(b=$g+300-xt(),10<b)){if(To(g,u,Gn,!ko),zp(g,0,!0)!==0)break t;Dl=u,g.timeoutHandle=zQ(oQ.bind(null,g,d,An,Cg,yb,u,Gn,ja,Hh,ko,x,"Throttled",-0,0),b);break t}oQ(g,d,An,Cg,yb,u,Gn,ja,Hh,ko,x,null,-0,0)}}break}while(!0);hs(h)}function oQ(h,u,d,g,b,x,C,_,Y,it,at,ft,rt,lt){if(h.timeoutHandle=-1,ft=u.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bl},JT(u,x,ft);var Dt=(x&62914560)===x?$g-xt():(x&4194048)===x?nQ-xt():0;if(Dt=kX(ft,Dt),Dt!==null){Dl=x,h.cancelPendingCommit=Dt(gQ.bind(null,h,u,x,d,g,b,C,_,Y,at,ft,null,rt,lt)),To(h,x,C,!it);return}}gQ(h,u,x,d,g,b,C,_,Y)}function ZV(h){for(var u=h;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var b=d[g],x=b.getSnapshot;b=b.value;try{if(!qn(x(),b))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===h)break;for(;u.sibling===null;){if(u.return===null||u.return===h)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function To(h,u,d,g){u&=~Ob,u&=~ja,h.suspendedLanes|=u,h.pingedLanes&=~u,g&&(h.warmLanes|=u),g=h.expirationTimes;for(var b=u;0<b;){var x=31-ii(b),C=1<<x;g[x]=-1,b&=~C}d!==0&&OA(h,d,u)}function Tg(){return(me&6)===0?(Jf(0),!1):!0}function wb(){if(se!==null){if(xe===0)var h=se.return;else h=se,vl=Ba=null,Ny(h),Zh=null,Bf=0,h=se;for(;h!==null;)NT(h.alternate,h),h=h.return;se=null}}function Gh(h,u){var d=h.timeoutHandle;d!==-1&&(h.timeoutHandle=-1,lX(d)),d=h.cancelPendingCommit,d!==null&&(h.cancelPendingCommit=null,d()),Dl=0,wb(),Qe=h,se=d=Sl(h.current,null),ae=u,xe=0,Un=null,ko=!1,Yh=yf(h,u),mb=!1,Hh=Gn=Ob=ja=$o=fi=0,An=Ff=null,yb=!1,(u&8)!==0&&(u|=u&32);var g=h.entangledLanes;if(g!==0)for(h=h.entanglements,g&=u;0<g;){var b=31-ii(g),x=1<<b;u|=h[b],g&=~x}return El=u,Up(),d}function aQ(h,u){Kt=null,W.H=If,u===Lh||u===ng?(u=kC(),xe=3):u===Ay?(u=kC(),xe=4):xe=u===tb?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Un=u,se===null&&(fi=1,Og(h,br(u,h.current)))}function hQ(){var h=Yn.current;return h===null?!0:(ae&4194048)===ae?vr===null:(ae&62914560)===ae||(ae&536870912)!==0?h===vr:!1}function uQ(){var h=W.H;return W.H=If,h===null?If:h}function fQ(){var h=W.A;return W.A=NV,h}function Qg(){fi=4,ko||(ae&4194048)!==ae&&Yn.current!==null||(Yh=!0),($o&134217727)===0&&(ja&134217727)===0||Qe===null||To(Qe,ae,Gn,!1)}function vb(h,u,d){var g=me;me|=2;var b=uQ(),x=fQ();(Qe!==h||ae!==u)&&(Cg=null,Gh(h,u)),u=!1;var C=fi;t:do try{if(xe!==0&&se!==null){var _=se,Y=Un;switch(xe){case 8:wb(),C=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(u=!0);var it=xe;if(xe=0,Un=null,Fh(h,_,Y,it),d&&Yh){C=0;break t}break;default:it=xe,xe=0,Un=null,Fh(h,_,Y,it)}}VV(),C=fi;break}catch(at){aQ(h,at)}while(!0);return u&&h.shellSuspendCounter++,vl=Ba=null,me=g,W.H=b,W.A=x,se===null&&(Qe=null,ae=0,Up()),C}function VV(){for(;se!==null;)cQ(se)}function XV(h,u){var d=me;me|=2;var g=uQ(),b=fQ();Qe!==h||ae!==u?(Cg=null,Ag=xt()+500,Gh(h,u)):Yh=yf(h,u);t:do try{if(xe!==0&&se!==null){u=se;var x=Un;e:switch(xe){case 1:xe=0,Un=null,Fh(h,u,x,1);break;case 2:case 9:if(wC(x)){xe=0,Un=null,dQ(u);break}u=function(){xe!==2&&xe!==9||Qe!==h||(xe=7),hs(h)},x.then(u,u);break t;case 3:xe=7;break t;case 4:xe=5;break t;case 7:wC(x)?(xe=0,Un=null,dQ(u)):(xe=0,Un=null,Fh(h,u,x,7));break;case 5:var C=null;switch(se.tag){case 26:C=se.memoizedState;case 5:case 27:var _=se;if(C?KQ(C):_.stateNode.complete){xe=0,Un=null;var Y=_.sibling;if(Y!==null)se=Y;else{var it=_.return;it!==null?(se=it,Pg(it)):se=null}break e}}xe=0,Un=null,Fh(h,u,x,5);break;case 6:xe=0,Un=null,Fh(h,u,x,6);break;case 8:wb(),fi=6;break t;default:throw Error(i(462))}}IV();break}catch(at){aQ(h,at)}while(!0);return vl=Ba=null,W.H=g,W.A=b,me=d,se!==null?0:(Qe=null,ae=0,Up(),fi)}function IV(){for(;se!==null&&!nt();)cQ(se)}function cQ(h){var u=_T(h.alternate,h,El);h.memoizedProps=h.pendingProps,u===null?Pg(h):se=u}function dQ(h){var u=h,d=u.alternate;switch(u.tag){case 15:case 0:u=PT(d,u,u.pendingProps,u.type,void 0,ae);break;case 11:u=PT(d,u,u.pendingProps,u.type.render,u.ref,ae);break;case 5:Ny(u);default:NT(d,u),u=se=fC(u,El),u=_T(d,u,El)}h.memoizedProps=h.pendingProps,u===null?Pg(h):se=u}function Fh(h,u,d,g){vl=Ba=null,Ny(u),Zh=null,Bf=0;var b=u.return;try{if(MV(h,b,u,d,ae)){fi=1,Og(h,br(d,h.current)),se=null;return}}catch(x){if(b!==null)throw se=b,x;fi=1,Og(h,br(d,h.current)),se=null;return}u.flags&32768?(ue||g===1?h=!0:Yh||(ae&536870912)!==0?h=!1:(ko=h=!0,(g===2||g===9||g===3||g===6)&&(g=Yn.current,g!==null&&g.tag===13&&(g.flags|=16384))),pQ(u,h)):Pg(u)}function Pg(h){var u=h;do{if((u.flags&32768)!==0){pQ(u,ko);return}h=u.return;var d=DV(u.alternate,u,El);if(d!==null){se=d;return}if(u=u.sibling,u!==null){se=u;return}se=u=h}while(u!==null);fi===0&&(fi=5)}function pQ(h,u){do{var d=BV(h.alternate,h);if(d!==null){d.flags&=32767,se=d;return}if(d=h.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(h=h.sibling,h!==null)){se=h;return}se=h=d}while(h!==null);fi=6,se=null}function gQ(h,u,d,g,b,x,C,_,Y){h.cancelPendingCommit=null;do Mg();while(Qi!==0);if((me&6)!==0)throw Error(i(327));if(u!==null){if(u===h.current)throw Error(i(177));if(x=u.lanes|u.childLanes,x|=fy,wZ(h,d,x,C,_,Y),h===Qe&&(se=Qe=null,ae=0),Uh=u,Co=h,Dl=d,bb=x,xb=b,rQ=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,YV(re,function(){return xQ(),null})):(h.callbackNode=null,h.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=W.T,W.T=null,b=X.p,X.p=2,C=me,me|=4;try{_V(h,u,d)}finally{me=C,X.p=b,W.T=g}}Qi=1,mQ(),OQ(),yQ()}}function mQ(){if(Qi===1){Qi=0;var h=Co,u=Uh,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=W.T,W.T=null;var g=X.p;X.p=2;var b=me;me|=4;try{GT(u,h);var x=Bb,C=iC(h.containerInfo),_=x.focusedElem,Y=x.selectionRange;if(C!==_&&_&&_.ownerDocument&&eC(_.ownerDocument.documentElement,_)){if(Y!==null&&ly(_)){var it=Y.start,at=Y.end;if(at===void 0&&(at=it),"selectionStart"in _)_.selectionStart=it,_.selectionEnd=Math.min(at,_.value.length);else{var ft=_.ownerDocument||document,rt=ft&&ft.defaultView||window;if(rt.getSelection){var lt=rt.getSelection(),Dt=_.textContent.length,Yt=Math.min(Y.start,Dt),$e=Y.end===void 0?Yt:Math.min(Y.end,Dt);!lt.extend&&Yt>$e&&(C=$e,$e=Yt,Yt=C);var J=tC(_,Yt),U=tC(_,$e);if(J&&U&&(lt.rangeCount!==1||lt.anchorNode!==J.node||lt.anchorOffset!==J.offset||lt.focusNode!==U.node||lt.focusOffset!==U.offset)){var et=ft.createRange();et.setStart(J.node,J.offset),lt.removeAllRanges(),Yt>$e?(lt.addRange(et),lt.extend(U.node,U.offset)):(et.setEnd(U.node,U.offset),lt.addRange(et))}}}}for(ft=[],lt=_;lt=lt.parentNode;)lt.nodeType===1&&ft.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ft.length;_++){var ht=ft[_];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}Ig=!!Db,Bb=Db=null}finally{me=b,X.p=g,W.T=d}}h.current=u,Qi=2}}function OQ(){if(Qi===2){Qi=0;var h=Co,u=Uh,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=W.T,W.T=null;var g=X.p;X.p=2;var b=me;me|=4;try{qT(h,u.alternate,u)}finally{me=b,X.p=g,W.T=d}}Qi=3}}function yQ(){if(Qi===4||Qi===3){Qi=0,Ot();var h=Co,u=Uh,d=Dl,g=rQ;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Qi=5:(Qi=0,Uh=Co=null,bQ(h,h.pendingLanes));var b=h.pendingLanes;if(b===0&&(Ao=null),V1(d),u=u.stateNode,_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(Te,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=W.T,b=X.p,X.p=2,W.T=null;try{for(var x=h.onRecoverableError,C=0;C<g.length;C++){var _=g[C];x(_.value,{componentStack:_.stack})}}finally{W.T=u,X.p=b}}(Dl&3)!==0&&Mg(),hs(h),b=h.pendingLanes,(d&261930)!==0&&(b&42)!==0?h===Sb?Kf++:(Kf=0,Sb=h):Kf=0,Jf(0)}}function bQ(h,u){(h.pooledCacheLanes&=u)===0&&(u=h.pooledCache,u!=null&&(h.pooledCache=null,Ef(u)))}function Mg(){return mQ(),OQ(),yQ(),xQ()}function xQ(){if(Qi!==5)return!1;var h=Co,u=bb;bb=0;var d=V1(Dl),g=W.T,b=X.p;try{X.p=32>d?32:d,W.T=null,d=xb,xb=null;var x=Co,C=Dl;if(Qi=0,Uh=Co=null,Dl=0,(me&6)!==0)throw Error(i(331));var _=me;if(me|=4,eQ(x.current),KT(x,x.current,C,d),me=_,Jf(0,!1),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(Te,x)}catch{}return!0}finally{X.p=b,W.T=g,bQ(h,u)}}function SQ(h,u,d){u=br(d,u),u=Jy(h.stateNode,u,2),h=xo(h,u,2),h!==null&&(bf(h,2),hs(h))}function Se(h,u,d){if(h.tag===3)SQ(h,h,d);else for(;u!==null;){if(u.tag===3){SQ(u,h,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ao===null||!Ao.has(g))){h=br(d,h),d=wT(2),g=xo(u,d,2),g!==null&&(vT(d,g,u,h),bf(g,2),hs(g));break}}u=u.return}}function kb(h,u,d){var g=h.pingCache;if(g===null){g=h.pingCache=new LV;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(d)||(mb=!0,b.add(d),h=jV.bind(null,h,u,d),u.then(h,h))}function jV(h,u,d){var g=h.pingCache;g!==null&&g.delete(u),h.pingedLanes|=h.suspendedLanes&d,h.warmLanes&=~d,Qe===h&&(ae&d)===d&&(fi===4||fi===3&&(ae&62914560)===ae&&300>xt()-$g?(me&2)===0&&Gh(h,0):Ob|=d,Hh===ae&&(Hh=0)),hs(h)}function wQ(h,u){u===0&&(u=mA()),h=Ra(h,u),h!==null&&(bf(h,u),hs(h))}function qV(h){var u=h.memoizedState,d=0;u!==null&&(d=u.retryLane),wQ(h,d)}function WV(h,u){var d=0;switch(h.tag){case 31:case 13:var g=h.stateNode,b=h.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=h.stateNode;break;case 22:g=h.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(u),wQ(h,d)}function YV(h,u){return dt(h,u)}var Rg=null,Kh=null,$b=!1,Eg=!1,Ab=!1,Qo=0;function hs(h){h!==Kh&&h.next===null&&(Kh===null?Rg=Kh=h:Kh=Kh.next=h),Eg=!0,$b||($b=!0,UV())}function Jf(h,u){if(!Ab&&Eg){Ab=!0;do for(var d=!1,g=Rg;g!==null;){if(h!==0){var b=g.pendingLanes;if(b===0)var x=0;else{var C=g.suspendedLanes,_=g.pingedLanes;x=(1<<31-ii(42|h)+1)-1,x&=b&~(C&~_),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,AQ(g,x))}else x=ae,x=zp(g,g===Qe?x:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(x&3)===0||yf(g,x)||(d=!0,AQ(g,x));g=g.next}while(d);Ab=!1}}function HV(){vQ()}function vQ(){Eg=$b=!1;var h=0;Qo!==0&&sX()&&(h=Qo);for(var u=xt(),d=null,g=Rg;g!==null;){var b=g.next,x=kQ(g,u);x===0?(g.next=null,d===null?Rg=b:d.next=b,b===null&&(Kh=d)):(d=g,(h!==0||(x&3)!==0)&&(Eg=!0)),g=b}Qi!==0&&Qi!==5||Jf(h),Qo!==0&&(Qo=0)}function kQ(h,u){for(var d=h.suspendedLanes,g=h.pingedLanes,b=h.expirationTimes,x=h.pendingLanes&-62914561;0<x;){var C=31-ii(x),_=1<<C,Y=b[C];Y===-1?((_&d)===0||(_&g)!==0)&&(b[C]=SZ(_,u)):Y<=u&&(h.expiredLanes|=_),x&=~_}if(u=Qe,d=ae,d=zp(h,h===u?d:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),g=h.callbackNode,d===0||h===u&&(xe===2||xe===9)||h.cancelPendingCommit!==null)return g!==null&&g!==null&&gt(g),h.callbackNode=null,h.callbackPriority=0;if((d&3)===0||yf(h,d)){if(u=d&-d,u===h.callbackPriority)return u;switch(g!==null&&gt(g),V1(d)){case 2:case 8:d=be;break;case 32:d=re;break;case 268435456:d=uo;break;default:d=re}return g=$Q.bind(null,h),d=dt(d,g),h.callbackPriority=u,h.callbackNode=d,u}return g!==null&&g!==null&&gt(g),h.callbackPriority=2,h.callbackNode=null,2}function $Q(h,u){if(Qi!==0&&Qi!==5)return h.callbackNode=null,h.callbackPriority=0,null;var d=h.callbackNode;if(Mg()&&h.callbackNode!==d)return null;var g=ae;return g=zp(h,h===Qe?g:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),g===0?null:(lQ(h,g,u),kQ(h,xt()),h.callbackNode!=null&&h.callbackNode===d?$Q.bind(null,h):null)}function AQ(h,u){if(Mg())return null;lQ(h,u,!0)}function UV(){oX(function(){(me&6)!==0?dt(Vt,HV):vQ()})}function Cb(){if(Qo===0){var h=zh;h===0&&(h=yh,yh<<=1,(yh&261888)===0&&(yh=256)),Qo=h}return Qo}function CQ(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Vp(""+h)}function TQ(h,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,h.id&&d.setAttribute("form",h.id),u.parentNode.insertBefore(d,u),h=new FormData(h),d.parentNode.removeChild(d),h}function GV(h,u,d,g,b){if(u==="submit"&&d&&d.stateNode===b){var x=CQ((b[Sn]||null).action),C=g.submitter;C&&(u=(u=C[Sn]||null)?CQ(u.formAction):C.getAttribute("formAction"),u!==null&&(x=u,C=null));var _=new qp("action","action",null,g,b);h.push({event:_,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Qo!==0){var Y=C?TQ(b,C):new FormData(b);Yy(d,{pending:!0,data:Y,method:b.method,action:x},null,Y)}}else typeof x=="function"&&(_.preventDefault(),Y=C?TQ(b,C):new FormData(b),Yy(d,{pending:!0,data:Y,method:b.method,action:x},x,Y))},currentTarget:b}]})}}for(var Tb=0;Tb<uy.length;Tb++){var Qb=uy[Tb],FV=Qb.toLowerCase(),KV=Qb[0].toUpperCase()+Qb.slice(1);zr(FV,"on"+KV)}zr(sC,"onAnimationEnd"),zr(lC,"onAnimationIteration"),zr(oC,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(pV,"onTransitionRun"),zr(gV,"onTransitionStart"),zr(mV,"onTransitionCancel"),zr(aC,"onTransitionEnd"),vh("onMouseEnter",["mouseout","mouseover"]),vh("onMouseLeave",["mouseout","mouseover"]),vh("onPointerEnter",["pointerout","pointerover"]),vh("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function QQ(h,u){u=(u&4)!==0;for(var d=0;d<h.length;d++){var g=h[d],b=g.event;g=g.listeners;t:{var x=void 0;if(u)for(var C=g.length-1;0<=C;C--){var _=g[C],Y=_.instance,it=_.currentTarget;if(_=_.listener,Y!==x&&b.isPropagationStopped())break t;x=_,b.currentTarget=it;try{x(b)}catch(at){Hp(at)}b.currentTarget=null,x=Y}else for(C=0;C<g.length;C++){if(_=g[C],Y=_.instance,it=_.currentTarget,_=_.listener,Y!==x&&b.isPropagationStopped())break t;x=_,b.currentTarget=it;try{x(b)}catch(at){Hp(at)}b.currentTarget=null,x=Y}}}}function le(h,u){var d=u[X1];d===void 0&&(d=u[X1]=new Set);var g=h+"__bubble";d.has(g)||(PQ(u,h,2,!1),d.add(g))}function Pb(h,u,d){var g=0;u&&(g|=4),PQ(d,h,g,u)}var Dg="_reactListening"+Math.random().toString(36).slice(2);function Mb(h){if(!h[Dg]){h[Dg]=!0,vA.forEach(function(d){d!=="selectionchange"&&(JV.has(d)||Pb(d,!1,h),Pb(d,!0,h))});var u=h.nodeType===9?h:h.ownerDocument;u===null||u[Dg]||(u[Dg]=!0,Pb("selectionchange",!1,u))}}function PQ(h,u,d,g){switch(s3(u)){case 2:var b=CX;break;case 8:b=TX;break;default:b=Wb}d=b.bind(null,u,d,h),b=void 0,!F1||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?h.addEventListener(u,d,{capture:!0,passive:b}):h.addEventListener(u,d,!0):b!==void 0?h.addEventListener(u,d,{passive:b}):h.addEventListener(u,d,!1)}function Rb(h,u,d,g,b){var x=g;if((u&1)===0&&(u&2)===0&&g!==null)t:for(;;){if(g===null)return;var C=g.tag;if(C===3||C===4){var _=g.stateNode.containerInfo;if(_===b)break;if(C===4)for(C=g.return;C!==null;){var Y=C.tag;if((Y===3||Y===4)&&C.stateNode.containerInfo===b)return;C=C.return}for(;_!==null;){if(C=xh(_),C===null)return;if(Y=C.tag,Y===5||Y===6||Y===26||Y===27){g=x=C;continue t}_=_.parentNode}}g=g.return}BA(function(){var it=x,at=U1(d),ft=[];t:{var rt=hC.get(h);if(rt!==void 0){var lt=qp,Dt=h;switch(h){case"keypress":if(Ip(d)===0)break t;case"keydown":case"keyup":lt=WZ;break;case"focusin":Dt="focus",lt=ey;break;case"focusout":Dt="blur",lt=ey;break;case"beforeblur":case"afterblur":lt=ey;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=NA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=DZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=UZ;break;case sC:case lC:case oC:lt=zZ;break;case aC:lt=FZ;break;case"scroll":case"scrollend":lt=RZ;break;case"wheel":lt=JZ;break;case"copy":case"cut":case"paste":lt=LZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=ZA;break;case"toggle":case"beforetoggle":lt=eV}var Yt=(u&4)!==0,$e=!Yt&&(h==="scroll"||h==="scrollend"),J=Yt?rt!==null?rt+"Capture":null:rt;Yt=[];for(var U=it,et;U!==null;){var ht=U;if(et=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||et===null||J===null||(ht=wf(U,J),ht!=null&&Yt.push(ec(U,ht,et))),$e)break;U=U.return}0<Yt.length&&(rt=new lt(rt,Dt,null,d,at),ft.push({event:rt,listeners:Yt}))}}if((u&7)===0){t:{if(rt=h==="mouseover"||h==="pointerover",lt=h==="mouseout"||h==="pointerout",rt&&d!==H1&&(Dt=d.relatedTarget||d.fromElement)&&(xh(Dt)||Dt[bh]))break t;if((lt||rt)&&(rt=at.window===at?at:(rt=at.ownerDocument)?rt.defaultView||rt.parentWindow:window,lt?(Dt=d.relatedTarget||d.toElement,lt=it,Dt=Dt?xh(Dt):null,Dt!==null&&($e=s(Dt),Yt=Dt.tag,Dt!==$e||Yt!==5&&Yt!==27&&Yt!==6)&&(Dt=null)):(lt=null,Dt=it),lt!==Dt)){if(Yt=NA,ht="onMouseLeave",J="onMouseEnter",U="mouse",(h==="pointerout"||h==="pointerover")&&(Yt=ZA,ht="onPointerLeave",J="onPointerEnter",U="pointer"),$e=lt==null?rt:Sf(lt),et=Dt==null?rt:Sf(Dt),rt=new Yt(ht,U+"leave",lt,d,at),rt.target=$e,rt.relatedTarget=et,ht=null,xh(at)===it&&(Yt=new Yt(J,U+"enter",Dt,d,at),Yt.target=et,Yt.relatedTarget=$e,ht=Yt),$e=ht,lt&&Dt)e:{for(Yt=tX,J=lt,U=Dt,et=0,ht=J;ht;ht=Yt(ht))et++;ht=0;for(var Xt=U;Xt;Xt=Yt(Xt))ht++;for(;0<et-ht;)J=Yt(J),et--;for(;0<ht-et;)U=Yt(U),ht--;for(;et--;){if(J===U||U!==null&&J===U.alternate){Yt=J;break e}J=Yt(J),U=Yt(U)}Yt=null}else Yt=null;lt!==null&&MQ(ft,rt,lt,Yt,!1),Dt!==null&&$e!==null&&MQ(ft,$e,Dt,Yt,!0)}}t:{if(rt=it?Sf(it):window,lt=rt.nodeName&&rt.nodeName.toLowerCase(),lt==="select"||lt==="input"&&rt.type==="file")var de=HA;else if(WA(rt))if(UA)de=fV;else{de=hV;var zt=aV}else lt=rt.nodeName,!lt||lt.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?it&&Y1(it.elementType)&&(de=HA):de=uV;if(de&&(de=de(h,it))){YA(ft,de,d,at);break t}zt&&zt(h,rt,it),h==="focusout"&&it&&rt.type==="number"&&it.memoizedProps.value!=null&&W1(rt,"number",rt.value)}switch(zt=it?Sf(it):window,h){case"focusin":(WA(zt)||zt.contentEditable==="true")&&(Qh=zt,oy=it,Pf=null);break;case"focusout":Pf=oy=Qh=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,nC(ft,d,at);break;case"selectionchange":if(dV)break;case"keydown":case"keyup":nC(ft,d,at)}var Jt;if(ny)t:{switch(h){case"compositionstart":var he="onCompositionStart";break t;case"compositionend":he="onCompositionEnd";break t;case"compositionupdate":he="onCompositionUpdate";break t}he=void 0}else Th?jA(h,d)&&(he="onCompositionEnd"):h==="keydown"&&d.keyCode===229&&(he="onCompositionStart");he&&(VA&&d.locale!=="ko"&&(Th||he!=="onCompositionStart"?he==="onCompositionEnd"&&Th&&(Jt=_A()):(co=at,K1="value"in co?co.value:co.textContent,Th=!0)),zt=Bg(it,he),0<zt.length&&(he=new LA(he,h,null,d,at),ft.push({event:he,listeners:zt}),Jt?he.data=Jt:(Jt=qA(d),Jt!==null&&(he.data=Jt)))),(Jt=nV?rV(h,d):sV(h,d))&&(he=Bg(it,"onBeforeInput"),0<he.length&&(zt=new LA("onBeforeInput","beforeinput",null,d,at),ft.push({event:zt,listeners:he}),zt.data=Jt)),GV(ft,h,it,d,at)}QQ(ft,u)})}function ec(h,u,d){return{instance:h,listener:u,currentTarget:d}}function Bg(h,u){for(var d=u+"Capture",g=[];h!==null;){var b=h,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=wf(h,d),b!=null&&g.unshift(ec(h,b,x)),b=wf(h,u),b!=null&&g.push(ec(h,b,x))),h.tag===3)return g;h=h.return}return[]}function tX(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function MQ(h,u,d,g,b){for(var x=u._reactName,C=[];d!==null&&d!==g;){var _=d,Y=_.alternate,it=_.stateNode;if(_=_.tag,Y!==null&&Y===g)break;_!==5&&_!==26&&_!==27||it===null||(Y=it,b?(it=wf(d,x),it!=null&&C.unshift(ec(d,it,Y))):b||(it=wf(d,x),it!=null&&C.push(ec(d,it,Y)))),d=d.return}C.length!==0&&h.push({event:u,listeners:C})}var eX=/\r\n?/g,iX=/\u0000|\uFFFD/g;function RQ(h){return(typeof h=="string"?h:""+h).replace(eX,`
`).replace(iX,"")}function EQ(h,u){return u=RQ(u),RQ(h)===u}function ke(h,u,d,g,b,x){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||$h(h,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&$h(h,""+g);break;case"className":Lp(h,"class",g);break;case"tabIndex":Lp(h,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Lp(h,d,g);break;case"style":EA(h,g,x);break;case"data":if(u!=="object"){Lp(h,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){h.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){h.removeAttribute(d);break}g=Vp(""+g),h.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){h.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(u!=="input"&&ke(h,u,"name",b.name,b,null),ke(h,u,"formEncType",b.formEncType,b,null),ke(h,u,"formMethod",b.formMethod,b,null),ke(h,u,"formTarget",b.formTarget,b,null)):(ke(h,u,"encType",b.encType,b,null),ke(h,u,"method",b.method,b,null),ke(h,u,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){h.removeAttribute(d);break}g=Vp(""+g),h.setAttribute(d,g);break;case"onClick":g!=null&&(h.onclick=bl);break;case"onScroll":g!=null&&le("scroll",h);break;case"onScrollEnd":g!=null&&le("scrollend",h);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(b.children!=null)throw Error(i(60));h.innerHTML=d}}break;case"multiple":h.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":h.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){h.removeAttribute("xlink:href");break}d=Vp(""+g),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?h.setAttribute(d,""+g):h.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?h.setAttribute(d,""):h.removeAttribute(d);break;case"capture":case"download":g===!0?h.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?h.setAttribute(d,g):h.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?h.setAttribute(d,g):h.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?h.removeAttribute(d):h.setAttribute(d,g);break;case"popover":le("beforetoggle",h),le("toggle",h),Np(h,"popover",g);break;case"xlinkActuate":yl(h,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":yl(h,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":yl(h,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":yl(h,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":yl(h,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":yl(h,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":yl(h,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":yl(h,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":yl(h,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Np(h,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=PZ.get(d)||d,Np(h,d,g))}}function Eb(h,u,d,g,b,x){switch(d){case"style":EA(h,g,x);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(b.children!=null)throw Error(i(60));h.innerHTML=d}}break;case"children":typeof g=="string"?$h(h,g):(typeof g=="number"||typeof g=="bigint")&&$h(h,""+g);break;case"onScroll":g!=null&&le("scroll",h);break;case"onScrollEnd":g!=null&&le("scrollend",h);break;case"onClick":g!=null&&(h.onclick=bl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kA.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),u=d.slice(2,b?d.length-7:void 0),x=h[Sn]||null,x=x!=null?x[d]:null,typeof x=="function"&&h.removeEventListener(u,x,b),typeof g=="function")){typeof x!="function"&&x!==null&&(d in h?h[d]=null:h.hasAttribute(d)&&h.removeAttribute(d)),h.addEventListener(u,g,b);break t}d in h?h[d]=g:g===!0?h.setAttribute(d,""):Np(h,d,g)}}}function Yi(h,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",h),le("load",h);var g=!1,b=!1,x;for(x in d)if(d.hasOwnProperty(x)){var C=d[x];if(C!=null)switch(x){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:ke(h,u,x,C,d,null)}}b&&ke(h,u,"srcSet",d.srcSet,d,null),g&&ke(h,u,"src",d.src,d,null);return;case"input":le("invalid",h);var _=x=C=b=null,Y=null,it=null;for(g in d)if(d.hasOwnProperty(g)){var at=d[g];if(at!=null)switch(g){case"name":b=at;break;case"type":C=at;break;case"checked":Y=at;break;case"defaultChecked":it=at;break;case"value":x=at;break;case"defaultValue":_=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,u));break;default:ke(h,u,g,at,d,null)}}QA(h,x,_,Y,it,C,b,!1);return;case"select":le("invalid",h),g=C=x=null;for(b in d)if(d.hasOwnProperty(b)&&(_=d[b],_!=null))switch(b){case"value":x=_;break;case"defaultValue":C=_;break;case"multiple":g=_;default:ke(h,u,b,_,d,null)}u=x,d=C,h.multiple=!!g,u!=null?kh(h,!!g,u,!1):d!=null&&kh(h,!!g,d,!0);return;case"textarea":le("invalid",h),x=b=g=null;for(C in d)if(d.hasOwnProperty(C)&&(_=d[C],_!=null))switch(C){case"value":g=_;break;case"defaultValue":b=_;break;case"children":x=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:ke(h,u,C,_,d,null)}MA(h,g,b,x);return;case"option":for(Y in d)d.hasOwnProperty(Y)&&(g=d[Y],g!=null)&&(Y==="selected"?h.selected=g&&typeof g!="function"&&typeof g!="symbol":ke(h,u,Y,g,d,null));return;case"dialog":le("beforetoggle",h),le("toggle",h),le("cancel",h),le("close",h);break;case"iframe":case"object":le("load",h);break;case"video":case"audio":for(g=0;g<tc.length;g++)le(tc[g],h);break;case"image":le("error",h),le("load",h);break;case"details":le("toggle",h);break;case"embed":case"source":case"link":le("error",h),le("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in d)if(d.hasOwnProperty(it)&&(g=d[it],g!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:ke(h,u,it,g,d,null)}return;default:if(Y1(u)){for(at in d)d.hasOwnProperty(at)&&(g=d[at],g!==void 0&&Eb(h,u,at,g,d,void 0));return}}for(_ in d)d.hasOwnProperty(_)&&(g=d[_],g!=null&&ke(h,u,_,g,d,null))}function nX(h,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,C=null,_=null,Y=null,it=null,at=null;for(lt in d){var ft=d[lt];if(d.hasOwnProperty(lt)&&ft!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":Y=ft;default:g.hasOwnProperty(lt)||ke(h,u,lt,null,g,ft)}}for(var rt in g){var lt=g[rt];if(ft=d[rt],g.hasOwnProperty(rt)&&(lt!=null||ft!=null))switch(rt){case"type":x=lt;break;case"name":b=lt;break;case"checked":it=lt;break;case"defaultChecked":at=lt;break;case"value":C=lt;break;case"defaultValue":_=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,u));break;default:lt!==ft&&ke(h,u,rt,lt,g,ft)}}q1(h,C,_,Y,it,at,x,b);return;case"select":lt=C=_=rt=null;for(x in d)if(Y=d[x],d.hasOwnProperty(x)&&Y!=null)switch(x){case"value":break;case"multiple":lt=Y;default:g.hasOwnProperty(x)||ke(h,u,x,null,g,Y)}for(b in g)if(x=g[b],Y=d[b],g.hasOwnProperty(b)&&(x!=null||Y!=null))switch(b){case"value":rt=x;break;case"defaultValue":_=x;break;case"multiple":C=x;default:x!==Y&&ke(h,u,b,x,g,Y)}u=_,d=C,g=lt,rt!=null?kh(h,!!d,rt,!1):!!g!=!!d&&(u!=null?kh(h,!!d,u,!0):kh(h,!!d,d?[]:"",!1));return;case"textarea":lt=rt=null;for(_ in d)if(b=d[_],d.hasOwnProperty(_)&&b!=null&&!g.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ke(h,u,_,null,g,b)}for(C in g)if(b=g[C],x=d[C],g.hasOwnProperty(C)&&(b!=null||x!=null))switch(C){case"value":rt=b;break;case"defaultValue":lt=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==x&&ke(h,u,C,b,g,x)}PA(h,rt,lt);return;case"option":for(var Dt in d)rt=d[Dt],d.hasOwnProperty(Dt)&&rt!=null&&!g.hasOwnProperty(Dt)&&(Dt==="selected"?h.selected=!1:ke(h,u,Dt,null,g,rt));for(Y in g)rt=g[Y],lt=d[Y],g.hasOwnProperty(Y)&&rt!==lt&&(rt!=null||lt!=null)&&(Y==="selected"?h.selected=rt&&typeof rt!="function"&&typeof rt!="symbol":ke(h,u,Y,rt,g,lt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in d)rt=d[Yt],d.hasOwnProperty(Yt)&&rt!=null&&!g.hasOwnProperty(Yt)&&ke(h,u,Yt,null,g,rt);for(it in g)if(rt=g[it],lt=d[it],g.hasOwnProperty(it)&&rt!==lt&&(rt!=null||lt!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,u));break;default:ke(h,u,it,rt,g,lt)}return;default:if(Y1(u)){for(var $e in d)rt=d[$e],d.hasOwnProperty($e)&&rt!==void 0&&!g.hasOwnProperty($e)&&Eb(h,u,$e,void 0,g,rt);for(at in g)rt=g[at],lt=d[at],!g.hasOwnProperty(at)||rt===lt||rt===void 0&&lt===void 0||Eb(h,u,at,rt,g,lt);return}}for(var J in d)rt=d[J],d.hasOwnProperty(J)&&rt!=null&&!g.hasOwnProperty(J)&&ke(h,u,J,null,g,rt);for(ft in g)rt=g[ft],lt=d[ft],!g.hasOwnProperty(ft)||rt===lt||rt==null&&lt==null||ke(h,u,ft,rt,g,lt)}function DQ(h){switch(h){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rX(){if(typeof performance.getEntriesByType=="function"){for(var h=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var b=d[g],x=b.transferSize,C=b.initiatorType,_=b.duration;if(x&&_&&DQ(C)){for(C=0,_=b.responseEnd,g+=1;g<d.length;g++){var Y=d[g],it=Y.startTime;if(it>_)break;var at=Y.transferSize,ft=Y.initiatorType;at&&DQ(ft)&&(Y=Y.responseEnd,C+=at*(Y<_?1:(_-it)/(Y-it)))}if(--g,u+=8*(x+C)/(b.duration/1e3),h++,10<h)break}}if(0<h)return u/h/1e6}return navigator.connection&&(h=navigator.connection.downlink,typeof h=="number")?h:5}var Db=null,Bb=null;function _g(h){return h.nodeType===9?h:h.ownerDocument}function BQ(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _Q(h,u){if(h===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&u==="foreignObject"?0:h}function _b(h,u){return h==="textarea"||h==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var zb=null;function sX(){var h=window.event;return h&&h.type==="popstate"?h===zb?!1:(zb=h,!0):(zb=null,!1)}var zQ=typeof setTimeout=="function"?setTimeout:void 0,lX=typeof clearTimeout=="function"?clearTimeout:void 0,NQ=typeof Promise=="function"?Promise:void 0,oX=typeof queueMicrotask=="function"?queueMicrotask:typeof NQ<"u"?function(h){return NQ.resolve(null).then(h).catch(aX)}:zQ;function aX(h){setTimeout(function(){throw h})}function Po(h){return h==="head"}function LQ(h,u){var d=u,g=0;do{var b=d.nextSibling;if(h.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(g===0){h.removeChild(b),iu(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")ic(h.ownerDocument.documentElement);else if(d==="head"){d=h.ownerDocument.head,ic(d);for(var x=d.firstChild;x;){var C=x.nextSibling,_=x.nodeName;x[xf]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&x.rel.toLowerCase()==="stylesheet"||d.removeChild(x),x=C}}else d==="body"&&ic(h.ownerDocument.body);d=b}while(d);iu(u)}function ZQ(h,u){var d=h;h=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(h===0)break;h--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||h++;d=g}while(d)}function Nb(h){var u=h.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Nb(d),I1(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}h.removeChild(d)}}function hX(h,u,d,g){for(;h.nodeType===1;){var b=d;if(h.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(g){if(!h[xf])switch(u){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(x=h.getAttribute("rel"),x==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(x!==b.rel||h.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||h.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||h.getAttribute("title")!==(b.title==null?null:b.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(x=h.getAttribute("src"),(x!==(b.src==null?null:b.src)||h.getAttribute("type")!==(b.type==null?null:b.type)||h.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(u==="input"&&h.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&h.getAttribute("name")===x)return h}else return h;if(h=kr(h.nextSibling),h===null)break}return null}function uX(h,u,d){if(u==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!d||(h=kr(h.nextSibling),h===null))return null;return h}function VQ(h,u){for(;h.nodeType!==8;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!u||(h=kr(h.nextSibling),h===null))return null;return h}function Lb(h){return h.data==="$?"||h.data==="$~"}function Zb(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState!=="loading"}function fX(h,u){var d=h.ownerDocument;if(h.data==="$~")h._reactRetry=u;else if(h.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),h._reactRetry=g}}function kr(h){for(;h!=null;h=h.nextSibling){var u=h.nodeType;if(u===1||u===3)break;if(u===8){if(u=h.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return h}var Vb=null;function XQ(h){h=h.nextSibling;for(var u=0;h;){if(h.nodeType===8){var d=h.data;if(d==="/$"||d==="/&"){if(u===0)return kr(h.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}h=h.nextSibling}return null}function IQ(h){h=h.previousSibling;for(var u=0;h;){if(h.nodeType===8){var d=h.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return h;u--}else d!=="/$"&&d!=="/&"||u++}h=h.previousSibling}return null}function jQ(h,u,d){switch(u=_g(d),h){case"html":if(h=u.documentElement,!h)throw Error(i(452));return h;case"head":if(h=u.head,!h)throw Error(i(453));return h;case"body":if(h=u.body,!h)throw Error(i(454));return h;default:throw Error(i(451))}}function ic(h){for(var u=h.attributes;u.length;)h.removeAttributeNode(u[0]);I1(h)}var $r=new Map,qQ=new Set;function zg(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Bl=X.d;X.d={f:cX,r:dX,D:pX,C:gX,L:mX,m:OX,X:bX,S:yX,M:xX};function cX(){var h=Bl.f(),u=Tg();return h||u}function dX(h){var u=Sh(h);u!==null&&u.tag===5&&u.type==="form"?aT(u):Bl.r(h)}var Jh=typeof document>"u"?null:document;function WQ(h,u,d){var g=Jh;if(g&&typeof u=="string"&&u){var b=Or(u);b='link[rel="'+h+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),qQ.has(b)||(qQ.add(b),h={rel:h,crossOrigin:d,href:u},g.querySelector(b)===null&&(u=g.createElement("link"),Yi(u,"link",h),zi(u),g.head.appendChild(u)))}}function pX(h){Bl.D(h),WQ("dns-prefetch",h,null)}function gX(h,u){Bl.C(h,u),WQ("preconnect",h,u)}function mX(h,u,d){Bl.L(h,u,d);var g=Jh;if(g&&h&&u){var b='link[rel="preload"][as="'+Or(u)+'"]';u==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Or(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Or(d.imageSizes)+'"]')):b+='[href="'+Or(h)+'"]';var x=b;switch(u){case"style":x=tu(h);break;case"script":x=eu(h)}$r.has(x)||(h=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:h,as:u},d),$r.set(x,h),g.querySelector(b)!==null||u==="style"&&g.querySelector(nc(x))||u==="script"&&g.querySelector(rc(x))||(u=g.createElement("link"),Yi(u,"link",h),zi(u),g.head.appendChild(u)))}}function OX(h,u){Bl.m(h,u);var d=Jh;if(d&&h){var g=u&&typeof u.as=="string"?u.as:"script",b='link[rel="modulepreload"][as="'+Or(g)+'"][href="'+Or(h)+'"]',x=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=eu(h)}if(!$r.has(x)&&(h=p({rel:"modulepreload",href:h},u),$r.set(x,h),d.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(rc(x)))return}g=d.createElement("link"),Yi(g,"link",h),zi(g),d.head.appendChild(g)}}}function yX(h,u,d){Bl.S(h,u,d);var g=Jh;if(g&&h){var b=wh(g).hoistableStyles,x=tu(h);u=u||"default";var C=b.get(x);if(!C){var _={loading:0,preload:null};if(C=g.querySelector(nc(x)))_.loading=5;else{h=p({rel:"stylesheet",href:h,"data-precedence":u},d),(d=$r.get(x))&&Xb(h,d);var Y=C=g.createElement("link");zi(Y),Yi(Y,"link",h),Y._p=new Promise(function(it,at){Y.onload=it,Y.onerror=at}),Y.addEventListener("load",function(){_.loading|=1}),Y.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ng(C,u,g)}C={type:"stylesheet",instance:C,count:1,state:_},b.set(x,C)}}}function bX(h,u){Bl.X(h,u);var d=Jh;if(d&&h){var g=wh(d).hoistableScripts,b=eu(h),x=g.get(b);x||(x=d.querySelector(rc(b)),x||(h=p({src:h,async:!0},u),(u=$r.get(b))&&Ib(h,u),x=d.createElement("script"),zi(x),Yi(x,"link",h),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(b,x))}}function xX(h,u){Bl.M(h,u);var d=Jh;if(d&&h){var g=wh(d).hoistableScripts,b=eu(h),x=g.get(b);x||(x=d.querySelector(rc(b)),x||(h=p({src:h,async:!0,type:"module"},u),(u=$r.get(b))&&Ib(h,u),x=d.createElement("script"),zi(x),Yi(x,"link",h),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(b,x))}}function YQ(h,u,d,g){var b=(b=mt.current)?zg(b):null;if(!b)throw Error(i(446));switch(h){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=tu(d.href),d=wh(b).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){h=tu(d.href);var x=wh(b).hoistableStyles,C=x.get(h);if(C||(b=b.ownerDocument||b,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(h,C),(x=b.querySelector(nc(h)))&&!x._p&&(C.instance=x,C.state.loading=5),$r.has(h)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},$r.set(h,d),x||SX(b,h,d,C.state))),u&&g===null)throw Error(i(528,""));return C}if(u&&g!==null)throw Error(i(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=eu(d),d=wh(b).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,h))}}function tu(h){return'href="'+Or(h)+'"'}function nc(h){return'link[rel="stylesheet"]['+h+"]"}function HQ(h){return p({},h,{"data-precedence":h.precedence,precedence:null})}function SX(h,u,d,g){h.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=h.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),Yi(u,"link",d),zi(u),h.head.appendChild(u))}function eu(h){return'[src="'+Or(h)+'"]'}function rc(h){return"script[async]"+h}function UQ(h,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=h.querySelector('style[data-href~="'+Or(d.href)+'"]');if(g)return u.instance=g,zi(g),g;var b=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(h.ownerDocument||h).createElement("style"),zi(g),Yi(g,"style",b),Ng(g,d.precedence,h),u.instance=g;case"stylesheet":b=tu(d.href);var x=h.querySelector(nc(b));if(x)return u.state.loading|=4,u.instance=x,zi(x),x;g=HQ(d),(b=$r.get(b))&&Xb(g,b),x=(h.ownerDocument||h).createElement("link"),zi(x);var C=x;return C._p=new Promise(function(_,Y){C.onload=_,C.onerror=Y}),Yi(x,"link",g),u.state.loading|=4,Ng(x,d.precedence,h),u.instance=x;case"script":return x=eu(d.src),(b=h.querySelector(rc(x)))?(u.instance=b,zi(b),b):(g=d,(b=$r.get(x))&&(g=p({},d),Ib(g,b)),h=h.ownerDocument||h,b=h.createElement("script"),zi(b),Yi(b,"link",g),h.head.appendChild(b),u.instance=b);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Ng(g,d.precedence,h));return u.instance}function Ng(h,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,x=b,C=0;C<g.length;C++){var _=g[C];if(_.dataset.precedence===u)x=_;else if(x!==b)break}x?x.parentNode.insertBefore(h,x.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(h,u.firstChild))}function Xb(h,u){h.crossOrigin==null&&(h.crossOrigin=u.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=u.referrerPolicy),h.title==null&&(h.title=u.title)}function Ib(h,u){h.crossOrigin==null&&(h.crossOrigin=u.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=u.referrerPolicy),h.integrity==null&&(h.integrity=u.integrity)}var Lg=null;function GQ(h,u,d){if(Lg===null){var g=new Map,b=Lg=new Map;b.set(d,g)}else b=Lg,g=b.get(d),g||(g=new Map,b.set(d,g));if(g.has(h))return g;for(g.set(h,null),d=d.getElementsByTagName(h),b=0;b<d.length;b++){var x=d[b];if(!(x[xf]||x[Ii]||h==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(u)||"";C=h+C;var _=g.get(C);_?_.push(x):g.set(C,[x])}}return g}function FQ(h,u,d){h=h.ownerDocument||h,h.head.insertBefore(d,u==="title"?h.querySelector("head > title"):null)}function wX(h,u,d){if(d===1||u.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(h=u.disabled,typeof u.precedence=="string"&&h==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function KQ(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}function vX(h,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=tu(g.href),x=u.querySelector(nc(b));if(x){u=x._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(h.count++,h=Zg.bind(h),u.then(h,h)),d.state.loading|=4,d.instance=x,zi(x);return}x=u.ownerDocument||u,g=HQ(g),(b=$r.get(b))&&Xb(g,b),x=x.createElement("link"),zi(x);var C=x;C._p=new Promise(function(_,Y){C.onload=_,C.onerror=Y}),Yi(x,"link",g),d.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(h.count++,d=Zg.bind(h),u.addEventListener("load",d),u.addEventListener("error",d))}}var jb=0;function kX(h,u){return h.stylesheets&&h.count===0&&Xg(h,h.stylesheets),0<h.count||0<h.imgCount?function(d){var g=setTimeout(function(){if(h.stylesheets&&Xg(h,h.stylesheets),h.unsuspend){var x=h.unsuspend;h.unsuspend=null,x()}},6e4+u);0<h.imgBytes&&jb===0&&(jb=62500*rX());var b=setTimeout(function(){if(h.waitingForImages=!1,h.count===0&&(h.stylesheets&&Xg(h,h.stylesheets),h.unsuspend)){var x=h.unsuspend;h.unsuspend=null,x()}},(h.imgBytes>jb?50:800)+u);return h.unsuspend=d,function(){h.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function Zg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xg(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var Vg=null;function Xg(h,u){h.stylesheets=null,h.unsuspend!==null&&(h.count++,Vg=new Map,u.forEach($X,h),Vg=null,Zg.call(h))}function $X(h,u){if(!(u.state.loading&4)){var d=Vg.get(h);if(d)var g=d.get(null);else{d=new Map,Vg.set(h,d);for(var b=h.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var C=b[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(d.set(C.dataset.precedence,C),g=C)}g&&d.set(null,g)}b=u.instance,C=b.getAttribute("data-precedence"),x=d.get(C)||g,x===g&&d.set(null,b),d.set(C,b),this.count++,g=Zg.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),x?x.parentNode.insertBefore(b,x.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(b,h.firstChild)),u.state.loading|=4}}var sc={$$typeof:M,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function AX(h,u,d,g,b,x,C,_,Y){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L1(0),this.hiddenUpdates=L1(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function JQ(h,u,d,g,b,x,C,_,Y,it,at,ft){return h=new AX(h,u,d,C,Y,it,at,ft,_),u=1,x===!0&&(u|=24),x=Wn(3,null,null,u),h.current=x,x.stateNode=h,u=vy(),u.refCount++,h.pooledCache=u,u.refCount++,x.memoizedState={element:g,isDehydrated:d,cache:u},Cy(x),h}function t3(h){return h?(h=Rh,h):Rh}function e3(h,u,d,g,b,x){b=t3(b),g.context===null?g.context=b:g.pendingContext=b,g=bo(u),g.payload={element:d},x=x===void 0?null:x,x!==null&&(g.callback=x),d=xo(h,g,u),d!==null&&(Cn(d,h,u),zf(d,h,u))}function i3(h,u){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var d=h.retryLane;h.retryLane=d!==0&&d<u?d:u}}function qb(h,u){i3(h,u),(h=h.alternate)&&i3(h,u)}function n3(h){if(h.tag===13||h.tag===31){var u=Ra(h,67108864);u!==null&&Cn(u,h,67108864),qb(h,67108864)}}function r3(h){if(h.tag===13||h.tag===31){var u=Fn();u=Z1(u);var d=Ra(h,u);d!==null&&Cn(d,h,u),qb(h,u)}}var Ig=!0;function CX(h,u,d,g){var b=W.T;W.T=null;var x=X.p;try{X.p=2,Wb(h,u,d,g)}finally{X.p=x,W.T=b}}function TX(h,u,d,g){var b=W.T;W.T=null;var x=X.p;try{X.p=8,Wb(h,u,d,g)}finally{X.p=x,W.T=b}}function Wb(h,u,d,g){if(Ig){var b=Yb(g);if(b===null)Rb(h,u,g,jg,d),l3(h,g);else if(PX(b,h,u,d,g))g.stopPropagation();else if(l3(h,g),u&4&&-1<QX.indexOf(h)){for(;b!==null;){var x=Sh(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=gr(x.pendingLanes);if(C!==0){var _=x;for(_.pendingLanes|=2,_.entangledLanes|=2;C;){var Y=1<<31-ii(C);_.entanglements[1]|=Y,C&=~Y}hs(x),(me&6)===0&&(Ag=xt()+500,Jf(0))}}break;case 31:case 13:_=Ra(x,2),_!==null&&Cn(_,x,2),Tg(),qb(x,2)}if(x=Yb(g),x===null&&Rb(h,u,g,jg,d),x===b)break;b=x}b!==null&&g.stopPropagation()}else Rb(h,u,g,null,d)}}function Yb(h){return h=U1(h),Hb(h)}var jg=null;function Hb(h){if(jg=null,h=xh(h),h!==null){var u=s(h);if(u===null)h=null;else{var d=u.tag;if(d===13){if(h=l(u),h!==null)return h;h=null}else if(d===31){if(h=o(u),h!==null)return h;h=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;h=null}else u!==h&&(h=null)}}return jg=h,null}function s3(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Vt:return 2;case be:return 8;case re:case xn:return 32;case uo:return 268435456;default:return 32}default:return 32}}var Ub=!1,Mo=null,Ro=null,Eo=null,lc=new Map,oc=new Map,Do=[],QX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l3(h,u){switch(h){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":lc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(u.pointerId)}}function ac(h,u,d,g,b,x){return h===null||h.nativeEvent!==x?(h={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:x,targetContainers:[b]},u!==null&&(u=Sh(u),u!==null&&n3(u)),h):(h.eventSystemFlags|=g,u=h.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),h)}function PX(h,u,d,g,b){switch(u){case"focusin":return Mo=ac(Mo,h,u,d,g,b),!0;case"dragenter":return Ro=ac(Ro,h,u,d,g,b),!0;case"mouseover":return Eo=ac(Eo,h,u,d,g,b),!0;case"pointerover":var x=b.pointerId;return lc.set(x,ac(lc.get(x)||null,h,u,d,g,b)),!0;case"gotpointercapture":return x=b.pointerId,oc.set(x,ac(oc.get(x)||null,h,u,d,g,b)),!0}return!1}function o3(h){var u=xh(h.target);if(u!==null){var d=s(u);if(d!==null){if(u=d.tag,u===13){if(u=l(d),u!==null){h.blockedOn=u,SA(h.priority,function(){r3(d)});return}}else if(u===31){if(u=o(d),u!==null){h.blockedOn=u,SA(h.priority,function(){r3(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){h.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}h.blockedOn=null}function qg(h){if(h.blockedOn!==null)return!1;for(var u=h.targetContainers;0<u.length;){var d=Yb(h.nativeEvent);if(d===null){d=h.nativeEvent;var g=new d.constructor(d.type,d);H1=g,d.target.dispatchEvent(g),H1=null}else return u=Sh(d),u!==null&&n3(u),h.blockedOn=d,!1;u.shift()}return!0}function a3(h,u,d){qg(h)&&d.delete(u)}function MX(){Ub=!1,Mo!==null&&qg(Mo)&&(Mo=null),Ro!==null&&qg(Ro)&&(Ro=null),Eo!==null&&qg(Eo)&&(Eo=null),lc.forEach(a3),oc.forEach(a3)}function Wg(h,u){h.blockedOn===u&&(h.blockedOn=null,Ub||(Ub=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,MX)))}var Yg=null;function h3(h){Yg!==h&&(Yg=h,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yg===h&&(Yg=null);for(var u=0;u<h.length;u+=3){var d=h[u],g=h[u+1],b=h[u+2];if(typeof g!="function"){if(Hb(g||d)===null)continue;break}var x=Sh(d);x!==null&&(h.splice(u,3),u-=3,Yy(x,{pending:!0,data:b,method:d.method,action:g},g,b))}}))}function iu(h){function u(Y){return Wg(Y,h)}Mo!==null&&Wg(Mo,h),Ro!==null&&Wg(Ro,h),Eo!==null&&Wg(Eo,h),lc.forEach(u),oc.forEach(u);for(var d=0;d<Do.length;d++){var g=Do[d];g.blockedOn===h&&(g.blockedOn=null)}for(;0<Do.length&&(d=Do[0],d.blockedOn===null);)o3(d),d.blockedOn===null&&Do.shift();if(d=(h.ownerDocument||h).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var b=d[g],x=d[g+1],C=b[Sn]||null;if(typeof x=="function")C||h3(d);else if(C){var _=null;if(x&&x.hasAttribute("formAction")){if(b=x,C=x[Sn]||null)_=C.formAction;else if(Hb(b)!==null)continue}else _=C.action;typeof _=="function"?d[g+1]=_:(d.splice(g,3),g-=3),h3(d)}}}function u3(){function h(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(C){return b=C})},focusReset:"manual",scroll:"manual"})}function u(){b!==null&&(b(),b=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",h),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",h),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),b!==null&&(b(),b=null)}}}function Gb(h){this._internalRoot=h}Hg.prototype.render=Gb.prototype.render=function(h){var u=this._internalRoot;if(u===null)throw Error(i(409));var d=u.current,g=Fn();e3(d,g,h,u,null,null)},Hg.prototype.unmount=Gb.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var u=h.containerInfo;e3(h.current,2,null,h,null,null),Tg(),u[bh]=null}};function Hg(h){this._internalRoot=h}Hg.prototype.unstable_scheduleHydration=function(h){if(h){var u=xA();h={blockedOn:null,target:h,priority:u};for(var d=0;d<Do.length&&u!==0&&u<Do[d].priority;d++);Do.splice(d,0,h),d===0&&o3(h)}};var f3=t.version;if(f3!=="19.2.4")throw Error(i(527,f3,"19.2.4"));X.findDOMNode=function(h){var u=h._reactInternals;if(u===void 0)throw typeof h.render=="function"?Error(i(188)):(h=Object.keys(h).join(","),Error(i(268,h)));return h=f(u),h=h!==null?c(h):null,h=h===null?null:h.stateNode,h};var RX={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ug.isDisabled&&Ug.supportsFiber)try{Te=Ug.inject(RX),_i=Ug}catch{}}return uc.createRoot=function(h,u){if(!n(h))throw Error(i(299));var d=!1,g="",b=yT,x=bT,C=xT;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=JQ(h,1,!1,null,null,d,g,null,b,x,C,u3),h[bh]=u.current,Mb(h),new Gb(u)},uc.hydrateRoot=function(h,u,d){if(!n(h))throw Error(i(299));var g=!1,b="",x=yT,C=bT,_=xT,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(_=d.onRecoverableError),d.formState!==void 0&&(Y=d.formState)),u=JQ(h,1,!0,u,d??null,g,b,Y,x,C,_,u3),u.context=t3(null),d=u.current,g=Fn(),g=Z1(g),b=bo(g),b.callback=null,xo(d,b,g),d=g,u.current.lanes=d,bf(u,d),hs(u),h[bh]=u.current,Mb(h),new Hg(u)},uc.version="19.2.4",uc}var S3;function XX(){if(S3)return Jb.exports;S3=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Jb.exports=VX(),Jb.exports}var IX=XX();const jX=U2(IX),w3=r=>{let t;const e=new Set,i=(f,c)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const m=t;t=c??(typeof p!="object"||p===null)?p:Object.assign({},t,p),e.forEach(O=>O(t,m))}},n=()=>t,o={setState:i,getState:n,getInitialState:()=>a,subscribe:f=>(e.add(f),()=>e.delete(f))},a=t=r(i,n,o);return o},qX=(r=>r?w3(r):w3),WX=r=>r;function YX(r,t=WX){const e=Bc.useSyncExternalStore(r.subscribe,Bc.useCallback(()=>t(r.getState()),[r,t]),Bc.useCallback(()=>t(r.getInitialState()),[r,t]));return Bc.useDebugValue(e),e}const v3=r=>{const t=qX(r),e=i=>YX(t,i);return Object.assign(e,t),e},HX=(r=>r?v3(r):v3),_c=[{name:"Blank",html:"",css:"",js:""},{name:"Hello World",html:`<h1>Hello, World!</h1>
<p>Start editing to see your changes live.</p>`,css:`body {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  margin: 0;
  font-family: sans-serif;
  background: #0f172a;
  color: #e2e8f0;
}

h1 {
  color: #818cf8;
}`,js:'console.log("Hello from Code Playground!");'},{name:"CSS Animation",html:'<div class="box"></div>',css:`body {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  margin: 0;
  background: #0f172a;
}

.box {
  width: 80px;
  height: 80px;
  background: linear-gradient(135deg, #6366f1, #ec4899);
  border-radius: 16px;
  animation: spin 2s ease-in-out infinite;
}

@keyframes spin {
  0%   { transform: rotate(0deg) scale(1); }
  50%  { transform: rotate(180deg) scale(1.3); }
  100% { transform: rotate(360deg) scale(1); }
}`,js:""},{name:"Fetch API Demo",html:`<h2>Random User</h2>
<div id="user">Loading...</div>`,css:`body {
  font-family: sans-serif;
  padding: 2rem;
  background: #0f172a;
  color: #e2e8f0;
}

#user {
  margin-top: 1rem;
  padding: 1rem;
  background: #1e293b;
  border-radius: 8px;
}`,js:`fetch("https://randomuser.me/api/")
  .then(res => res.json())
  .then(data => {
    const u = data.results[0];
    document.getElementById("user").innerHTML = \`
      <img src="\${u.picture.medium}" style="border-radius:50%"/>
      <p><strong>\${u.name.first} \${u.name.last}</strong></p>
      <p>\${u.email}</p>
    \`;
  })
  .catch(err => {
    document.getElementById("user").textContent = "Error: " + err.message;
  });`},{name:"Canvas Drawing",html:'<canvas id="canvas" width="400" height="400"></canvas>',css:`body {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  margin: 0;
  background: #0f172a;
}

canvas {
  border: 2px solid #334155;
  border-radius: 8px;
}`,js:`const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

for (let i = 0; i < 50; i++) {
  ctx.beginPath();
  const x = Math.random() * 400;
  const y = Math.random() * 400;
  const r = Math.random() * 30 + 5;
  ctx.arc(x, y, r, 0, Math.PI * 2);
  ctx.fillStyle = \`hsla(\${Math.random() * 360}, 70%, 60%, 0.6)\`;
  ctx.fill();
}`}],MD="code-playground-snippets",UX=()=>{try{const r=localStorage.getItem(MD);return r?JSON.parse(r):[]}catch{return[]}},k3=r=>{localStorage.setItem(MD,JSON.stringify(r))},ne=HX((r,t)=>({html:_c[1].html,css:_c[1].css,js:_c[1].js,setHtml:e=>r({html:e}),setCss:e=>r({css:e}),setJs:e=>r({js:e}),activeTab:"html",setActiveTab:e=>r({activeTab:e}),theme:"dark",toggleTheme:()=>r(e=>({theme:e.theme==="dark"?"light":"dark"})),editorTheme:"oneDark",setEditorTheme:e=>r({editorTheme:e}),loadTemplate:e=>{const i=_c[e];i&&r({html:i.html,css:i.css,js:i.js})},resetCode:()=>r({html:"",css:"",js:""}),savedSnippets:UX(),saveSnippet:e=>{const{html:i,css:n,js:s,savedSnippets:l}=t(),a=[{name:e||`Snippet ${l.length+1}`,html:i,css:n,js:s,date:new Date().toISOString()},...l];k3(a),r({savedSnippets:a})},loadSnippet:e=>{const{savedSnippets:i}=t(),n=i[e];n&&r({html:n.html,css:n.css,js:n.js})},deleteSnippet:e=>{const{savedSnippets:i}=t(),n=i.filter((s,l)=>l!==e);k3(n),r({savedSnippets:n})}}));function Gg(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nx={exports:{}};var $3;function GX(){return $3||($3=1,(function(r,t){(function(e){r.exports=e()})(function(){return(function e(i,n,s){function l(f,c){if(!n[f]){if(!i[f]){var p=typeof Gg=="function"&&Gg;if(!c&&p)return p(f,!0);if(o)return o(f,!0);var m=new Error("Cannot find module '"+f+"'");throw m.code="MODULE_NOT_FOUND",m}var O=n[f]={exports:{}};i[f][0].call(O.exports,function(y){var S=i[f][1][y];return l(S||y)},O,O.exports,e,i,n,s)}return n[f].exports}for(var o=typeof Gg=="function"&&Gg,a=0;a<s.length;a++)l(s[a]);return l})({1:[function(e,i,n){var s=e("./utils"),l=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(a){for(var f,c,p,m,O,y,S,w=[],v=0,T=a.length,M=T,N=s.getTypeOf(a)!=="string";v<a.length;)M=T-v,p=N?(f=a[v++],c=v<T?a[v++]:0,v<T?a[v++]:0):(f=a.charCodeAt(v++),c=v<T?a.charCodeAt(v++):0,v<T?a.charCodeAt(v++):0),m=f>>2,O=(3&f)<<4|c>>4,y=1<M?(15&c)<<2|p>>6:64,S=2<M?63&p:64,w.push(o.charAt(m)+o.charAt(O)+o.charAt(y)+o.charAt(S));return w.join("")},n.decode=function(a){var f,c,p,m,O,y,S=0,w=0,v="data:";if(a.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var T,M=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===o.charAt(64)&&M--,a.charAt(a.length-2)===o.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=l.uint8array?new Uint8Array(0|M):new Array(0|M);S<a.length;)f=o.indexOf(a.charAt(S++))<<2|(m=o.indexOf(a.charAt(S++)))>>4,c=(15&m)<<4|(O=o.indexOf(a.charAt(S++)))>>2,p=(3&O)<<6|(y=o.indexOf(a.charAt(S++))),T[w++]=f,O!==64&&(T[w++]=c),y!==64&&(T[w++]=p);return T}},{"./support":30,"./utils":32}],2:[function(e,i,n){var s=e("./external"),l=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function f(c,p,m,O,y){this.compressedSize=c,this.uncompressedSize=p,this.crc32=m,this.compression=O,this.compressedContent=y}f.prototype={getContentWorker:function(){var c=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),p=this;return c.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(c,p,m){return c.pipe(new o).pipe(new a("uncompressedSize")).pipe(p.compressWorker(m)).pipe(new a("compressedSize")).withStreamInfo("compression",p)},i.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,n){var s=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,n){var s=e("./utils"),l=(function(){for(var o,a=[],f=0;f<256;f++){o=f;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[f]=o}return a})();i.exports=function(o,a){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(f,c,p,m){var O=l,y=m+p;f^=-1;for(var S=m;S<y;S++)f=f>>>8^O[255&(f^c[S])];return-1^f})(0|a,o,o.length,0):(function(f,c,p,m){var O=l,y=m+p;f^=-1;for(var S=m;S<y;S++)f=f>>>8^O[255&(f^c.charCodeAt(S))];return-1^f})(0|a,o,o.length,0):0}},{"./utils":32}],5:[function(e,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,i,n){var s=null;s=typeof Promise<"u"?Promise:e("lie"),i.exports={Promise:s}},{lie:37}],7:[function(e,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),f=s?"uint8array":"array";function c(p,m){a.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=m,this.meta={}}n.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(f,p.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(m){p.push({data:m,meta:p.meta})}},n.compressWorker=function(p){return new c("Deflate",p)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,n){function s(O,y){var S,w="";for(S=0;S<y;S++)w+=String.fromCharCode(255&O),O>>>=8;return w}function l(O,y,S,w,v,T){var M,N,P=O.file,E=O.compression,A=T!==f.utf8encode,V=o.transformTo("string",T(P.name)),D=o.transformTo("string",f.utf8encode(P.name)),Z=P.comment,z=o.transformTo("string",T(Z)),k=o.transformTo("string",f.utf8encode(Z)),L=D.length!==P.name.length,$=k.length!==Z.length,j="",W="",X="",st=P.dir,F=P.date,pt={crc32:0,compressedSize:0,uncompressedSize:0};y&&!S||(pt.crc32=O.crc32,pt.compressedSize=O.compressedSize,pt.uncompressedSize=O.uncompressedSize);var R=0;y&&(R|=8),A||!L&&!$||(R|=2048);var B=0,H=0;st&&(B|=16),v==="UNIX"?(H=798,B|=(function(tt,mt){var Rt=tt;return tt||(Rt=mt?16893:33204),(65535&Rt)<<16})(P.unixPermissions,st)):(H=20,B|=(function(tt){return 63&(tt||0)})(P.dosPermissions)),M=F.getUTCHours(),M<<=6,M|=F.getUTCMinutes(),M<<=5,M|=F.getUTCSeconds()/2,N=F.getUTCFullYear()-1980,N<<=4,N|=F.getUTCMonth()+1,N<<=5,N|=F.getUTCDate(),L&&(W=s(1,1)+s(c(V),4)+D,j+="up"+s(W.length,2)+W),$&&(X=s(1,1)+s(c(z),4)+k,j+="uc"+s(X.length,2)+X);var G="";return G+=`
\0`,G+=s(R,2),G+=E.magic,G+=s(M,2),G+=s(N,2),G+=s(pt.crc32,4),G+=s(pt.compressedSize,4),G+=s(pt.uncompressedSize,4),G+=s(V.length,2),G+=s(j.length,2),{fileRecord:p.LOCAL_FILE_HEADER+G+V+j,dirRecord:p.CENTRAL_FILE_HEADER+s(H,2)+G+s(z.length,2)+"\0\0\0\0"+s(B,4)+s(w,4)+V+j+z}}var o=e("../utils"),a=e("../stream/GenericWorker"),f=e("../utf8"),c=e("../crc32"),p=e("../signature");function m(O,y,S,w){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=S,this.encodeFileName=w,this.streamFiles=O,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(m,a),m.prototype.push=function(O){var y=O.meta.percent||0,S=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(O):(this.bytesWritten+=O.data.length,a.prototype.push.call(this,{data:O.data,meta:{currentFile:this.currentFile,percent:S?(y+100*(S-w-1))/S:100}}))},m.prototype.openedSource=function(O){this.currentSourceOffset=this.bytesWritten,this.currentFile=O.file.name;var y=this.streamFiles&&!O.file.dir;if(y){var S=l(O,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(O){this.accumulate=!1;var y=this.streamFiles&&!O.file.dir,S=l(O,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),y)this.push({data:(function(w){return p.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)})(O),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var O=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var S=this.bytesWritten-O,w=(function(v,T,M,N,P){var E=o.transformTo("string",P(N));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(T,4)+s(M,4)+s(E.length,2)+E})(this.dirRecords.length,S,O,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(O){this._sources.push(O);var y=this;return O.on("data",function(S){y.processChunk(S)}),O.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),O.on("error",function(S){y.error(S)}),this},m.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(O){var y=this._sources;if(!a.prototype.error.call(this,O))return!1;for(var S=0;S<y.length;S++)try{y[S].error(O)}catch{}return!0},m.prototype.lock=function(){a.prototype.lock.call(this);for(var O=this._sources,y=0;y<O.length;y++)O[y].lock()},i.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,n){var s=e("../compressions"),l=e("./ZipFileWorker");n.generateWorker=function(o,a,f){var c=new l(a.streamFiles,f,a.platform,a.encodeFileName),p=0;try{o.forEach(function(m,O){p++;var y=(function(T,M){var N=T||M,P=s[N];if(!P)throw new Error(N+" is not a valid compression method !");return P})(O.options.compression,a.compression),S=O.options.compressionOptions||a.compressionOptions||{},w=O.dir,v=O.date;O._compressWorker(y,S).withStreamInfo("file",{name:m,dir:w,date:v,comment:O.comment||"",unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions}).pipe(c)}),c.entriesCount=p}catch(m){c.error(m)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var o in this)typeof this[o]!="function"&&(l[o]=this[o]);return l}}(s.prototype=e("./object")).loadAsync=e("./load"),s.support=e("./support"),s.defaults=e("./defaults"),s.version="3.10.1",s.loadAsync=function(l,o){return new s().loadAsync(l,o)},s.external=e("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,n){var s=e("./utils"),l=e("./external"),o=e("./utf8"),a=e("./zipEntries"),f=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function p(m){return new l.Promise(function(O,y){var S=m.decompressed.getContentWorker().pipe(new f);S.on("error",function(w){y(w)}).on("end",function(){S.streamInfo.crc32!==m.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):O()}).resume()})}i.exports=function(m,O){var y=this;return O=s.extend(O||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(m)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,O.optimizedBinaryString,O.base64).then(function(S){var w=new a(O);return w.load(S),w}).then(function(S){var w=[l.Promise.resolve(S)],v=S.files;if(O.checkCRC32)for(var T=0;T<v.length;T++)w.push(p(v[T]));return l.Promise.all(w)}).then(function(S){for(var w=S.shift(),v=w.files,T=0;T<v.length;T++){var M=v[T],N=M.fileNameStr,P=s.resolve(M.fileNameStr);y.file(P,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:O.createFolders}),M.dir||(y.file(P).unsafeOriginalName=N)}return w.zipComment.length&&(y.comment=w.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,n){var s=e("../utils"),l=e("../stream/GenericWorker");function o(a,f){l.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(o,l),o.prototype._bindStream=function(a){var f=this;(this._stream=a).pause(),a.on("data",function(c){f.push({data:c,meta:{percent:0}})}).on("error",function(c){f.isPaused?this.generatedError=c:f.error(c)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},o.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,n){var s=e("readable-stream").Readable;function l(o,a,f){s.call(this,a),this._helper=o;var c=this;o.on("data",function(p,m){c.push(p)||c._helper.pause(),f&&f(m)}).on("error",function(p){c.emit("error",p)}).on("end",function(){c.push(null)})}e("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},i.exports=l},{"../utils":32,"readable-stream":16}],14:[function(e,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(e,i,n){function s(P,E,A){var V,D=o.getTypeOf(E),Z=o.extend(A||{},c);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(P=v(P)),Z.createFolders&&(V=w(P))&&T.call(this,V,!0);var z=D==="string"&&Z.binary===!1&&Z.base64===!1;A&&A.binary!==void 0||(Z.binary=!z),(E instanceof p&&E.uncompressedSize===0||Z.dir||!E||E.length===0)&&(Z.base64=!1,Z.binary=!0,E="",Z.compression="STORE",D="string");var k=null;k=E instanceof p||E instanceof a?E:y.isNode&&y.isStream(E)?new S(P,E):o.prepareContent(P,E,Z.binary,Z.optimizedBinaryString,Z.base64);var L=new m(P,k,Z);this.files[P]=L}var l=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),f=e("./stream/StreamHelper"),c=e("./defaults"),p=e("./compressedObject"),m=e("./zipObject"),O=e("./generate"),y=e("./nodejsUtils"),S=e("./nodejs/NodejsStreamInputAdapter"),w=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var E=P.lastIndexOf("/");return 0<E?P.substring(0,E):""},v=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},T=function(P,E){return E=E!==void 0?E:c.createFolders,P=v(P),this.files[P]||s.call(this,P,null,{dir:!0,createFolders:E}),this.files[P]};function M(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var E,A,V;for(E in this.files)V=this.files[E],(A=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&P(A,V)},filter:function(P){var E=[];return this.forEach(function(A,V){P(A,V)&&E.push(V)}),E},file:function(P,E,A){if(arguments.length!==1)return P=this.root+P,s.call(this,P,E,A),this;if(M(P)){var V=P;return this.filter(function(Z,z){return!z.dir&&V.test(Z)})}var D=this.files[this.root+P];return D&&!D.dir?D:null},folder:function(P){if(!P)return this;if(M(P))return this.filter(function(D,Z){return Z.dir&&P.test(D)});var E=this.root+P,A=T.call(this,E),V=this.clone();return V.root=A.name,V},remove:function(P){P=this.root+P;var E=this.files[P];if(E||(P.slice(-1)!=="/"&&(P+="/"),E=this.files[P]),E&&!E.dir)delete this.files[P];else for(var A=this.filter(function(D,Z){return Z.name.slice(0,P.length)===P}),V=0;V<A.length;V++)delete this.files[A[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var E,A={};try{if((A=o.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");o.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var V=A.comment||this.comment||"";E=O.generateWorker(this,A,V)}catch(D){(E=new a("error")).error(D)}return new f(E,A.type||"string",A.mimeType)},generateAsync:function(P,E){return this.generateInternalStream(P).accumulate(E)},generateNodeStream:function(P,E){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(E)}};i.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,n){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,n){var s=e("./DataReader");function l(o){s.call(this,o);for(var a=0;a<this.data.length;a++)o[a]=255&o[a]}e("../utils").inherits(l,s),l.prototype.byteAt=function(o){return this.data[this.zero+o]},l.prototype.lastIndexOfSignature=function(o){for(var a=o.charCodeAt(0),f=o.charCodeAt(1),c=o.charCodeAt(2),p=o.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===a&&this.data[m+1]===f&&this.data[m+2]===c&&this.data[m+3]===p)return m-this.zero;return-1},l.prototype.readAndCheckSignature=function(o){var a=o.charCodeAt(0),f=o.charCodeAt(1),c=o.charCodeAt(2),p=o.charCodeAt(3),m=this.readData(4);return a===m[0]&&f===m[1]&&c===m[2]&&p===m[3]},l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},i.exports=l},{"../utils":32,"./DataReader":18}],18:[function(e,i,n){var s=e("../utils");function l(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var a,f=0;for(this.checkOffset(o),a=this.index+o-1;a>=this.index;a--)f=(f<<8)+this.byteAt(a);return this.index+=o,f},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},i.exports=l},{"../utils":32}],19:[function(e,i,n){var s=e("./Uint8ArrayReader");function l(o){s.call(this,o)}e("../utils").inherits(l,s),l.prototype.readData=function(o){this.checkOffset(o);var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},i.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,n){var s=e("./DataReader");function l(o){s.call(this,o)}e("../utils").inherits(l,s),l.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},l.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},l.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},l.prototype.readData=function(o){this.checkOffset(o);var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},i.exports=l},{"../utils":32,"./DataReader":18}],21:[function(e,i,n){var s=e("./ArrayReader");function l(o){s.call(this,o)}e("../utils").inherits(l,s),l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},i.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,n){var s=e("../utils"),l=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),f=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");i.exports=function(p){var m=s.getTypeOf(p);return s.checkSupport(m),m!=="string"||l.uint8array?m==="nodebuffer"?new f(p):l.uint8array?new c(s.transformTo("uint8array",p)):new o(s.transformTo("array",p)):new a(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,n){var s=e("./GenericWorker"),l=e("../utils");function o(a){s.call(this,"ConvertWorker to "+a),this.destType=a}l.inherits(o,s),o.prototype.processChunk=function(a){this.push({data:l.transformTo(this.destType,a.data),meta:a.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,n){var s=e("./GenericWorker"),l=e("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,s),o.prototype.processChunk=function(a){this.streamInfo.crc32=l(a.data,this.streamInfo.crc32||0),this.push(a)},i.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,n){var s=e("../utils"),l=e("./GenericWorker");function o(a){l.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}s.inherits(o,l),o.prototype.processChunk=function(a){if(a){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+a.data.length}l.prototype.processChunk.call(this,a)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,n){var s=e("../utils"),l=e("./GenericWorker");function o(a){l.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(c){f.dataIsReady=!0,f.data=c,f.max=c&&c.length||0,f.type=s.getTypeOf(c),f.isPaused||f._tickAndRepeat()},function(c){f.error(c)})}s.inherits(o,l),o.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,f);break;case"uint8array":a=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":a=this.data.slice(this.index,f)}return this.index=f,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,n){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,o){return this._listeners[l].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,o){if(this._listeners[l])for(var a=0;a<this._listeners[l].length;a++)this._listeners[l][a].call(this,o)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var o=this;return l.on("data",function(a){o.processChunk(a)}),l.on("end",function(){o.end()}),l.on("error",function(a){o.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,o){return this.extraStreamInfo[l]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},i.exports=s},{}],29:[function(e,i,n){var s=e("../utils"),l=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),f=e("../support"),c=e("../external"),p=null;if(f.nodestream)try{p=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(y,S){return new c.Promise(function(w,v){var T=[],M=y._internalType,N=y._outputType,P=y._mimeType;y.on("data",function(E,A){T.push(E),S&&S(A)}).on("error",function(E){T=[],v(E)}).on("end",function(){try{var E=(function(A,V,D){switch(A){case"blob":return s.newBlob(s.transformTo("arraybuffer",V),D);case"base64":return a.encode(V);default:return s.transformTo(A,V)}})(N,(function(A,V){var D,Z=0,z=null,k=0;for(D=0;D<V.length;D++)k+=V[D].length;switch(A){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(z=new Uint8Array(k),D=0;D<V.length;D++)z.set(V[D],Z),Z+=V[D].length;return z;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+A+"'")}})(M,T),P);w(E)}catch(A){v(A)}T=[]}).resume()})}function O(y,S,w){var v=S;switch(S){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=S,this._mimeType=w,s.checkSupport(v),this._worker=y.pipe(new l(v)),y.lock()}catch(T){this._worker=new o("error"),this._worker.error(T)}}O.prototype={accumulate:function(y){return m(this,y)},on:function(y,S){var w=this;return y==="data"?this._worker.on(y,function(v){S.call(w,v.data,v.meta)}):this._worker.on(y,function(){s.delay(S,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},y)}},i.exports=O},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),n.blob=l.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,n){for(var s=e("./utils"),l=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),f=new Array(256),c=0;c<256;c++)f[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;f[254]=f[254]=1;function p(){a.call(this,"utf-8 decode"),this.leftOver=null}function m(){a.call(this,"utf-8 encode")}n.utf8encode=function(O){return l.nodebuffer?o.newBufferFrom(O,"utf-8"):(function(y){var S,w,v,T,M,N=y.length,P=0;for(T=0;T<N;T++)(64512&(w=y.charCodeAt(T)))==55296&&T+1<N&&(64512&(v=y.charCodeAt(T+1)))==56320&&(w=65536+(w-55296<<10)+(v-56320),T++),P+=w<128?1:w<2048?2:w<65536?3:4;for(S=l.uint8array?new Uint8Array(P):new Array(P),T=M=0;M<P;T++)(64512&(w=y.charCodeAt(T)))==55296&&T+1<N&&(64512&(v=y.charCodeAt(T+1)))==56320&&(w=65536+(w-55296<<10)+(v-56320),T++),w<128?S[M++]=w:(w<2048?S[M++]=192|w>>>6:(w<65536?S[M++]=224|w>>>12:(S[M++]=240|w>>>18,S[M++]=128|w>>>12&63),S[M++]=128|w>>>6&63),S[M++]=128|63&w);return S})(O)},n.utf8decode=function(O){return l.nodebuffer?s.transformTo("nodebuffer",O).toString("utf-8"):(function(y){var S,w,v,T,M=y.length,N=new Array(2*M);for(S=w=0;S<M;)if((v=y[S++])<128)N[w++]=v;else if(4<(T=f[v]))N[w++]=65533,S+=T-1;else{for(v&=T===2?31:T===3?15:7;1<T&&S<M;)v=v<<6|63&y[S++],T--;1<T?N[w++]=65533:v<65536?N[w++]=v:(v-=65536,N[w++]=55296|v>>10&1023,N[w++]=56320|1023&v)}return N.length!==w&&(N.subarray?N=N.subarray(0,w):N.length=w),s.applyFromCharCode(N)})(O=s.transformTo(l.uint8array?"uint8array":"array",O))},s.inherits(p,a),p.prototype.processChunk=function(O){var y=s.transformTo(l.uint8array?"uint8array":"array",O.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var S=y;(y=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),y.set(S,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var w=(function(T,M){var N;for((M=M||T.length)>T.length&&(M=T.length),N=M-1;0<=N&&(192&T[N])==128;)N--;return N<0||N===0?M:N+f[T[N]]>M?N:M})(y),v=y;w!==y.length&&(l.uint8array?(v=y.subarray(0,w),this.leftOver=y.subarray(w,y.length)):(v=y.slice(0,w),this.leftOver=y.slice(w,y.length))),this.push({data:n.utf8decode(v),meta:O.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=p,s.inherits(m,a),m.prototype.processChunk=function(O){this.push({data:n.utf8encode(O.data),meta:O.meta})},n.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,n){var s=e("./support"),l=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function f(S){return S}function c(S,w){for(var v=0;v<S.length;++v)w[v]=255&S.charCodeAt(v);return w}e("setimmediate"),n.newBlob=function(S,w){n.checkSupport("blob");try{return new Blob([S],{type:w})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(S),v.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(S,w,v){var T=[],M=0,N=S.length;if(N<=v)return String.fromCharCode.apply(null,S);for(;M<N;)w==="array"||w==="nodebuffer"?T.push(String.fromCharCode.apply(null,S.slice(M,Math.min(M+v,N)))):T.push(String.fromCharCode.apply(null,S.subarray(M,Math.min(M+v,N)))),M+=v;return T.join("")},stringifyByChar:function(S){for(var w="",v=0;v<S.length;v++)w+=String.fromCharCode(S[v]);return w},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function m(S){var w=65536,v=n.getTypeOf(S),T=!0;if(v==="uint8array"?T=p.applyCanBeUsed.uint8array:v==="nodebuffer"&&(T=p.applyCanBeUsed.nodebuffer),T)for(;1<w;)try{return p.stringifyByChunk(S,v,w)}catch{w=Math.floor(w/2)}return p.stringifyByChar(S)}function O(S,w){for(var v=0;v<S.length;v++)w[v]=S[v];return w}n.applyFromCharCode=m;var y={};y.string={string:f,array:function(S){return c(S,new Array(S.length))},arraybuffer:function(S){return y.string.uint8array(S).buffer},uint8array:function(S){return c(S,new Uint8Array(S.length))},nodebuffer:function(S){return c(S,o.allocBuffer(S.length))}},y.array={string:m,array:f,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return o.newBufferFrom(S)}},y.arraybuffer={string:function(S){return m(new Uint8Array(S))},array:function(S){return O(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:f,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return o.newBufferFrom(new Uint8Array(S))}},y.uint8array={string:m,array:function(S){return O(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:f,nodebuffer:function(S){return o.newBufferFrom(S)}},y.nodebuffer={string:m,array:function(S){return O(S,new Array(S.length))},arraybuffer:function(S){return y.nodebuffer.uint8array(S).buffer},uint8array:function(S){return O(S,new Uint8Array(S.length))},nodebuffer:f},n.transformTo=function(S,w){if(w=w||"",!S)return w;n.checkSupport(S);var v=n.getTypeOf(w);return y[v][S](w)},n.resolve=function(S){for(var w=S.split("/"),v=[],T=0;T<w.length;T++){var M=w[T];M==="."||M===""&&T!==0&&T!==w.length-1||(M===".."?v.pop():v.push(M))}return v.join("/")},n.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(S)?"nodebuffer":s.uint8array&&S instanceof Uint8Array?"uint8array":s.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(S){if(!s[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(S){var w,v,T="";for(v=0;v<(S||"").length;v++)T+="\\x"+((w=S.charCodeAt(v))<16?"0":"")+w.toString(16).toUpperCase();return T},n.delay=function(S,w,v){setImmediate(function(){S.apply(v||null,w||[])})},n.inherits=function(S,w){function v(){}v.prototype=w.prototype,S.prototype=new v},n.extend=function(){var S,w,v={};for(S=0;S<arguments.length;S++)for(w in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],w)&&v[w]===void 0&&(v[w]=arguments[S][w]);return v},n.prepareContent=function(S,w,v,T,M){return a.Promise.resolve(w).then(function(N){return s.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new a.Promise(function(P,E){var A=new FileReader;A.onload=function(V){P(V.target.result)},A.onerror=function(V){E(V.target.error)},A.readAsArrayBuffer(N)}):N}).then(function(N){var P=n.getTypeOf(N);return P?(P==="arraybuffer"?N=n.transformTo("uint8array",N):P==="string"&&(M?N=l.decode(N):v&&T!==!0&&(N=(function(E){return c(E,s.uint8array?new Uint8Array(E.length):new Array(E.length))})(N))),N):a.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,n){var s=e("./reader/readerFor"),l=e("./utils"),o=e("./signature"),a=e("./zipEntry"),f=e("./support");function c(p){this.files=[],this.loadOptions=p}c.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(m)+", expected "+l.pretty(p)+")")}},isSignature:function(p,m){var O=this.reader.index;this.reader.setIndex(p);var y=this.reader.readString(4)===m;return this.reader.setIndex(O),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),m=f.uint8array?"uint8array":"array",O=l.transformTo(m,p);this.zipComment=this.loadOptions.decodeFileName(O)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,m,O,y=this.zip64EndOfCentralSize-44;0<y;)p=this.reader.readInt(2),m=this.reader.readInt(4),O=this.reader.readData(m),this.zip64ExtensibleData[p]={id:p,length:m,value:O}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,m;for(p=0;p<this.files.length;p++)m=this.files[p],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(p=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var m=p;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var O=this.centralDirOffset+this.centralDirSize;this.zip64&&(O+=20,O+=12+this.zip64EndOfCentralSize);var y=m-O;if(0<y)this.isSignature(m,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,n){var s=e("./reader/readerFor"),l=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),f=e("./utf8"),c=e("./compressions"),p=e("./support");function m(O,y){this.options=O,this.loadOptions=y}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(O){var y,S;if(O.skip(22),this.fileNameLength=O.readInt(2),S=O.readInt(2),this.fileName=O.readData(this.fileNameLength),O.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(w){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===w)return c[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,O.readData(this.compressedSize))},readCentralPart:function(O){this.versionMadeBy=O.readInt(2),O.skip(2),this.bitFlag=O.readInt(2),this.compressionMethod=O.readString(2),this.date=O.readDate(),this.crc32=O.readInt(4),this.compressedSize=O.readInt(4),this.uncompressedSize=O.readInt(4);var y=O.readInt(2);if(this.extraFieldsLength=O.readInt(2),this.fileCommentLength=O.readInt(2),this.diskNumberStart=O.readInt(2),this.internalFileAttributes=O.readInt(2),this.externalFileAttributes=O.readInt(4),this.localHeaderOffset=O.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");O.skip(y),this.readExtraFields(O),this.parseZIP64ExtraField(O),this.fileComment=O.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var O=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),O==0&&(this.dosPermissions=63&this.externalFileAttributes),O==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var O=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=O.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=O.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=O.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=O.readInt(4))}},readExtraFields:function(O){var y,S,w,v=O.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});O.index+4<v;)y=O.readInt(2),S=O.readInt(2),w=O.readData(S),this.extraFields[y]={id:y,length:S,value:w};O.setIndex(v)},handleUTF8:function(){var O=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var S=l.transformTo(O,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var v=l.transformTo(O,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var O=this.extraFields[28789];if(O){var y=s(O.value);return y.readInt(1)!==1||a(this.fileName)!==y.readInt(4)?null:f.utf8decode(y.readData(O.length-5))}return null},findExtraFieldUnicodeComment:function(){var O=this.extraFields[25461];if(O){var y=s(O.value);return y.readInt(1)!==1||a(this.fileComment)!==y.readInt(4)?null:f.utf8decode(y.readData(O.length-5))}return null}},i.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,n){function s(y,S,w){this.name=y,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=S,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var l=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),f=e("./compressedObject"),c=e("./stream/GenericWorker");s.prototype={internalStream:function(y){var S=null,w="string";try{if(!y)throw new Error("No output type specified.");var v=(w=y.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),S=this._decompressWorker();var T=!this._dataBinary;T&&!v&&(S=S.pipe(new a.Utf8EncodeWorker)),!T&&v&&(S=S.pipe(new a.Utf8DecodeWorker))}catch(M){(S=new c("error")).error(M)}return new l(S,w,"")},async:function(y,S){return this.internalStream(y).accumulate(S)},nodeStream:function(y,S){return this.internalStream(y||"nodebuffer").toNodejsStream(S)},_compressWorker:function(y,S){if(this._data instanceof f&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new a.Utf8EncodeWorker)),f.createWorkerFrom(w,y,S)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},O=0;O<p.length;O++)s.prototype[p[O]]=m;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,n){(function(s){var l,o,a=s.MutationObserver||s.WebKitMutationObserver;if(a){var f=0,c=new a(y),p=s.document.createTextNode("");c.observe(p,{characterData:!0}),l=function(){p.data=f=++f%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var S=s.document.createElement("script");S.onreadystatechange=function(){y(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},s.document.documentElement.appendChild(S)}:function(){setTimeout(y,0)};else{var m=new s.MessageChannel;m.port1.onmessage=y,l=function(){m.port2.postMessage(0)}}var O=[];function y(){var S,w;o=!0;for(var v=O.length;v;){for(w=O,O=[],S=-1;++S<v;)w[S]();v=O.length}o=!1}i.exports=function(S){O.push(S)!==1||o||l()}}).call(this,typeof ra<"u"?ra:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,n){var s=e("immediate");function l(){}var o={},a=["REJECTED"],f=["FULFILLED"],c=["PENDING"];function p(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==l&&S(this,v)}function m(v,T,M){this.promise=v,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function O(v,T,M){s(function(){var N;try{N=T(M)}catch(P){return o.reject(v,P)}N===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,N)})}function y(v){var T=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof T=="function")return function(){T.apply(v,arguments)}}function S(v,T){var M=!1;function N(A){M||(M=!0,o.reject(v,A))}function P(A){M||(M=!0,o.resolve(v,A))}var E=w(function(){T(P,N)});E.status==="error"&&N(E.value)}function w(v,T){var M={};try{M.value=v(T),M.status="success"}catch(N){M.status="error",M.value=N}return M}(i.exports=p).prototype.finally=function(v){if(typeof v!="function")return this;var T=this.constructor;return this.then(function(M){return T.resolve(v()).then(function(){return M})},function(M){return T.resolve(v()).then(function(){throw M})})},p.prototype.catch=function(v){return this.then(null,v)},p.prototype.then=function(v,T){if(typeof v!="function"&&this.state===f||typeof T!="function"&&this.state===a)return this;var M=new this.constructor(l);return this.state!==c?O(M,this.state===f?v:T,this.outcome):this.queue.push(new m(M,v,T)),M},m.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},m.prototype.otherCallFulfilled=function(v){O(this.promise,this.onFulfilled,v)},m.prototype.callRejected=function(v){o.reject(this.promise,v)},m.prototype.otherCallRejected=function(v){O(this.promise,this.onRejected,v)},o.resolve=function(v,T){var M=w(y,T);if(M.status==="error")return o.reject(v,M.value);var N=M.value;if(N)S(v,N);else{v.state=f,v.outcome=T;for(var P=-1,E=v.queue.length;++P<E;)v.queue[P].callFulfilled(T)}return v},o.reject=function(v,T){v.state=a,v.outcome=T;for(var M=-1,N=v.queue.length;++M<N;)v.queue[M].callRejected(T);return v},p.resolve=function(v){return v instanceof this?v:o.resolve(new this(l),v)},p.reject=function(v){var T=new this(l);return o.reject(T,v)},p.all=function(v){var T=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=v.length,N=!1;if(!M)return this.resolve([]);for(var P=new Array(M),E=0,A=-1,V=new this(l);++A<M;)D(v[A],A);return V;function D(Z,z){T.resolve(Z).then(function(k){P[z]=k,++E!==M||N||(N=!0,o.resolve(V,P))},function(k){N||(N=!0,o.reject(V,k))})}},p.race=function(v){var T=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=v.length,N=!1;if(!M)return this.resolve([]);for(var P=-1,E=new this(l);++P<M;)A=v[P],T.resolve(A).then(function(V){N||(N=!0,o.resolve(E,V))},function(V){N||(N=!0,o.reject(E,V))});var A;return E}},{immediate:36}],38:[function(e,i,n){var s={};(0,e("./lib/utils/common").assign)(s,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,n){var s=e("./zlib/deflate"),l=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),f=e("./zlib/zstream"),c=Object.prototype.toString,p=0,m=-1,O=0,y=8;function S(v){if(!(this instanceof S))return new S(v);this.options=l.assign({level:m,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:O,to:""},v||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var M=s.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(M!==p)throw new Error(a[M]);if(T.header&&s.deflateSetHeader(this.strm,T.header),T.dictionary){var N;if(N=typeof T.dictionary=="string"?o.string2buf(T.dictionary):c.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(M=s.deflateSetDictionary(this.strm,N))!==p)throw new Error(a[M]);this._dict_set=!0}}function w(v,T){var M=new S(T);if(M.push(v,!0),M.err)throw M.msg||a[M.err];return M.result}S.prototype.push=function(v,T){var M,N,P=this.strm,E=this.options.chunkSize;if(this.ended)return!1;N=T===~~T?T:T===!0?4:0,typeof v=="string"?P.input=o.string2buf(v):c.call(v)==="[object ArrayBuffer]"?P.input=new Uint8Array(v):P.input=v,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new l.Buf8(E),P.next_out=0,P.avail_out=E),(M=s.deflate(P,N))!==1&&M!==p)return this.onEnd(M),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(l.shrinkBuf(P.output,P.next_out))):this.onData(l.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&M!==1);return N===4?(M=s.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===p):N!==2||(this.onEnd(p),!(P.avail_out=0))},S.prototype.onData=function(v){this.chunks.push(v)},S.prototype.onEnd=function(v){v===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},n.Deflate=S,n.deflate=w,n.deflateRaw=function(v,T){return(T=T||{}).raw=!0,w(v,T)},n.gzip=function(v,T){return(T=T||{}).gzip=!0,w(v,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,n){var s=e("./zlib/inflate"),l=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),f=e("./zlib/messages"),c=e("./zlib/zstream"),p=e("./zlib/gzheader"),m=Object.prototype.toString;function O(S){if(!(this instanceof O))return new O(S);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},S||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||S&&S.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,w.windowBits);if(v!==a.Z_OK)throw new Error(f[v]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function y(S,w){var v=new O(w);if(v.push(S,!0),v.err)throw v.msg||f[v.err];return v.result}O.prototype.push=function(S,w){var v,T,M,N,P,E,A=this.strm,V=this.options.chunkSize,D=this.options.dictionary,Z=!1;if(this.ended)return!1;T=w===~~w?w:w===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof S=="string"?A.input=o.binstring2buf(S):m.call(S)==="[object ArrayBuffer]"?A.input=new Uint8Array(S):A.input=S,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new l.Buf8(V),A.next_out=0,A.avail_out=V),(v=s.inflate(A,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&D&&(E=typeof D=="string"?o.string2buf(D):m.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,v=s.inflateSetDictionary(this.strm,E)),v===a.Z_BUF_ERROR&&Z===!0&&(v=a.Z_OK,Z=!1),v!==a.Z_STREAM_END&&v!==a.Z_OK)return this.onEnd(v),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&v!==a.Z_STREAM_END&&(A.avail_in!==0||T!==a.Z_FINISH&&T!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=o.utf8border(A.output,A.next_out),N=A.next_out-M,P=o.buf2string(A.output,M),A.next_out=N,A.avail_out=V-N,N&&l.arraySet(A.output,A.output,M,N,0),this.onData(P)):this.onData(l.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(Z=!0)}while((0<A.avail_in||A.avail_out===0)&&v!==a.Z_STREAM_END);return v===a.Z_STREAM_END&&(T=a.Z_FINISH),T===a.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===a.Z_OK):T!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(A.avail_out=0))},O.prototype.onData=function(S){this.chunks.push(S)},O.prototype.onEnd=function(S){S===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},n.Inflate=O,n.inflate=y,n.inflateRaw=function(S,w){return(w=w||{}).raw=!0,y(S,w)},n.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(a){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var c=f.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var p in c)c.hasOwnProperty(p)&&(a[p]=c[p])}}return a},n.shrinkBuf=function(a,f){return a.length===f?a:a.subarray?a.subarray(0,f):(a.length=f,a)};var l={arraySet:function(a,f,c,p,m){if(f.subarray&&a.subarray)a.set(f.subarray(c,c+p),m);else for(var O=0;O<p;O++)a[m+O]=f[c+O]},flattenChunks:function(a){var f,c,p,m,O,y;for(f=p=0,c=a.length;f<c;f++)p+=a[f].length;for(y=new Uint8Array(p),f=m=0,c=a.length;f<c;f++)O=a[f],y.set(O,m),m+=O.length;return y}},o={arraySet:function(a,f,c,p,m){for(var O=0;O<p;O++)a[m+O]=f[c+O]},flattenChunks:function(a){return[].concat.apply([],a)}};n.setTyped=function(a){a?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,l)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(e,i,n){var s=e("./common"),l=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var a=new s.Buf8(256),f=0;f<256;f++)a[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function c(p,m){if(m<65537&&(p.subarray&&o||!p.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(p,m));for(var O="",y=0;y<m;y++)O+=String.fromCharCode(p[y]);return O}a[254]=a[254]=1,n.string2buf=function(p){var m,O,y,S,w,v=p.length,T=0;for(S=0;S<v;S++)(64512&(O=p.charCodeAt(S)))==55296&&S+1<v&&(64512&(y=p.charCodeAt(S+1)))==56320&&(O=65536+(O-55296<<10)+(y-56320),S++),T+=O<128?1:O<2048?2:O<65536?3:4;for(m=new s.Buf8(T),S=w=0;w<T;S++)(64512&(O=p.charCodeAt(S)))==55296&&S+1<v&&(64512&(y=p.charCodeAt(S+1)))==56320&&(O=65536+(O-55296<<10)+(y-56320),S++),O<128?m[w++]=O:(O<2048?m[w++]=192|O>>>6:(O<65536?m[w++]=224|O>>>12:(m[w++]=240|O>>>18,m[w++]=128|O>>>12&63),m[w++]=128|O>>>6&63),m[w++]=128|63&O);return m},n.buf2binstring=function(p){return c(p,p.length)},n.binstring2buf=function(p){for(var m=new s.Buf8(p.length),O=0,y=m.length;O<y;O++)m[O]=p.charCodeAt(O);return m},n.buf2string=function(p,m){var O,y,S,w,v=m||p.length,T=new Array(2*v);for(O=y=0;O<v;)if((S=p[O++])<128)T[y++]=S;else if(4<(w=a[S]))T[y++]=65533,O+=w-1;else{for(S&=w===2?31:w===3?15:7;1<w&&O<v;)S=S<<6|63&p[O++],w--;1<w?T[y++]=65533:S<65536?T[y++]=S:(S-=65536,T[y++]=55296|S>>10&1023,T[y++]=56320|1023&S)}return c(T,y)},n.utf8border=function(p,m){var O;for((m=m||p.length)>p.length&&(m=p.length),O=m-1;0<=O&&(192&p[O])==128;)O--;return O<0||O===0?m:O+a[p[O]]>m?O:m}},{"./common":41}],43:[function(e,i,n){i.exports=function(s,l,o,a){for(var f=65535&s|0,c=s>>>16&65535|0,p=0;o!==0;){for(o-=p=2e3<o?2e3:o;c=c+(f=f+l[a++]|0)|0,--p;);f%=65521,c%=65521}return f|c<<16|0}},{}],44:[function(e,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,n){var s=(function(){for(var l,o=[],a=0;a<256;a++){l=a;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;o[a]=l}return o})();i.exports=function(l,o,a,f){var c=s,p=f+a;l^=-1;for(var m=f;m<p;m++)l=l>>>8^c[255&(l^o[m])];return-1^l}},{}],46:[function(e,i,n){var s,l=e("../utils/common"),o=e("./trees"),a=e("./adler32"),f=e("./crc32"),c=e("./messages"),p=0,m=4,O=0,y=-2,S=-1,w=4,v=2,T=8,M=9,N=286,P=30,E=19,A=2*N+1,V=15,D=3,Z=258,z=Z+D+1,k=42,L=113,$=1,j=2,W=3,X=4;function st(Q,ut){return Q.msg=c[ut],ut}function F(Q){return(Q<<1)-(4<Q?9:0)}function pt(Q){for(var ut=Q.length;0<=--ut;)Q[ut]=0}function R(Q){var ut=Q.state,ot=ut.pending;ot>Q.avail_out&&(ot=Q.avail_out),ot!==0&&(l.arraySet(Q.output,ut.pending_buf,ut.pending_out,ot,Q.next_out),Q.next_out+=ot,ut.pending_out+=ot,Q.total_out+=ot,Q.avail_out-=ot,ut.pending-=ot,ut.pending===0&&(ut.pending_out=0))}function B(Q,ut){o._tr_flush_block(Q,0<=Q.block_start?Q.block_start:-1,Q.strstart-Q.block_start,ut),Q.block_start=Q.strstart,R(Q.strm)}function H(Q,ut){Q.pending_buf[Q.pending++]=ut}function G(Q,ut){Q.pending_buf[Q.pending++]=ut>>>8&255,Q.pending_buf[Q.pending++]=255&ut}function tt(Q,ut){var ot,q,I=Q.max_chain_length,K=Q.strstart,dt=Q.prev_length,gt=Q.nice_match,nt=Q.strstart>Q.w_size-z?Q.strstart-(Q.w_size-z):0,Ot=Q.window,xt=Q.w_mask,bt=Q.prev,Vt=Q.strstart+Z,be=Ot[K+dt-1],re=Ot[K+dt];Q.prev_length>=Q.good_match&&(I>>=2),gt>Q.lookahead&&(gt=Q.lookahead);do if(Ot[(ot=ut)+dt]===re&&Ot[ot+dt-1]===be&&Ot[ot]===Ot[K]&&Ot[++ot]===Ot[K+1]){K+=2,ot++;do;while(Ot[++K]===Ot[++ot]&&Ot[++K]===Ot[++ot]&&Ot[++K]===Ot[++ot]&&Ot[++K]===Ot[++ot]&&Ot[++K]===Ot[++ot]&&Ot[++K]===Ot[++ot]&&Ot[++K]===Ot[++ot]&&Ot[++K]===Ot[++ot]&&K<Vt);if(q=Z-(Vt-K),K=Vt-Z,dt<q){if(Q.match_start=ut,gt<=(dt=q))break;be=Ot[K+dt-1],re=Ot[K+dt]}}while((ut=bt[ut&xt])>nt&&--I!=0);return dt<=Q.lookahead?dt:Q.lookahead}function mt(Q){var ut,ot,q,I,K,dt,gt,nt,Ot,xt,bt=Q.w_size;do{if(I=Q.window_size-Q.lookahead-Q.strstart,Q.strstart>=bt+(bt-z)){for(l.arraySet(Q.window,Q.window,bt,bt,0),Q.match_start-=bt,Q.strstart-=bt,Q.block_start-=bt,ut=ot=Q.hash_size;q=Q.head[--ut],Q.head[ut]=bt<=q?q-bt:0,--ot;);for(ut=ot=bt;q=Q.prev[--ut],Q.prev[ut]=bt<=q?q-bt:0,--ot;);I+=bt}if(Q.strm.avail_in===0)break;if(dt=Q.strm,gt=Q.window,nt=Q.strstart+Q.lookahead,Ot=I,xt=void 0,xt=dt.avail_in,Ot<xt&&(xt=Ot),ot=xt===0?0:(dt.avail_in-=xt,l.arraySet(gt,dt.input,dt.next_in,xt,nt),dt.state.wrap===1?dt.adler=a(dt.adler,gt,xt,nt):dt.state.wrap===2&&(dt.adler=f(dt.adler,gt,xt,nt)),dt.next_in+=xt,dt.total_in+=xt,xt),Q.lookahead+=ot,Q.lookahead+Q.insert>=D)for(K=Q.strstart-Q.insert,Q.ins_h=Q.window[K],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[K+1])&Q.hash_mask;Q.insert&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[K+D-1])&Q.hash_mask,Q.prev[K&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=K,K++,Q.insert--,!(Q.lookahead+Q.insert<D)););}while(Q.lookahead<z&&Q.strm.avail_in!==0)}function Rt(Q,ut){for(var ot,q;;){if(Q.lookahead<z){if(mt(Q),Q.lookahead<z&&ut===p)return $;if(Q.lookahead===0)break}if(ot=0,Q.lookahead>=D&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+D-1])&Q.hash_mask,ot=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),ot!==0&&Q.strstart-ot<=Q.w_size-z&&(Q.match_length=tt(Q,ot)),Q.match_length>=D)if(q=o._tr_tally(Q,Q.strstart-Q.match_start,Q.match_length-D),Q.lookahead-=Q.match_length,Q.match_length<=Q.max_lazy_match&&Q.lookahead>=D){for(Q.match_length--;Q.strstart++,Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+D-1])&Q.hash_mask,ot=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart,--Q.match_length!=0;);Q.strstart++}else Q.strstart+=Q.match_length,Q.match_length=0,Q.ins_h=Q.window[Q.strstart],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+1])&Q.hash_mask;else q=o._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++;if(q&&(B(Q,!1),Q.strm.avail_out===0))return $}return Q.insert=Q.strstart<D-1?Q.strstart:D-1,ut===m?(B(Q,!0),Q.strm.avail_out===0?W:X):Q.last_lit&&(B(Q,!1),Q.strm.avail_out===0)?$:j}function Ut(Q,ut){for(var ot,q,I;;){if(Q.lookahead<z){if(mt(Q),Q.lookahead<z&&ut===p)return $;if(Q.lookahead===0)break}if(ot=0,Q.lookahead>=D&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+D-1])&Q.hash_mask,ot=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),Q.prev_length=Q.match_length,Q.prev_match=Q.match_start,Q.match_length=D-1,ot!==0&&Q.prev_length<Q.max_lazy_match&&Q.strstart-ot<=Q.w_size-z&&(Q.match_length=tt(Q,ot),Q.match_length<=5&&(Q.strategy===1||Q.match_length===D&&4096<Q.strstart-Q.match_start)&&(Q.match_length=D-1)),Q.prev_length>=D&&Q.match_length<=Q.prev_length){for(I=Q.strstart+Q.lookahead-D,q=o._tr_tally(Q,Q.strstart-1-Q.prev_match,Q.prev_length-D),Q.lookahead-=Q.prev_length-1,Q.prev_length-=2;++Q.strstart<=I&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+D-1])&Q.hash_mask,ot=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),--Q.prev_length!=0;);if(Q.match_available=0,Q.match_length=D-1,Q.strstart++,q&&(B(Q,!1),Q.strm.avail_out===0))return $}else if(Q.match_available){if((q=o._tr_tally(Q,0,Q.window[Q.strstart-1]))&&B(Q,!1),Q.strstart++,Q.lookahead--,Q.strm.avail_out===0)return $}else Q.match_available=1,Q.strstart++,Q.lookahead--}return Q.match_available&&(q=o._tr_tally(Q,0,Q.window[Q.strstart-1]),Q.match_available=0),Q.insert=Q.strstart<D-1?Q.strstart:D-1,ut===m?(B(Q,!0),Q.strm.avail_out===0?W:X):Q.last_lit&&(B(Q,!1),Q.strm.avail_out===0)?$:j}function qt(Q,ut,ot,q,I){this.good_length=Q,this.max_lazy=ut,this.nice_length=ot,this.max_chain=q,this.func=I}function Je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*A),this.dyn_dtree=new l.Buf16(2*(2*P+1)),this.bl_tree=new l.Buf16(2*(2*E+1)),pt(this.dyn_ltree),pt(this.dyn_dtree),pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(V+1),this.heap=new l.Buf16(2*N+1),pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*N+1),pt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ze(Q){var ut;return Q&&Q.state?(Q.total_in=Q.total_out=0,Q.data_type=v,(ut=Q.state).pending=0,ut.pending_out=0,ut.wrap<0&&(ut.wrap=-ut.wrap),ut.status=ut.wrap?k:L,Q.adler=ut.wrap===2?0:1,ut.last_flush=p,o._tr_init(ut),O):st(Q,y)}function yn(Q){var ut=ze(Q);return ut===O&&(function(ot){ot.window_size=2*ot.w_size,pt(ot.head),ot.max_lazy_match=s[ot.level].max_lazy,ot.good_match=s[ot.level].good_length,ot.nice_match=s[ot.level].nice_length,ot.max_chain_length=s[ot.level].max_chain,ot.strstart=0,ot.block_start=0,ot.lookahead=0,ot.insert=0,ot.match_length=ot.prev_length=D-1,ot.match_available=0,ot.ins_h=0})(Q.state),ut}function bn(Q,ut,ot,q,I,K){if(!Q)return y;var dt=1;if(ut===S&&(ut=6),q<0?(dt=0,q=-q):15<q&&(dt=2,q-=16),I<1||M<I||ot!==T||q<8||15<q||ut<0||9<ut||K<0||w<K)return st(Q,y);q===8&&(q=9);var gt=new Je;return(Q.state=gt).strm=Q,gt.wrap=dt,gt.gzhead=null,gt.w_bits=q,gt.w_size=1<<gt.w_bits,gt.w_mask=gt.w_size-1,gt.hash_bits=I+7,gt.hash_size=1<<gt.hash_bits,gt.hash_mask=gt.hash_size-1,gt.hash_shift=~~((gt.hash_bits+D-1)/D),gt.window=new l.Buf8(2*gt.w_size),gt.head=new l.Buf16(gt.hash_size),gt.prev=new l.Buf16(gt.w_size),gt.lit_bufsize=1<<I+6,gt.pending_buf_size=4*gt.lit_bufsize,gt.pending_buf=new l.Buf8(gt.pending_buf_size),gt.d_buf=1*gt.lit_bufsize,gt.l_buf=3*gt.lit_bufsize,gt.level=ut,gt.strategy=K,gt.method=ot,yn(Q)}s=[new qt(0,0,0,0,function(Q,ut){var ot=65535;for(ot>Q.pending_buf_size-5&&(ot=Q.pending_buf_size-5);;){if(Q.lookahead<=1){if(mt(Q),Q.lookahead===0&&ut===p)return $;if(Q.lookahead===0)break}Q.strstart+=Q.lookahead,Q.lookahead=0;var q=Q.block_start+ot;if((Q.strstart===0||Q.strstart>=q)&&(Q.lookahead=Q.strstart-q,Q.strstart=q,B(Q,!1),Q.strm.avail_out===0)||Q.strstart-Q.block_start>=Q.w_size-z&&(B(Q,!1),Q.strm.avail_out===0))return $}return Q.insert=0,ut===m?(B(Q,!0),Q.strm.avail_out===0?W:X):(Q.strstart>Q.block_start&&(B(Q,!1),Q.strm.avail_out),$)}),new qt(4,4,8,4,Rt),new qt(4,5,16,8,Rt),new qt(4,6,32,32,Rt),new qt(4,4,16,16,Ut),new qt(8,16,32,32,Ut),new qt(8,16,128,128,Ut),new qt(8,32,128,256,Ut),new qt(32,128,258,1024,Ut),new qt(32,258,258,4096,Ut)],n.deflateInit=function(Q,ut){return bn(Q,ut,T,15,8,0)},n.deflateInit2=bn,n.deflateReset=yn,n.deflateResetKeep=ze,n.deflateSetHeader=function(Q,ut){return Q&&Q.state?Q.state.wrap!==2?y:(Q.state.gzhead=ut,O):y},n.deflate=function(Q,ut){var ot,q,I,K;if(!Q||!Q.state||5<ut||ut<0)return Q?st(Q,y):y;if(q=Q.state,!Q.output||!Q.input&&Q.avail_in!==0||q.status===666&&ut!==m)return st(Q,Q.avail_out===0?-5:y);if(q.strm=Q,ot=q.last_flush,q.last_flush=ut,q.status===k)if(q.wrap===2)Q.adler=0,H(q,31),H(q,139),H(q,8),q.gzhead?(H(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),H(q,255&q.gzhead.time),H(q,q.gzhead.time>>8&255),H(q,q.gzhead.time>>16&255),H(q,q.gzhead.time>>24&255),H(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),H(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(H(q,255&q.gzhead.extra.length),H(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(Q.adler=f(Q.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(H(q,0),H(q,0),H(q,0),H(q,0),H(q,0),H(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),H(q,3),q.status=L);else{var dt=T+(q.w_bits-8<<4)<<8;dt|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(dt|=32),dt+=31-dt%31,q.status=L,G(q,dt),q.strstart!==0&&(G(q,Q.adler>>>16),G(q,65535&Q.adler)),Q.adler=1}if(q.status===69)if(q.gzhead.extra){for(I=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>I&&(Q.adler=f(Q.adler,q.pending_buf,q.pending-I,I)),R(Q),I=q.pending,q.pending!==q.pending_buf_size));)H(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>I&&(Q.adler=f(Q.adler,q.pending_buf,q.pending-I,I)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){I=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>I&&(Q.adler=f(Q.adler,q.pending_buf,q.pending-I,I)),R(Q),I=q.pending,q.pending===q.pending_buf_size)){K=1;break}K=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,H(q,K)}while(K!==0);q.gzhead.hcrc&&q.pending>I&&(Q.adler=f(Q.adler,q.pending_buf,q.pending-I,I)),K===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){I=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>I&&(Q.adler=f(Q.adler,q.pending_buf,q.pending-I,I)),R(Q),I=q.pending,q.pending===q.pending_buf_size)){K=1;break}K=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,H(q,K)}while(K!==0);q.gzhead.hcrc&&q.pending>I&&(Q.adler=f(Q.adler,q.pending_buf,q.pending-I,I)),K===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&R(Q),q.pending+2<=q.pending_buf_size&&(H(q,255&Q.adler),H(q,Q.adler>>8&255),Q.adler=0,q.status=L)):q.status=L),q.pending!==0){if(R(Q),Q.avail_out===0)return q.last_flush=-1,O}else if(Q.avail_in===0&&F(ut)<=F(ot)&&ut!==m)return st(Q,-5);if(q.status===666&&Q.avail_in!==0)return st(Q,-5);if(Q.avail_in!==0||q.lookahead!==0||ut!==p&&q.status!==666){var gt=q.strategy===2?(function(nt,Ot){for(var xt;;){if(nt.lookahead===0&&(mt(nt),nt.lookahead===0)){if(Ot===p)return $;break}if(nt.match_length=0,xt=o._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++,xt&&(B(nt,!1),nt.strm.avail_out===0))return $}return nt.insert=0,Ot===m?(B(nt,!0),nt.strm.avail_out===0?W:X):nt.last_lit&&(B(nt,!1),nt.strm.avail_out===0)?$:j})(q,ut):q.strategy===3?(function(nt,Ot){for(var xt,bt,Vt,be,re=nt.window;;){if(nt.lookahead<=Z){if(mt(nt),nt.lookahead<=Z&&Ot===p)return $;if(nt.lookahead===0)break}if(nt.match_length=0,nt.lookahead>=D&&0<nt.strstart&&(bt=re[Vt=nt.strstart-1])===re[++Vt]&&bt===re[++Vt]&&bt===re[++Vt]){be=nt.strstart+Z;do;while(bt===re[++Vt]&&bt===re[++Vt]&&bt===re[++Vt]&&bt===re[++Vt]&&bt===re[++Vt]&&bt===re[++Vt]&&bt===re[++Vt]&&bt===re[++Vt]&&Vt<be);nt.match_length=Z-(be-Vt),nt.match_length>nt.lookahead&&(nt.match_length=nt.lookahead)}if(nt.match_length>=D?(xt=o._tr_tally(nt,1,nt.match_length-D),nt.lookahead-=nt.match_length,nt.strstart+=nt.match_length,nt.match_length=0):(xt=o._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++),xt&&(B(nt,!1),nt.strm.avail_out===0))return $}return nt.insert=0,Ot===m?(B(nt,!0),nt.strm.avail_out===0?W:X):nt.last_lit&&(B(nt,!1),nt.strm.avail_out===0)?$:j})(q,ut):s[q.level].func(q,ut);if(gt!==W&&gt!==X||(q.status=666),gt===$||gt===W)return Q.avail_out===0&&(q.last_flush=-1),O;if(gt===j&&(ut===1?o._tr_align(q):ut!==5&&(o._tr_stored_block(q,0,0,!1),ut===3&&(pt(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),R(Q),Q.avail_out===0))return q.last_flush=-1,O}return ut!==m?O:q.wrap<=0?1:(q.wrap===2?(H(q,255&Q.adler),H(q,Q.adler>>8&255),H(q,Q.adler>>16&255),H(q,Q.adler>>24&255),H(q,255&Q.total_in),H(q,Q.total_in>>8&255),H(q,Q.total_in>>16&255),H(q,Q.total_in>>24&255)):(G(q,Q.adler>>>16),G(q,65535&Q.adler)),R(Q),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?O:1)},n.deflateEnd=function(Q){var ut;return Q&&Q.state?(ut=Q.state.status)!==k&&ut!==69&&ut!==73&&ut!==91&&ut!==103&&ut!==L&&ut!==666?st(Q,y):(Q.state=null,ut===L?st(Q,-3):O):y},n.deflateSetDictionary=function(Q,ut){var ot,q,I,K,dt,gt,nt,Ot,xt=ut.length;if(!Q||!Q.state||(K=(ot=Q.state).wrap)===2||K===1&&ot.status!==k||ot.lookahead)return y;for(K===1&&(Q.adler=a(Q.adler,ut,xt,0)),ot.wrap=0,xt>=ot.w_size&&(K===0&&(pt(ot.head),ot.strstart=0,ot.block_start=0,ot.insert=0),Ot=new l.Buf8(ot.w_size),l.arraySet(Ot,ut,xt-ot.w_size,ot.w_size,0),ut=Ot,xt=ot.w_size),dt=Q.avail_in,gt=Q.next_in,nt=Q.input,Q.avail_in=xt,Q.next_in=0,Q.input=ut,mt(ot);ot.lookahead>=D;){for(q=ot.strstart,I=ot.lookahead-(D-1);ot.ins_h=(ot.ins_h<<ot.hash_shift^ot.window[q+D-1])&ot.hash_mask,ot.prev[q&ot.w_mask]=ot.head[ot.ins_h],ot.head[ot.ins_h]=q,q++,--I;);ot.strstart=q,ot.lookahead=D-1,mt(ot)}return ot.strstart+=ot.lookahead,ot.block_start=ot.strstart,ot.insert=ot.lookahead,ot.lookahead=0,ot.match_length=ot.prev_length=D-1,ot.match_available=0,Q.next_in=gt,Q.input=nt,Q.avail_in=dt,ot.wrap=K,O},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,n){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,i,n){i.exports=function(s,l){var o,a,f,c,p,m,O,y,S,w,v,T,M,N,P,E,A,V,D,Z,z,k,L,$,j;o=s.state,a=s.next_in,$=s.input,f=a+(s.avail_in-5),c=s.next_out,j=s.output,p=c-(l-s.avail_out),m=c+(s.avail_out-257),O=o.dmax,y=o.wsize,S=o.whave,w=o.wnext,v=o.window,T=o.hold,M=o.bits,N=o.lencode,P=o.distcode,E=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;t:do{M<15&&(T+=$[a++]<<M,M+=8,T+=$[a++]<<M,M+=8),V=N[T&E];e:for(;;){if(T>>>=D=V>>>24,M-=D,(D=V>>>16&255)===0)j[c++]=65535&V;else{if(!(16&D)){if((64&D)==0){V=N[(65535&V)+(T&(1<<D)-1)];continue e}if(32&D){o.mode=12;break t}s.msg="invalid literal/length code",o.mode=30;break t}Z=65535&V,(D&=15)&&(M<D&&(T+=$[a++]<<M,M+=8),Z+=T&(1<<D)-1,T>>>=D,M-=D),M<15&&(T+=$[a++]<<M,M+=8,T+=$[a++]<<M,M+=8),V=P[T&A];i:for(;;){if(T>>>=D=V>>>24,M-=D,!(16&(D=V>>>16&255))){if((64&D)==0){V=P[(65535&V)+(T&(1<<D)-1)];continue i}s.msg="invalid distance code",o.mode=30;break t}if(z=65535&V,M<(D&=15)&&(T+=$[a++]<<M,(M+=8)<D&&(T+=$[a++]<<M,M+=8)),O<(z+=T&(1<<D)-1)){s.msg="invalid distance too far back",o.mode=30;break t}if(T>>>=D,M-=D,(D=c-p)<z){if(S<(D=z-D)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break t}if(L=v,(k=0)===w){if(k+=y-D,D<Z){for(Z-=D;j[c++]=v[k++],--D;);k=c-z,L=j}}else if(w<D){if(k+=y+w-D,(D-=w)<Z){for(Z-=D;j[c++]=v[k++],--D;);if(k=0,w<Z){for(Z-=D=w;j[c++]=v[k++],--D;);k=c-z,L=j}}}else if(k+=w-D,D<Z){for(Z-=D;j[c++]=v[k++],--D;);k=c-z,L=j}for(;2<Z;)j[c++]=L[k++],j[c++]=L[k++],j[c++]=L[k++],Z-=3;Z&&(j[c++]=L[k++],1<Z&&(j[c++]=L[k++]))}else{for(k=c-z;j[c++]=j[k++],j[c++]=j[k++],j[c++]=j[k++],2<(Z-=3););Z&&(j[c++]=j[k++],1<Z&&(j[c++]=j[k++]))}break}}break}}while(a<f&&c<m);a-=Z=M>>3,T&=(1<<(M-=Z<<3))-1,s.next_in=a,s.next_out=c,s.avail_in=a<f?f-a+5:5-(a-f),s.avail_out=c<m?m-c+257:257-(c-m),o.hold=T,o.bits=M}},{}],49:[function(e,i,n){var s=e("../utils/common"),l=e("./adler32"),o=e("./crc32"),a=e("./inffast"),f=e("./inftrees"),c=1,p=2,m=0,O=-2,y=1,S=852,w=592;function v(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M(k){var L;return k&&k.state?(L=k.state,k.total_in=k.total_out=L.total=0,k.msg="",L.wrap&&(k.adler=1&L.wrap),L.mode=y,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new s.Buf32(S),L.distcode=L.distdyn=new s.Buf32(w),L.sane=1,L.back=-1,m):O}function N(k){var L;return k&&k.state?((L=k.state).wsize=0,L.whave=0,L.wnext=0,M(k)):O}function P(k,L){var $,j;return k&&k.state?(j=k.state,L<0?($=0,L=-L):($=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?O:(j.window!==null&&j.wbits!==L&&(j.window=null),j.wrap=$,j.wbits=L,N(k))):O}function E(k,L){var $,j;return k?(j=new T,(k.state=j).window=null,($=P(k,L))!==m&&(k.state=null),$):O}var A,V,D=!0;function Z(k){if(D){var L;for(A=new s.Buf32(512),V=new s.Buf32(32),L=0;L<144;)k.lens[L++]=8;for(;L<256;)k.lens[L++]=9;for(;L<280;)k.lens[L++]=7;for(;L<288;)k.lens[L++]=8;for(f(c,k.lens,0,288,A,0,k.work,{bits:9}),L=0;L<32;)k.lens[L++]=5;f(p,k.lens,0,32,V,0,k.work,{bits:5}),D=!1}k.lencode=A,k.lenbits=9,k.distcode=V,k.distbits=5}function z(k,L,$,j){var W,X=k.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),j>=X.wsize?(s.arraySet(X.window,L,$-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(j<(W=X.wsize-X.wnext)&&(W=j),s.arraySet(X.window,L,$-j,W,X.wnext),(j-=W)?(s.arraySet(X.window,L,$-j,j,0),X.wnext=j,X.whave=X.wsize):(X.wnext+=W,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=W))),0}n.inflateReset=N,n.inflateReset2=P,n.inflateResetKeep=M,n.inflateInit=function(k){return E(k,15)},n.inflateInit2=E,n.inflate=function(k,L){var $,j,W,X,st,F,pt,R,B,H,G,tt,mt,Rt,Ut,qt,Je,ze,yn,bn,Q,ut,ot,q,I=0,K=new s.Buf8(4),dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return O;($=k.state).mode===12&&($.mode=13),st=k.next_out,W=k.output,pt=k.avail_out,X=k.next_in,j=k.input,F=k.avail_in,R=$.hold,B=$.bits,H=F,G=pt,ut=m;t:for(;;)switch($.mode){case y:if($.wrap===0){$.mode=13;break}for(;B<16;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if(2&$.wrap&&R===35615){K[$.check=0]=255&R,K[1]=R>>>8&255,$.check=o($.check,K,2,0),B=R=0,$.mode=2;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&R)<<8)+(R>>8))%31){k.msg="incorrect header check",$.mode=30;break}if((15&R)!=8){k.msg="unknown compression method",$.mode=30;break}if(B-=4,Q=8+(15&(R>>>=4)),$.wbits===0)$.wbits=Q;else if(Q>$.wbits){k.msg="invalid window size",$.mode=30;break}$.dmax=1<<Q,k.adler=$.check=1,$.mode=512&R?10:12,B=R=0;break;case 2:for(;B<16;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if($.flags=R,(255&$.flags)!=8){k.msg="unknown compression method",$.mode=30;break}if(57344&$.flags){k.msg="unknown header flags set",$.mode=30;break}$.head&&($.head.text=R>>8&1),512&$.flags&&(K[0]=255&R,K[1]=R>>>8&255,$.check=o($.check,K,2,0)),B=R=0,$.mode=3;case 3:for(;B<32;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}$.head&&($.head.time=R),512&$.flags&&(K[0]=255&R,K[1]=R>>>8&255,K[2]=R>>>16&255,K[3]=R>>>24&255,$.check=o($.check,K,4,0)),B=R=0,$.mode=4;case 4:for(;B<16;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}$.head&&($.head.xflags=255&R,$.head.os=R>>8),512&$.flags&&(K[0]=255&R,K[1]=R>>>8&255,$.check=o($.check,K,2,0)),B=R=0,$.mode=5;case 5:if(1024&$.flags){for(;B<16;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}$.length=R,$.head&&($.head.extra_len=R),512&$.flags&&(K[0]=255&R,K[1]=R>>>8&255,$.check=o($.check,K,2,0)),B=R=0}else $.head&&($.head.extra=null);$.mode=6;case 6:if(1024&$.flags&&(F<(tt=$.length)&&(tt=F),tt&&($.head&&(Q=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),s.arraySet($.head.extra,j,X,tt,Q)),512&$.flags&&($.check=o($.check,j,tt,X)),F-=tt,X+=tt,$.length-=tt),$.length))break t;$.length=0,$.mode=7;case 7:if(2048&$.flags){if(F===0)break t;for(tt=0;Q=j[X+tt++],$.head&&Q&&$.length<65536&&($.head.name+=String.fromCharCode(Q)),Q&&tt<F;);if(512&$.flags&&($.check=o($.check,j,tt,X)),F-=tt,X+=tt,Q)break t}else $.head&&($.head.name=null);$.length=0,$.mode=8;case 8:if(4096&$.flags){if(F===0)break t;for(tt=0;Q=j[X+tt++],$.head&&Q&&$.length<65536&&($.head.comment+=String.fromCharCode(Q)),Q&&tt<F;);if(512&$.flags&&($.check=o($.check,j,tt,X)),F-=tt,X+=tt,Q)break t}else $.head&&($.head.comment=null);$.mode=9;case 9:if(512&$.flags){for(;B<16;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if(R!==(65535&$.check)){k.msg="header crc mismatch",$.mode=30;break}B=R=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),k.adler=$.check=0,$.mode=12;break;case 10:for(;B<32;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}k.adler=$.check=v(R),B=R=0,$.mode=11;case 11:if($.havedict===0)return k.next_out=st,k.avail_out=pt,k.next_in=X,k.avail_in=F,$.hold=R,$.bits=B,2;k.adler=$.check=1,$.mode=12;case 12:if(L===5||L===6)break t;case 13:if($.last){R>>>=7&B,B-=7&B,$.mode=27;break}for(;B<3;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}switch($.last=1&R,B-=1,3&(R>>>=1)){case 0:$.mode=14;break;case 1:if(Z($),$.mode=20,L!==6)break;R>>>=2,B-=2;break t;case 2:$.mode=17;break;case 3:k.msg="invalid block type",$.mode=30}R>>>=2,B-=2;break;case 14:for(R>>>=7&B,B-=7&B;B<32;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if((65535&R)!=(R>>>16^65535)){k.msg="invalid stored block lengths",$.mode=30;break}if($.length=65535&R,B=R=0,$.mode=15,L===6)break t;case 15:$.mode=16;case 16:if(tt=$.length){if(F<tt&&(tt=F),pt<tt&&(tt=pt),tt===0)break t;s.arraySet(W,j,X,tt,st),F-=tt,X+=tt,pt-=tt,st+=tt,$.length-=tt;break}$.mode=12;break;case 17:for(;B<14;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if($.nlen=257+(31&R),R>>>=5,B-=5,$.ndist=1+(31&R),R>>>=5,B-=5,$.ncode=4+(15&R),R>>>=4,B-=4,286<$.nlen||30<$.ndist){k.msg="too many length or distance symbols",$.mode=30;break}$.have=0,$.mode=18;case 18:for(;$.have<$.ncode;){for(;B<3;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}$.lens[dt[$.have++]]=7&R,R>>>=3,B-=3}for(;$.have<19;)$.lens[dt[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,ot={bits:$.lenbits},ut=f(0,$.lens,0,19,$.lencode,0,$.work,ot),$.lenbits=ot.bits,ut){k.msg="invalid code lengths set",$.mode=30;break}$.have=0,$.mode=19;case 19:for(;$.have<$.nlen+$.ndist;){for(;qt=(I=$.lencode[R&(1<<$.lenbits)-1])>>>16&255,Je=65535&I,!((Ut=I>>>24)<=B);){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if(Je<16)R>>>=Ut,B-=Ut,$.lens[$.have++]=Je;else{if(Je===16){for(q=Ut+2;B<q;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if(R>>>=Ut,B-=Ut,$.have===0){k.msg="invalid bit length repeat",$.mode=30;break}Q=$.lens[$.have-1],tt=3+(3&R),R>>>=2,B-=2}else if(Je===17){for(q=Ut+3;B<q;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}B-=Ut,Q=0,tt=3+(7&(R>>>=Ut)),R>>>=3,B-=3}else{for(q=Ut+7;B<q;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}B-=Ut,Q=0,tt=11+(127&(R>>>=Ut)),R>>>=7,B-=7}if($.have+tt>$.nlen+$.ndist){k.msg="invalid bit length repeat",$.mode=30;break}for(;tt--;)$.lens[$.have++]=Q}}if($.mode===30)break;if($.lens[256]===0){k.msg="invalid code -- missing end-of-block",$.mode=30;break}if($.lenbits=9,ot={bits:$.lenbits},ut=f(c,$.lens,0,$.nlen,$.lencode,0,$.work,ot),$.lenbits=ot.bits,ut){k.msg="invalid literal/lengths set",$.mode=30;break}if($.distbits=6,$.distcode=$.distdyn,ot={bits:$.distbits},ut=f(p,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,ot),$.distbits=ot.bits,ut){k.msg="invalid distances set",$.mode=30;break}if($.mode=20,L===6)break t;case 20:$.mode=21;case 21:if(6<=F&&258<=pt){k.next_out=st,k.avail_out=pt,k.next_in=X,k.avail_in=F,$.hold=R,$.bits=B,a(k,G),st=k.next_out,W=k.output,pt=k.avail_out,X=k.next_in,j=k.input,F=k.avail_in,R=$.hold,B=$.bits,$.mode===12&&($.back=-1);break}for($.back=0;qt=(I=$.lencode[R&(1<<$.lenbits)-1])>>>16&255,Je=65535&I,!((Ut=I>>>24)<=B);){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if(qt&&(240&qt)==0){for(ze=Ut,yn=qt,bn=Je;qt=(I=$.lencode[bn+((R&(1<<ze+yn)-1)>>ze)])>>>16&255,Je=65535&I,!(ze+(Ut=I>>>24)<=B);){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}R>>>=ze,B-=ze,$.back+=ze}if(R>>>=Ut,B-=Ut,$.back+=Ut,$.length=Je,qt===0){$.mode=26;break}if(32&qt){$.back=-1,$.mode=12;break}if(64&qt){k.msg="invalid literal/length code",$.mode=30;break}$.extra=15&qt,$.mode=22;case 22:if($.extra){for(q=$.extra;B<q;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}$.length+=R&(1<<$.extra)-1,R>>>=$.extra,B-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=23;case 23:for(;qt=(I=$.distcode[R&(1<<$.distbits)-1])>>>16&255,Je=65535&I,!((Ut=I>>>24)<=B);){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if((240&qt)==0){for(ze=Ut,yn=qt,bn=Je;qt=(I=$.distcode[bn+((R&(1<<ze+yn)-1)>>ze)])>>>16&255,Je=65535&I,!(ze+(Ut=I>>>24)<=B);){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}R>>>=ze,B-=ze,$.back+=ze}if(R>>>=Ut,B-=Ut,$.back+=Ut,64&qt){k.msg="invalid distance code",$.mode=30;break}$.offset=Je,$.extra=15&qt,$.mode=24;case 24:if($.extra){for(q=$.extra;B<q;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}$.offset+=R&(1<<$.extra)-1,R>>>=$.extra,B-=$.extra,$.back+=$.extra}if($.offset>$.dmax){k.msg="invalid distance too far back",$.mode=30;break}$.mode=25;case 25:if(pt===0)break t;if(tt=G-pt,$.offset>tt){if((tt=$.offset-tt)>$.whave&&$.sane){k.msg="invalid distance too far back",$.mode=30;break}mt=tt>$.wnext?(tt-=$.wnext,$.wsize-tt):$.wnext-tt,tt>$.length&&(tt=$.length),Rt=$.window}else Rt=W,mt=st-$.offset,tt=$.length;for(pt<tt&&(tt=pt),pt-=tt,$.length-=tt;W[st++]=Rt[mt++],--tt;);$.length===0&&($.mode=21);break;case 26:if(pt===0)break t;W[st++]=$.length,pt--,$.mode=21;break;case 27:if($.wrap){for(;B<32;){if(F===0)break t;F--,R|=j[X++]<<B,B+=8}if(G-=pt,k.total_out+=G,$.total+=G,G&&(k.adler=$.check=$.flags?o($.check,W,G,st-G):l($.check,W,G,st-G)),G=pt,($.flags?R:v(R))!==$.check){k.msg="incorrect data check",$.mode=30;break}B=R=0}$.mode=28;case 28:if($.wrap&&$.flags){for(;B<32;){if(F===0)break t;F--,R+=j[X++]<<B,B+=8}if(R!==(4294967295&$.total)){k.msg="incorrect length check",$.mode=30;break}B=R=0}$.mode=29;case 29:ut=1;break t;case 30:ut=-3;break t;case 31:return-4;default:return O}return k.next_out=st,k.avail_out=pt,k.next_in=X,k.avail_in=F,$.hold=R,$.bits=B,($.wsize||G!==k.avail_out&&$.mode<30&&($.mode<27||L!==4))&&z(k,k.output,k.next_out,G-k.avail_out)?($.mode=31,-4):(H-=k.avail_in,G-=k.avail_out,k.total_in+=H,k.total_out+=G,$.total+=G,$.wrap&&G&&(k.adler=$.check=$.flags?o($.check,W,G,k.next_out-G):l($.check,W,G,k.next_out-G)),k.data_type=$.bits+($.last?64:0)+($.mode===12?128:0)+($.mode===20||$.mode===15?256:0),(H==0&&G===0||L===4)&&ut===m&&(ut=-5),ut)},n.inflateEnd=function(k){if(!k||!k.state)return O;var L=k.state;return L.window&&(L.window=null),k.state=null,m},n.inflateGetHeader=function(k,L){var $;return k&&k.state?(2&($=k.state).wrap)==0?O:(($.head=L).done=!1,m):O},n.inflateSetDictionary=function(k,L){var $,j=L.length;return k&&k.state?($=k.state).wrap!==0&&$.mode!==11?O:$.mode===11&&l(1,L,j,0)!==$.check?-3:z(k,L,j,j)?($.mode=31,-4):($.havedict=1,m):O},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,n){var s=e("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(c,p,m,O,y,S,w,v){var T,M,N,P,E,A,V,D,Z,z=v.bits,k=0,L=0,$=0,j=0,W=0,X=0,st=0,F=0,pt=0,R=0,B=null,H=0,G=new s.Buf16(16),tt=new s.Buf16(16),mt=null,Rt=0;for(k=0;k<=15;k++)G[k]=0;for(L=0;L<O;L++)G[p[m+L]]++;for(W=z,j=15;1<=j&&G[j]===0;j--);if(j<W&&(W=j),j===0)return y[S++]=20971520,y[S++]=20971520,v.bits=1,0;for($=1;$<j&&G[$]===0;$++);for(W<$&&(W=$),k=F=1;k<=15;k++)if(F<<=1,(F-=G[k])<0)return-1;if(0<F&&(c===0||j!==1))return-1;for(tt[1]=0,k=1;k<15;k++)tt[k+1]=tt[k]+G[k];for(L=0;L<O;L++)p[m+L]!==0&&(w[tt[p[m+L]]++]=L);if(A=c===0?(B=mt=w,19):c===1?(B=l,H-=257,mt=o,Rt-=257,256):(B=a,mt=f,-1),k=$,E=S,st=L=R=0,N=-1,P=(pt=1<<(X=W))-1,c===1&&852<pt||c===2&&592<pt)return 1;for(;;){for(V=k-st,Z=w[L]<A?(D=0,w[L]):w[L]>A?(D=mt[Rt+w[L]],B[H+w[L]]):(D=96,0),T=1<<k-st,$=M=1<<X;y[E+(R>>st)+(M-=T)]=V<<24|D<<16|Z|0,M!==0;);for(T=1<<k-1;R&T;)T>>=1;if(T!==0?(R&=T-1,R+=T):R=0,L++,--G[k]==0){if(k===j)break;k=p[m+w[L]]}if(W<k&&(R&P)!==N){for(st===0&&(st=W),E+=$,F=1<<(X=k-st);X+st<j&&!((F-=G[X+st])<=0);)X++,F<<=1;if(pt+=1<<X,c===1&&852<pt||c===2&&592<pt)return 1;y[N=R&P]=W<<24|X<<16|E-S|0}}return R!==0&&(y[E+R]=k-st<<24|64<<16|0),v.bits=W,0}},{"../utils/common":41}],51:[function(e,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,n){var s=e("../utils/common"),l=0,o=1;function a(I){for(var K=I.length;0<=--K;)I[K]=0}var f=0,c=29,p=256,m=p+1+c,O=30,y=19,S=2*m+1,w=15,v=16,T=7,M=256,N=16,P=17,E=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(m+2));a(z);var k=new Array(2*O);a(k);var L=new Array(512);a(L);var $=new Array(256);a($);var j=new Array(c);a(j);var W,X,st,F=new Array(O);function pt(I,K,dt,gt,nt){this.static_tree=I,this.extra_bits=K,this.extra_base=dt,this.elems=gt,this.max_length=nt,this.has_stree=I&&I.length}function R(I,K){this.dyn_tree=I,this.max_code=0,this.stat_desc=K}function B(I){return I<256?L[I]:L[256+(I>>>7)]}function H(I,K){I.pending_buf[I.pending++]=255&K,I.pending_buf[I.pending++]=K>>>8&255}function G(I,K,dt){I.bi_valid>v-dt?(I.bi_buf|=K<<I.bi_valid&65535,H(I,I.bi_buf),I.bi_buf=K>>v-I.bi_valid,I.bi_valid+=dt-v):(I.bi_buf|=K<<I.bi_valid&65535,I.bi_valid+=dt)}function tt(I,K,dt){G(I,dt[2*K],dt[2*K+1])}function mt(I,K){for(var dt=0;dt|=1&I,I>>>=1,dt<<=1,0<--K;);return dt>>>1}function Rt(I,K,dt){var gt,nt,Ot=new Array(w+1),xt=0;for(gt=1;gt<=w;gt++)Ot[gt]=xt=xt+dt[gt-1]<<1;for(nt=0;nt<=K;nt++){var bt=I[2*nt+1];bt!==0&&(I[2*nt]=mt(Ot[bt]++,bt))}}function Ut(I){var K;for(K=0;K<m;K++)I.dyn_ltree[2*K]=0;for(K=0;K<O;K++)I.dyn_dtree[2*K]=0;for(K=0;K<y;K++)I.bl_tree[2*K]=0;I.dyn_ltree[2*M]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function qt(I){8<I.bi_valid?H(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function Je(I,K,dt,gt){var nt=2*K,Ot=2*dt;return I[nt]<I[Ot]||I[nt]===I[Ot]&&gt[K]<=gt[dt]}function ze(I,K,dt){for(var gt=I.heap[dt],nt=dt<<1;nt<=I.heap_len&&(nt<I.heap_len&&Je(K,I.heap[nt+1],I.heap[nt],I.depth)&&nt++,!Je(K,gt,I.heap[nt],I.depth));)I.heap[dt]=I.heap[nt],dt=nt,nt<<=1;I.heap[dt]=gt}function yn(I,K,dt){var gt,nt,Ot,xt,bt=0;if(I.last_lit!==0)for(;gt=I.pending_buf[I.d_buf+2*bt]<<8|I.pending_buf[I.d_buf+2*bt+1],nt=I.pending_buf[I.l_buf+bt],bt++,gt===0?tt(I,nt,K):(tt(I,(Ot=$[nt])+p+1,K),(xt=A[Ot])!==0&&G(I,nt-=j[Ot],xt),tt(I,Ot=B(--gt),dt),(xt=V[Ot])!==0&&G(I,gt-=F[Ot],xt)),bt<I.last_lit;);tt(I,M,K)}function bn(I,K){var dt,gt,nt,Ot=K.dyn_tree,xt=K.stat_desc.static_tree,bt=K.stat_desc.has_stree,Vt=K.stat_desc.elems,be=-1;for(I.heap_len=0,I.heap_max=S,dt=0;dt<Vt;dt++)Ot[2*dt]!==0?(I.heap[++I.heap_len]=be=dt,I.depth[dt]=0):Ot[2*dt+1]=0;for(;I.heap_len<2;)Ot[2*(nt=I.heap[++I.heap_len]=be<2?++be:0)]=1,I.depth[nt]=0,I.opt_len--,bt&&(I.static_len-=xt[2*nt+1]);for(K.max_code=be,dt=I.heap_len>>1;1<=dt;dt--)ze(I,Ot,dt);for(nt=Vt;dt=I.heap[1],I.heap[1]=I.heap[I.heap_len--],ze(I,Ot,1),gt=I.heap[1],I.heap[--I.heap_max]=dt,I.heap[--I.heap_max]=gt,Ot[2*nt]=Ot[2*dt]+Ot[2*gt],I.depth[nt]=(I.depth[dt]>=I.depth[gt]?I.depth[dt]:I.depth[gt])+1,Ot[2*dt+1]=Ot[2*gt+1]=nt,I.heap[1]=nt++,ze(I,Ot,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],(function(re,xn){var uo,dr,Aa,Te,_i,pr,ii=xn.dyn_tree,_p=xn.max_code,z1=xn.stat_desc.static_tree,N1=xn.stat_desc.has_stree,yh=xn.stat_desc.extra_bits,Ca=xn.stat_desc.extra_base,ss=xn.stat_desc.max_length,gr=0;for(Te=0;Te<=w;Te++)re.bl_count[Te]=0;for(ii[2*re.heap[re.heap_max]+1]=0,uo=re.heap_max+1;uo<S;uo++)ss<(Te=ii[2*ii[2*(dr=re.heap[uo])+1]+1]+1)&&(Te=ss,gr++),ii[2*dr+1]=Te,_p<dr||(re.bl_count[Te]++,_i=0,Ca<=dr&&(_i=yh[dr-Ca]),pr=ii[2*dr],re.opt_len+=pr*(Te+_i),N1&&(re.static_len+=pr*(z1[2*dr+1]+_i)));if(gr!==0){do{for(Te=ss-1;re.bl_count[Te]===0;)Te--;re.bl_count[Te]--,re.bl_count[Te+1]+=2,re.bl_count[ss]--,gr-=2}while(0<gr);for(Te=ss;Te!==0;Te--)for(dr=re.bl_count[Te];dr!==0;)_p<(Aa=re.heap[--uo])||(ii[2*Aa+1]!==Te&&(re.opt_len+=(Te-ii[2*Aa+1])*ii[2*Aa],ii[2*Aa+1]=Te),dr--)}})(I,K),Rt(Ot,be,I.bl_count)}function Q(I,K,dt){var gt,nt,Ot=-1,xt=K[1],bt=0,Vt=7,be=4;for(xt===0&&(Vt=138,be=3),K[2*(dt+1)+1]=65535,gt=0;gt<=dt;gt++)nt=xt,xt=K[2*(gt+1)+1],++bt<Vt&&nt===xt||(bt<be?I.bl_tree[2*nt]+=bt:nt!==0?(nt!==Ot&&I.bl_tree[2*nt]++,I.bl_tree[2*N]++):bt<=10?I.bl_tree[2*P]++:I.bl_tree[2*E]++,Ot=nt,be=(bt=0)===xt?(Vt=138,3):nt===xt?(Vt=6,3):(Vt=7,4))}function ut(I,K,dt){var gt,nt,Ot=-1,xt=K[1],bt=0,Vt=7,be=4;for(xt===0&&(Vt=138,be=3),gt=0;gt<=dt;gt++)if(nt=xt,xt=K[2*(gt+1)+1],!(++bt<Vt&&nt===xt)){if(bt<be)for(;tt(I,nt,I.bl_tree),--bt!=0;);else nt!==0?(nt!==Ot&&(tt(I,nt,I.bl_tree),bt--),tt(I,N,I.bl_tree),G(I,bt-3,2)):bt<=10?(tt(I,P,I.bl_tree),G(I,bt-3,3)):(tt(I,E,I.bl_tree),G(I,bt-11,7));Ot=nt,be=(bt=0)===xt?(Vt=138,3):nt===xt?(Vt=6,3):(Vt=7,4)}}a(F);var ot=!1;function q(I,K,dt,gt){G(I,(f<<1)+(gt?1:0),3),(function(nt,Ot,xt,bt){qt(nt),H(nt,xt),H(nt,~xt),s.arraySet(nt.pending_buf,nt.window,Ot,xt,nt.pending),nt.pending+=xt})(I,K,dt)}n._tr_init=function(I){ot||((function(){var K,dt,gt,nt,Ot,xt=new Array(w+1);for(nt=gt=0;nt<c-1;nt++)for(j[nt]=gt,K=0;K<1<<A[nt];K++)$[gt++]=nt;for($[gt-1]=nt,nt=Ot=0;nt<16;nt++)for(F[nt]=Ot,K=0;K<1<<V[nt];K++)L[Ot++]=nt;for(Ot>>=7;nt<O;nt++)for(F[nt]=Ot<<7,K=0;K<1<<V[nt]-7;K++)L[256+Ot++]=nt;for(dt=0;dt<=w;dt++)xt[dt]=0;for(K=0;K<=143;)z[2*K+1]=8,K++,xt[8]++;for(;K<=255;)z[2*K+1]=9,K++,xt[9]++;for(;K<=279;)z[2*K+1]=7,K++,xt[7]++;for(;K<=287;)z[2*K+1]=8,K++,xt[8]++;for(Rt(z,m+1,xt),K=0;K<O;K++)k[2*K+1]=5,k[2*K]=mt(K,5);W=new pt(z,A,p+1,m,w),X=new pt(k,V,0,O,w),st=new pt(new Array(0),D,0,y,T)})(),ot=!0),I.l_desc=new R(I.dyn_ltree,W),I.d_desc=new R(I.dyn_dtree,X),I.bl_desc=new R(I.bl_tree,st),I.bi_buf=0,I.bi_valid=0,Ut(I)},n._tr_stored_block=q,n._tr_flush_block=function(I,K,dt,gt){var nt,Ot,xt=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=(function(bt){var Vt,be=4093624447;for(Vt=0;Vt<=31;Vt++,be>>>=1)if(1&be&&bt.dyn_ltree[2*Vt]!==0)return l;if(bt.dyn_ltree[18]!==0||bt.dyn_ltree[20]!==0||bt.dyn_ltree[26]!==0)return o;for(Vt=32;Vt<p;Vt++)if(bt.dyn_ltree[2*Vt]!==0)return o;return l})(I)),bn(I,I.l_desc),bn(I,I.d_desc),xt=(function(bt){var Vt;for(Q(bt,bt.dyn_ltree,bt.l_desc.max_code),Q(bt,bt.dyn_dtree,bt.d_desc.max_code),bn(bt,bt.bl_desc),Vt=y-1;3<=Vt&&bt.bl_tree[2*Z[Vt]+1]===0;Vt--);return bt.opt_len+=3*(Vt+1)+5+5+4,Vt})(I),nt=I.opt_len+3+7>>>3,(Ot=I.static_len+3+7>>>3)<=nt&&(nt=Ot)):nt=Ot=dt+5,dt+4<=nt&&K!==-1?q(I,K,dt,gt):I.strategy===4||Ot===nt?(G(I,2+(gt?1:0),3),yn(I,z,k)):(G(I,4+(gt?1:0),3),(function(bt,Vt,be,re){var xn;for(G(bt,Vt-257,5),G(bt,be-1,5),G(bt,re-4,4),xn=0;xn<re;xn++)G(bt,bt.bl_tree[2*Z[xn]+1],3);ut(bt,bt.dyn_ltree,Vt-1),ut(bt,bt.dyn_dtree,be-1)})(I,I.l_desc.max_code+1,I.d_desc.max_code+1,xt+1),yn(I,I.dyn_ltree,I.dyn_dtree)),Ut(I),gt&&qt(I)},n._tr_tally=function(I,K,dt){return I.pending_buf[I.d_buf+2*I.last_lit]=K>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&K,I.pending_buf[I.l_buf+I.last_lit]=255&dt,I.last_lit++,K===0?I.dyn_ltree[2*dt]++:(I.matches++,K--,I.dyn_ltree[2*($[dt]+p+1)]++,I.dyn_dtree[2*B(K)]++),I.last_lit===I.lit_bufsize-1},n._tr_align=function(I){G(I,2,3),tt(I,M,z),(function(K){K.bi_valid===16?(H(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(I)}},{"../utils/common":41}],53:[function(e,i,n){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,i,n){(function(s){(function(l,o){if(!l.setImmediate){var a,f,c,p,m=1,O={},y=!1,S=l.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(l);w=w&&w.setTimeout?w:l,a={}.toString.call(l.process)==="[object process]"?function(N){process.nextTick(function(){T(N)})}:(function(){if(l.postMessage&&!l.importScripts){var N=!0,P=l.onmessage;return l.onmessage=function(){N=!1},l.postMessage("","*"),l.onmessage=P,N}})()?(p="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",M,!1):l.attachEvent("onmessage",M),function(N){l.postMessage(p+N,"*")}):l.MessageChannel?((c=new MessageChannel).port1.onmessage=function(N){T(N.data)},function(N){c.port2.postMessage(N)}):S&&"onreadystatechange"in S.createElement("script")?(f=S.documentElement,function(N){var P=S.createElement("script");P.onreadystatechange=function(){T(N),P.onreadystatechange=null,f.removeChild(P),P=null},f.appendChild(P)}):function(N){setTimeout(T,0,N)},w.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var P=new Array(arguments.length-1),E=0;E<P.length;E++)P[E]=arguments[E+1];var A={callback:N,args:P};return O[m]=A,a(m),m++},w.clearImmediate=v}function v(N){delete O[N]}function T(N){if(y)setTimeout(T,0,N);else{var P=O[N];if(P){y=!0;try{(function(E){var A=E.callback,V=E.args;switch(V.length){case 0:A();break;case 1:A(V[0]);break;case 2:A(V[0],V[1]);break;case 3:A(V[0],V[1],V[2]);break;default:A.apply(o,V)}})(P)}finally{v(N),y=!1}}}}function M(N){N.source===l&&typeof N.data=="string"&&N.data.indexOf(p)===0&&T(+N.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ra<"u"?ra:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(nx)),nx.exports}var FX=GX();const KX=U2(FX);var h0={exports:{}},JX=h0.exports,A3;function t7(){return A3||(A3=1,(function(r,t){(function(e,i){i()})(JX,function(){function e(f,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function i(f,c,p){var m=new XMLHttpRequest;m.open("GET",f),m.responseType="blob",m.onload=function(){a(m.response,c,p)},m.onerror=function(){console.error("could not download file")},m.send()}function n(f){var c=new XMLHttpRequest;c.open("HEAD",f,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(c)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ra=="object"&&ra.global===ra?ra:void 0,o=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(f,c,p){var m=l.URL||l.webkitURL,O=document.createElement("a");c=c||f.name||"download",O.download=c,O.rel="noopener",typeof f=="string"?(O.href=f,O.origin===location.origin?s(O):n(O.href)?i(f,c,p):s(O,O.target="_blank")):(O.href=m.createObjectURL(f),setTimeout(function(){m.revokeObjectURL(O.href)},4e4),setTimeout(function(){s(O)},0))}:"msSaveOrOpenBlob"in navigator?function(f,c,p){if(c=c||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(e(f,p),c);else if(n(f))i(f,c,p);else{var m=document.createElement("a");m.href=f,m.target="_blank",setTimeout(function(){s(m)})}}:function(f,c,p,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof f=="string")return i(f,c,p);var O=f.type==="application/octet-stream",y=/constructor/i.test(l.HTMLElement)||l.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||O&&y||o)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var M=w.result;M=S?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=M:location=M,m=null},w.readAsDataURL(f)}else{var v=l.URL||l.webkitURL,T=v.createObjectURL(f);m?m.location=T:location.href=T,m=null,setTimeout(function(){v.revokeObjectURL(T)},4e4)}});l.saveAs=a.saveAs=a,r.exports=a})})(h0)),h0.exports}var C3=t7();const e7=(r,t,e)=>{const i=JSON.stringify({html:r,css:t,js:e}),n=btoa(unescape(encodeURIComponent(i)));return`${window.location.origin}${window.location.pathname}#code=${n}`};function i7(){const r=ne(X=>X.theme),t=ne(X=>X.toggleTheme),e=ne(X=>X.editorTheme),i=ne(X=>X.setEditorTheme),n=ne(X=>X.resetCode),s=ne(X=>X.loadTemplate),l=ne(X=>X.saveSnippet),o=ne(X=>X.html),a=ne(X=>X.css),f=ne(X=>X.js),c=ne(X=>X.setHtml);ne(X=>X.setCss),ne(X=>X.setJs);const[p,m]=ei.useState(!1),[O,y]=ei.useState(""),[S,w]=ei.useState(!1),[v,T]=ei.useState(!1),M=ne(X=>X.savedSnippets),N=ne(X=>X.loadSnippet),P=ne(X=>X.deleteSnippet),E=()=>{const X=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Code Playground Export</title>
  <style>
${a}
  </style>
</head>
<body>
${o}
  <script>
${f}
  <\/script>
</body>
</html>`,st=new Blob([X],{type:"text/html"});C3.saveAs(st,"playground-export.html")},A=async()=>{const X=new KX;X.file("index.html",`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Code Playground Export</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
${o}
  <script src="script.js"><\/script>
</body>
</html>`),X.file("style.css",a),X.file("script.js",f);const st=await X.generateAsync({type:"blob"});C3.saveAs(st,"playground-export.zip")},V=()=>{const X=o;c(X+" "),requestAnimationFrame(()=>c(X))},D=()=>{const X=e7(o,a,f);navigator.clipboard.writeText(X).then(()=>{w(!0),setTimeout(()=>w(!1),2e3)}),window.history.replaceState(null,"",X.replace(window.location.origin,""))},Z=()=>{p?(l(O||void 0),y(""),m(!1)):m(!0)},z=r==="dark"?"bg-[#11111b] border-b border-gray-700/40":"bg-white border-b border-gray-200 shadow-sm",k=r==="dark"?"text-gray-200":"text-gray-800",L="px-3 py-1.5 rounded-md text-xs font-medium transition-all cursor-pointer",$=`${L} bg-indigo-500 hover:bg-indigo-400 text-white`,j=`${L} ${r==="dark"?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,W=`${L} bg-red-500/20 hover:bg-red-500/40 text-red-400`;return Qt.jsxs("header",{className:`${z} ${k} px-4 py-2 flex items-center justify-between gap-3 flex-wrap relative z-20`,children:[Qt.jsxs("div",{className:"flex items-center gap-2",children:[Qt.jsx("div",{className:"w-7 h-7 rounded-md bg-indigo-500 flex items-center justify-center text-white text-sm font-bold font-mono",children:"</>"}),Qt.jsxs("h1",{className:"text-base font-bold tracking-tight",children:["Code ",Qt.jsx("span",{className:"text-indigo-400",children:"Playground"})]})]}),Qt.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Qt.jsxs("select",{onChange:X=>s(Number(X.target.value)),defaultValue:"",className:`${j} appearance-none pr-6 bg-no-repeat bg-[right_0.5rem_center]`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239ca3af' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E")`},title:"Load a starter template",children:[Qt.jsx("option",{value:"",disabled:!0,children:"Templates"}),_c.map((X,st)=>Qt.jsx("option",{value:st,children:X.name},st))]}),Qt.jsxs("select",{value:e,onChange:X=>i(X.target.value),className:`${j} appearance-none pr-6 bg-no-repeat bg-[right_0.5rem_center]`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239ca3af' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E")`},title:"Editor color theme",children:[Qt.jsx("option",{value:"oneDark",children:"One Dark"}),Qt.jsx("option",{value:"default",children:"Light"})]}),Qt.jsx("div",{className:`w-px h-5 ${r==="dark"?"bg-gray-700":"bg-gray-300"}`}),Qt.jsx("button",{onClick:V,className:$,title:"Run code (Ctrl+Enter)",children:Qt.jsxs("span",{className:"flex items-center gap-1",children:[Qt.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:Qt.jsx("path",{d:"M6.3 2.84A1.5 1.5 0 004 4.11v11.78a1.5 1.5 0 002.3 1.27l9.344-5.891a1.5 1.5 0 000-2.538L6.3 2.84z"})}),"Run"]})}),Qt.jsx("button",{onClick:n,className:W,title:"Clear all code",children:"Reset"}),Qt.jsxs("div",{className:"relative",children:[Qt.jsx("button",{onClick:Z,className:j,title:"Save snippet to LocalStorage",children:p?"Confirm":"Save"}),p&&Qt.jsxs("div",{className:`absolute top-full mt-1 right-0 p-2 rounded-lg shadow-xl z-50 flex gap-2
              ${r==="dark"?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:[Qt.jsx("input",{autoFocus:!0,type:"text",placeholder:"Snippet name",value:O,onChange:X=>y(X.target.value),onKeyDown:X=>X.key==="Enter"&&Z(),className:`px-2 py-1 text-xs rounded border outline-none w-40
                  ${r==="dark"?"bg-gray-900 border-gray-600 text-gray-200":"bg-gray-50 border-gray-300 text-gray-800"}`}),Qt.jsx("button",{onClick:()=>m(!1),className:"text-xs text-gray-400 hover:text-gray-200 cursor-pointer",children:""})]})]}),Qt.jsxs("div",{className:"relative",children:[Qt.jsxs("button",{onClick:()=>T(!v),className:j,title:"Saved snippets",children:["Snippets ",M.length>0&&`(${M.length})`]}),v&&Qt.jsx("div",{className:`absolute top-full mt-1 right-0 rounded-lg shadow-xl z-50 min-w-[220px] max-h-60 overflow-auto
              ${r==="dark"?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:M.length===0?Qt.jsx("p",{className:"p-3 text-xs text-gray-400",children:"No saved snippets"}):M.map((X,st)=>Qt.jsxs("div",{className:`flex items-center justify-between px-3 py-2 text-xs
                    ${r==="dark"?"hover:bg-gray-700/60":"hover:bg-gray-100"}`,children:[Qt.jsx("button",{onClick:()=>{N(st),T(!1)},className:"flex-1 text-left truncate cursor-pointer",children:X.name}),Qt.jsx("button",{onClick:()=>P(st),className:"ml-2 text-red-400 hover:text-red-300 cursor-pointer",title:"Delete snippet",children:""})]},st))})]}),Qt.jsx("div",{className:`w-px h-5 ${r==="dark"?"bg-gray-700":"bg-gray-300"}`}),Qt.jsx("button",{onClick:E,className:j,title:"Export as single HTML file",children:"HTML "}),Qt.jsx("button",{onClick:A,className:j,title:"Export as ZIP",children:"ZIP "}),Qt.jsx("button",{onClick:D,className:j,title:"Copy shareable link",children:Qt.jsxs("span",{className:"flex items-center gap-1",children:[Qt.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Qt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Share"]})}),Qt.jsx("button",{onClick:t,className:j,title:"Toggle dark/light mode",children:r==="dark"?"":""})]}),S&&Qt.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 px-4 py-2 bg-green-500 text-white text-xs rounded-lg shadow-lg animate-pulse z-50",children:"Shareable link copied to clipboard!"})]})}let ZS=[],RD=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,e=0;t<r.length;t++)(t%2?RD:ZS).push(e=e+r[t])})();function n7(r){if(r<768)return!1;for(let t=0,e=ZS.length;;){let i=t+e>>1;if(r<ZS[i])e=i;else if(r>=RD[i])t=i+1;else return!0;if(t==e)return!1}}function T3(r){return r>=127462&&r<=127487}const Q3=8205;function r7(r,t,e=!0,i=!0){return(e?ED:s7)(r,t,i)}function ED(r,t,e){if(t==r.length)return t;t&&DD(r.charCodeAt(t))&&BD(r.charCodeAt(t-1))&&t--;let i=rx(r,t);for(t+=P3(i);t<r.length;){let n=rx(r,t);if(i==Q3||n==Q3||e&&n7(n))t+=P3(n),i=n;else if(T3(n)){let s=0,l=t-2;for(;l>=0&&T3(rx(r,l));)s++,l-=2;if(s%2==0)break;t+=2}else break}return t}function s7(r,t,e){for(;t>0;){let i=ED(r,t-2,e);if(i<t)return i;t--}return 0}function rx(r,t){let e=r.charCodeAt(t);if(!BD(e)||t+1==r.length)return e;let i=r.charCodeAt(t+1);return DD(i)?(e-55296<<10)+(i-56320)+65536:e}function DD(r){return r>=56320&&r<57344}function BD(r){return r>=55296&&r<56320}function P3(r){return r<65536?1:2}let we=class _D{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){[t,e]=Nu(this,t,e);let n=[];return this.decompose(0,t,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(e,this.length,n,1),u0.from(n,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=Nu(this,t,e);let i=[];return this.decompose(t,e,i,0),u0.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),n=new dd(this),s=new dd(t);for(let l=e,o=e;;){if(n.next(l),s.next(l),l=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(t=1){return new dd(this,t)}iterRange(t,e=this.length){return new zD(this,t,e)}iterLines(t,e){let i;if(t==null)i=this.iter();else{e==null&&(e=this.lines+1);let n=this.line(t).from;i=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new ND(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?_D.empty:t.length<=32?new Yr(t):u0.from(Yr.split(t,[]))}},Yr=class Ps extends we{constructor(t,e=l7(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,n){for(let s=0;;s++){let l=this.text[s],o=n+l.length;if((e?i:o)>=t)return new o7(n,o,i,l);n=o+1,i++}}decompose(t,e,i,n){let s=t<=0&&e>=this.length?this:new Ps(M3(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(n&1){let l=i.pop(),o=f0(s.text,l.text.slice(),0,s.length);if(o.length<=32)i.push(new Ps(o,l.length+s.length));else{let a=o.length>>1;i.push(new Ps(o.slice(0,a)),new Ps(o.slice(a)))}}else i.push(s)}replace(t,e,i){if(!(i instanceof Ps))return super.replace(t,e,i);[t,e]=Nu(this,t,e);let n=f0(this.text,f0(i.text,M3(this.text,0,t)),e),s=this.length+i.length-(e-t);return n.length<=32?new Ps(n,s):u0.from(Ps.split(n,[]),s)}sliceString(t,e=this.length,i=`
`){[t,e]=Nu(this,t,e);let n="";for(let s=0,l=0;s<=e&&l<this.text.length;l++){let o=this.text[l],a=s+o.length;s>t&&l&&(n+=i),t<a&&e>s&&(n+=o.slice(Math.max(0,t-s),e-s)),s=a+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],n=-1;for(let s of t)i.push(s),n+=s.length+1,i.length==32&&(e.push(new Ps(i,n)),i=[],n=-1);return n>-1&&e.push(new Ps(i,n)),e}},u0=class lu extends we{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,n){for(let s=0;;s++){let l=this.children[s],o=n+l.length,a=i+l.lines-1;if((e?a:o)>=t)return l.lineInner(t,e,i,n);n=o+1,i=a+1}}decompose(t,e,i,n){for(let s=0,l=0;l<=e&&s<this.children.length;s++){let o=this.children[s],a=l+o.length;if(t<=a&&e>=l){let f=n&((l<=t?1:0)|(a>=e?2:0));l>=t&&a<=e&&!f?i.push(o):o.decompose(t-l,e-l,i,f)}l=a+1}}replace(t,e,i){if([t,e]=Nu(this,t,e),i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let l=this.children[n],o=s+l.length;if(t>=s&&e<=o){let a=l.replace(t-s,e-s,i),f=this.lines-l.lines+a.lines;if(a.lines<f>>4&&a.lines>f>>6){let c=this.children.slice();return c[n]=a,new lu(c,this.length-(e-t)+i.length)}return super.replace(s,o,a)}s=o+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i=`
`){[t,e]=Nu(this,t,e);let n="";for(let s=0,l=0;s<this.children.length&&l<=e;s++){let o=this.children[s],a=l+o.length;l>t&&s&&(n+=i),t<a&&e>l&&(n+=o.sliceString(t-l,e-l,i)),l=a+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof lu))return 0;let i=0,[n,s,l,o]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,s+=e){if(n==l||s==o)return i;let a=this.children[n],f=t.children[s];if(a!=f)return i+a.scanIdentical(f,e);i+=a.length+1}}static from(t,e=t.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let O of t)i+=O.lines;if(i<32){let O=[];for(let y of t)y.flatten(O);return new Yr(O,e)}let n=Math.max(32,i>>5),s=n<<1,l=n>>1,o=[],a=0,f=-1,c=[];function p(O){let y;if(O.lines>s&&O instanceof lu)for(let S of O.children)p(S);else O.lines>l&&(a>l||!a)?(m(),o.push(O)):O instanceof Yr&&a&&(y=c[c.length-1])instanceof Yr&&O.lines+y.lines<=32?(a+=O.lines,f+=O.length+1,c[c.length-1]=new Yr(y.text.concat(O.text),y.length+1+O.length)):(a+O.lines>n&&m(),a+=O.lines,f+=O.length+1,c.push(O))}function m(){a!=0&&(o.push(c.length==1?c[0]:lu.from(c,f)),f=-1,a=c.length=0)}for(let O of t)p(O);return m(),o.length==1?o[0]:new lu(o,e)}};we.empty=new Yr([""],0);function l7(r){let t=-1;for(let e of r)t+=e.length+1;return t}function f0(r,t,e=0,i=1e9){for(let n=0,s=0,l=!0;s<r.length&&n<=i;s++){let o=r[s],a=n+o.length;a>=e&&(a>i&&(o=o.slice(0,i-n)),n<e&&(o=o.slice(e-n)),l?(t[t.length-1]+=o,l=!1):t.push(o)),n=a+1}return t}function M3(r,t,e){return f0(r,[""],t,e)}let dd=class{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof Yr?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],l=s>>1,o=n instanceof Yr?n.text.length:n.children.length;if(l==(e>0?o:0)){if(i==0)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(e>0?0:1)){if(this.offsets[i]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(n instanceof Yr){let a=n.text[l+(e<0?-1:0)];if(this.offsets[i]+=e,a.length>Math.max(0,t))return this.value=t==0?a:e>0?a.slice(t):a.slice(0,a.length-t),this;t-=a.length}else{let a=n.children[l+(e<0?-1:0)];t>a.length?(t-=a.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(e>0?1:(a instanceof Yr?a.text.length:a.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}},zD=class{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new dd(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=i?n:e<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},ND=class{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:n}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(we.prototype[Symbol.iterator]=function(){return this.iter()},dd.prototype[Symbol.iterator]=zD.prototype[Symbol.iterator]=ND.prototype[Symbol.iterator]=function(){return this});let o7=class{constructor(t,e,i,n){this.from=t,this.to=e,this.number=i,this.text=n}get length(){return this.to-this.from}};function Nu(r,t,e){return t=Math.max(0,Math.min(r.length,t)),[t,Math.max(t,Math.min(r.length,e))]}function Ws(r,t,e=!0,i=!0){return r7(r,t,e,i)}function a7(r){return r>=56320&&r<57344}function h7(r){return r>=55296&&r<56320}function u7(r,t){let e=r.charCodeAt(t);if(!h7(e)||t+1==r.length)return e;let i=r.charCodeAt(t+1);return a7(i)?(e-55296<<10)+(i-56320)+65536:e}function f7(r){return r<65536?1:2}const VS=/\r\n?|\n/;var pn=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(pn||(pn={}));let pd=class c0{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,n=0;e<this.sections.length;){let s=this.sections[e++],l=this.sections[e++];l<0?(t(i,n,s),n+=s):n+=l,i+=s}}iterChangedRanges(t,e=!1){XS(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];n<0?t.push(i,n):t.push(n,i)}return new c0(t)}composeDesc(t){return this.empty?t:t.empty?this:LD(this,t)}mapDesc(t,e=!1){return t.empty?this:IS(this,t,e)}mapPos(t,e=-1,i=pn.Simple){let n=0,s=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],a=this.sections[l++],f=n+o;if(a<0){if(f>t)return s+(t-n);s+=o}else{if(i!=pn.Simple&&f>=t&&(i==pn.TrackDel&&n<t&&f>t||i==pn.TrackBefore&&n<t||i==pn.TrackAfter&&f>t))return null;if(f>t||f==t&&e<0&&!o)return t==n||e<0?s:s+a;s+=a}n=f}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return s}touchesRange(t,e=t){for(let i=0,n=0;i<this.sections.length&&n<=e;){let s=this.sections[i++],l=this.sections[i++],o=n+s;if(l>=0&&n<=e&&o>=t)return n<t&&o>e?"cover":!0;n=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+i+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new c0(t)}static create(t){return new c0(t)}},sl=class _o extends pd{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return XS(this,(e,i,n,s,l)=>t=t.replace(n,n+(i-e),l),!1),t}mapDesc(t,e=!1){return IS(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let n=0,s=0;n<e.length;n+=2){let l=e[n],o=e[n+1];if(o>=0){e[n]=o,e[n+1]=l;let a=n>>1;for(;i.length<a;)i.push(we.empty);i.push(l?t.slice(s,s+l):we.empty)}s+=l}return new _o(e,i)}compose(t){return this.empty?t:t.empty?this:LD(this,t,!0)}map(t,e=!1){return t.empty?this:IS(this,t,e,!0)}iterChanges(t,e=!1){XS(this,t,e)}get desc(){return pd.create(this.sections)}filter(t){let e=[],i=[],n=[],s=new zd(this);t:for(let l=0,o=0;;){let a=l==t.length?1e9:t[l++];for(;o<a||o==a&&s.len==0;){if(s.done)break t;let c=Math.min(s.len,a-o);nn(n,c,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;nn(e,c,p),p>0&&sa(i,e,s.text),s.forward(c),o+=c}let f=t[l++];for(;o<f;){if(s.done)break t;let c=Math.min(s.len,f-o);nn(e,c,-1),nn(n,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),o+=c}}return{changes:new _o(e,i),filtered:pd.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],n=this.sections[e+1];n<0?t.push(i):n==0?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let n=[],s=[],l=0,o=null;function a(c=!1){if(!c&&!n.length)return;l<e&&nn(n,e-l,-1);let p=new _o(n,s);o=o?o.compose(p.map(o)):p,n=[],s=[],l=0}function f(c){if(Array.isArray(c))for(let p of c)f(p);else if(c instanceof _o){if(c.length!=e)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${e})`);a(),o=o?o.compose(c.map(o)):c}else{let{from:p,to:m=p,insert:O}=c;if(p>m||p<0||m>e)throw new RangeError(`Invalid change range ${p} to ${m} (in doc of length ${e})`);let y=O?typeof O=="string"?we.of(O.split(i||VS)):O:we.empty,S=y.length;if(p==m&&S==0)return;p<l&&a(),p>l&&nn(n,p-l,-1),nn(n,m-p,S),sa(s,n,y),l=m}}return f(t),a(!o),o}static empty(t){return new _o(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let n=0;n<t.length;n++){let s=t[n];if(typeof s=="number")e.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)e.push(s[0],0);else{for(;i.length<n;)i.push(we.empty);i[n]=we.of(s.slice(1)),e.push(s[0],i[n].length)}}}return new _o(e,i)}static createSet(t,e){return new _o(t,e)}};function nn(r,t,e,i=!1){if(t==0&&e<=0)return;let n=r.length-2;n>=0&&e<=0&&e==r[n+1]?r[n]+=t:n>=0&&t==0&&r[n]==0?r[n+1]+=e:i?(r[n]+=t,r[n+1]+=e):r.push(t,e)}function sa(r,t,e){if(e.length==0)return;let i=t.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(e);else{for(;r.length<i;)r.push(we.empty);r.push(e)}}function XS(r,t,e){let i=r.inserted;for(let n=0,s=0,l=0;l<r.sections.length;){let o=r.sections[l++],a=r.sections[l++];if(a<0)n+=o,s+=o;else{let f=n,c=s,p=we.empty;for(;f+=o,c+=a,a&&i&&(p=p.append(i[l-2>>1])),!(e||l==r.sections.length||r.sections[l+1]<0);)o=r.sections[l++],a=r.sections[l++];t(n,f,s,c,p),n=f,s=c}}}function IS(r,t,e,i=!1){let n=[],s=i?[]:null,l=new zd(r),o=new zd(t);for(let a=-1;;){if(l.done&&o.len||o.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&o.ins==-1){let f=Math.min(l.len,o.len);nn(n,f,-1),l.forward(f),o.forward(f)}else if(o.ins>=0&&(l.ins<0||a==l.i||l.off==0&&(o.len<l.len||o.len==l.len&&!e))){let f=o.len;for(nn(n,o.ins,-1);f;){let c=Math.min(l.len,f);l.ins>=0&&a<l.i&&l.len<=c&&(nn(n,0,l.ins),s&&sa(s,n,l.text),a=l.i),l.forward(c),f-=c}o.next()}else if(l.ins>=0){let f=0,c=l.len;for(;c;)if(o.ins==-1){let p=Math.min(c,o.len);f+=p,c-=p,o.forward(p)}else if(o.ins==0&&o.len<c)c-=o.len,o.next();else break;nn(n,f,a<l.i?l.ins:0),s&&a<l.i&&sa(s,n,l.text),a=l.i,l.forward(l.len-c)}else{if(l.done&&o.done)return s?sl.createSet(n,s):pd.create(n);throw new Error("Mismatched change set lengths")}}}function LD(r,t,e=!1){let i=[],n=e?[]:null,s=new zd(r),l=new zd(t);for(let o=!1;;){if(s.done&&l.done)return n?sl.createSet(i,n):pd.create(i);if(s.ins==0)nn(i,s.len,0,o),s.next();else if(l.len==0&&!l.done)nn(i,0,l.ins,o),n&&sa(n,i,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,l.len),f=i.length;if(s.ins==-1){let c=l.ins==-1?-1:l.off?0:l.ins;nn(i,a,c,o),n&&c&&sa(n,i,l.text)}else l.ins==-1?(nn(i,s.off?0:s.len,a,o),n&&sa(n,i,s.textBit(a))):(nn(i,s.off?0:s.len,l.off?0:l.ins,o),n&&!l.off&&sa(n,i,l.text));o=(s.ins>a||l.ins>=0&&l.len>a)&&(o||i.length>f),s.forward2(a),l.forward(a)}}}}let zd=class{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?we.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?we.empty:e[i].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}},Fg=class jS{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let i,n;return this.empty?i=n=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new jS(i,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Wt.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Wt.range(this.anchor,i)}eq(t,e=!1){return this.anchor==t.anchor&&this.head==t.head&&this.goalColumn==t.goalColumn&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Wt.range(t.anchor,t.head)}static create(t,e,i){return new jS(t,e,i)}},Wt=class ir{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:ir.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(t.ranges[i],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ir([this.main],0)}addRange(t,e=!0){return ir.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,ir.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ir(t.ranges.map(e=>Fg.fromJSON(e)),t.main)}static single(t,e=t){return new ir([ir.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<t.length;n++){let s=t[n];if(s.empty?s.from<=i:s.from<i)return ir.normalized(t.slice(),e);i=s.to}return new ir(t,e)}static cursor(t,e=0,i,n){return Fg.create(t,t,(e==0?0:e<0?8:16)|(i==null?7:Math.min(6,i))|(n??16777215)<<6)}static range(t,e,i,n){let s=(i??16777215)<<6|(n==null?7:Math.min(6,n));return e<t?Fg.create(e,t,48|s):Fg.create(t,e,(e>t?8:0)|s)}static normalized(t,e=0){let i=t[e];t.sort((n,s)=>n.from-s.from),e=t.indexOf(i);for(let n=1;n<t.length;n++){let s=t[n],l=t[n-1];if(s.empty?s.from<=l.to:s.from<l.to){let o=l.from,a=Math.max(s.to,l.to);n<=e&&e--,t.splice(--n,2,s.anchor>s.head?ir.range(a,o):ir.range(o,a))}}return new ir(t,e)}};function ZD(r,t){for(let e of r.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let F2=0,Zt=class VD{constructor(t,e,i,n,s){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=n,this.id=F2++,this.default=t([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(t={}){return new VD(t.combine||(e=>e),t.compareInput||((e,i)=>e===i),t.compare||(t.combine?(e,i)=>e===i:K2),!!t.static,t.enables)}of(t){return new d0([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new d0(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new d0(t,this,2,e)}from(t,e){return e||(e=i=>i),this.compute([t],i=>e(i.field(t)))}};function K2(r,t){return r==t||r.length==t.length&&r.every((e,i)=>e===t[i])}let d0=class{constructor(t,e,i,n){this.dependencies=t,this.facet=e,this.type=i,this.value=n,this.id=F2++}dynamicSlot(t){var e;let i=this.value,n=this.facet.compareInput,s=this.id,l=t[s]>>1,o=this.type==2,a=!1,f=!1,c=[];for(let p of this.dependencies)p=="doc"?a=!0:p=="selection"?f=!0:(((e=t[p.id])!==null&&e!==void 0?e:1)&1)==0&&c.push(t[p.id]);return{create(p){return p.values[l]=i(p),1},update(p,m){if(a&&m.docChanged||f&&(m.docChanged||m.selection)||qS(p,c)){let O=i(p);if(o?!R3(O,p.values[l],n):!n(O,p.values[l]))return p.values[l]=O,1}return 0},reconfigure:(p,m)=>{let O,y=m.config.address[s];if(y!=null){let S=fO(m,y);if(this.dependencies.every(w=>w instanceof Zt?m.facet(w)===p.facet(w):w instanceof ao?m.field(w,!1)==p.field(w,!1):!0)||(o?R3(O=i(p),S,n):n(O=i(p),S)))return p.values[l]=S,0}else O=i(p);return p.values[l]=O,1}}}};function R3(r,t,e){if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(!e(r[i],t[i]))return!1;return!0}function qS(r,t){let e=!1;for(let i of t)gd(r,i)&1&&(e=!0);return e}function c7(r,t,e){let i=e.map(a=>r[a.id]),n=e.map(a=>a.type),s=i.filter(a=>!(a&1)),l=r[t.id]>>1;function o(a){let f=[];for(let c=0;c<i.length;c++){let p=fO(a,i[c]);if(n[c]==2)for(let m of p)f.push(m);else f.push(p)}return t.combine(f)}return{create(a){for(let f of i)gd(a,f);return a.values[l]=o(a),1},update(a,f){if(!qS(a,s))return 0;let c=o(a);return t.compare(c,a.values[l])?0:(a.values[l]=c,1)},reconfigure(a,f){let c=qS(a,i),p=f.config.facets[t.id],m=f.facet(t);if(p&&!c&&K2(e,p))return a.values[l]=m,0;let O=o(a);return t.compare(O,m)?(a.values[l]=m,0):(a.values[l]=O,1)}}}const Kg=Zt.define({static:!0});let ao=class XD{constructor(t,e,i,n,s){this.id=t,this.createF=e,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(t){let e=new XD(F2++,t.create,t.update,t.compare||((i,n)=>i===n),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(Kg).find(i=>i.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:i=>(i.values[e]=this.create(i),1),update:(i,n)=>{let s=i.values[e],l=this.updateF(s,n);return this.compareF(s,l)?0:(i.values[e]=l,1)},reconfigure:(i,n)=>{let s=i.facet(Kg),l=n.facet(Kg),o;return(o=s.find(a=>a.field==this))&&o!=l.find(a=>a.field==this)?(i.values[e]=o.create(i),1):n.config.address[this.id]!=null?(i.values[e]=n.field(this),0):(i.values[e]=this.create(i),1)}}}init(t){return[this,Kg.of({field:this,create:t})]}get extension(){return this}};const th={lowest:4,low:3,default:2,high:1,highest:0};function fc(r){return t=>new ID(t,r)}const a1={highest:fc(th.highest),high:fc(th.high),default:fc(th.default),low:fc(th.low),lowest:fc(th.lowest)};let ID=class{constructor(t,e){this.inner=t,this.prec=e}},jD=class qD{of(t){return new WS(this,t)}reconfigure(t){return qD.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}},WS=class{constructor(t,e){this.compartment=t,this.inner=e}},E3=class WD{constructor(t,e,i,n,s,l){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let n=[],s=Object.create(null),l=new Map;for(let m of d7(t,e,l))m instanceof ao?n.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let o=Object.create(null),a=[],f=[];for(let m of n)o[m.id]=f.length<<1,f.push(O=>m.slot(O));let c=i?.config.facets;for(let m in s){let O=s[m],y=O[0].facet,S=c&&c[m]||[];if(O.every(w=>w.type==0))if(o[y.id]=a.length<<1|1,K2(S,O))a.push(i.facet(y));else{let w=y.combine(O.map(v=>v.value));a.push(i&&y.compare(w,i.facet(y))?i.facet(y):w)}else{for(let w of O)w.type==0?(o[w.id]=a.length<<1|1,a.push(w.value)):(o[w.id]=f.length<<1,f.push(v=>w.dynamicSlot(v)));o[y.id]=f.length<<1,f.push(w=>c7(w,y,O))}}let p=f.map(m=>m(o));return new WD(t,l,p,o,a,s)}};function d7(r,t,e){let i=[[],[],[],[],[]],n=new Map;function s(l,o){let a=n.get(l);if(a!=null){if(a<=o)return;let f=i[a].indexOf(l);f>-1&&i[a].splice(f,1),l instanceof WS&&e.delete(l.compartment)}if(n.set(l,o),Array.isArray(l))for(let f of l)s(f,o);else if(l instanceof WS){if(e.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=t.get(l.compartment)||l.inner;e.set(l.compartment,f),s(f,o)}else if(l instanceof ID)s(l.inner,l.prec);else if(l instanceof ao)i[o].push(l),l.provides&&s(l.provides,o);else if(l instanceof d0)i[o].push(l),l.facet.extensions&&s(l.facet.extensions,th.default);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,o)}}return s(r,th.default),i.reduce((l,o)=>l.concat(o))}function gd(r,t){if(t&1)return 2;let e=t>>1,i=r.status[e];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[e]=4;let n=r.computeSlot(r,r.config.dynamicSlots[e]);return r.status[e]=2|n}function fO(r,t){return t&1?r.config.staticValues[t>>1]:r.values[t>>1]}const YD=Zt.define(),YS=Zt.define({combine:r=>r.some(t=>t),static:!0}),HD=Zt.define({combine:r=>r.length?r[0]:void 0,static:!0}),UD=Zt.define(),GD=Zt.define(),FD=Zt.define(),KD=Zt.define({combine:r=>r.length?r[0]:!1});let mh=class{constructor(t,e){this.type=t,this.value=e}static define(){return new p7}},p7=class{of(t){return new mh(this,t)}},g7=class{constructor(t){this.map=t}of(t){return new oi(this,t)}},oi=class JD{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new JD(this.type,e)}is(t){return this.type==t}static define(t={}){return new g7(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let n of t){let s=n.map(e);s&&i.push(s)}return i}};oi.reconfigure=oi.define();oi.appendConfig=oi.define();let Pr=class zc{constructor(t,e,i,n,s,l){this.startState=t,this.changes=e,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,i&&ZD(i,e.newLength),s.some(o=>o.type==zc.time)||(this.annotations=s.concat(zc.time.of(Date.now())))}static create(t,e,i,n,s,l){return new zc(t,e,i,n,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(zc.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}};Pr.time=mh.define();Pr.userEvent=mh.define();Pr.addToHistory=mh.define();Pr.remote=mh.define();function m7(r,t){let e=[];for(let i=0,n=0;;){let s,l;if(i<r.length&&(n==t.length||t[n]>=r[i]))s=r[i++],l=r[i++];else if(n<t.length)s=t[n++],l=t[n++];else return e;!e.length||e[e.length-1]<s?e.push(s,l):e[e.length-1]<l&&(e[e.length-1]=l)}}function t4(r,t,e){var i;let n,s,l;return e?(n=t.changes,s=sl.empty(t.changes.length),l=r.changes.compose(t.changes)):(n=t.changes.map(r.changes),s=r.changes.mapDesc(t.changes,!0),l=r.changes.compose(n)),{changes:l,selection:t.selection?t.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:oi.mapEffects(r.effects,n).concat(oi.mapEffects(t.effects,s)),annotations:r.annotations.length?r.annotations.concat(t.annotations):t.annotations,scrollIntoView:r.scrollIntoView||t.scrollIntoView}}function HS(r,t,e){let i=t.selection,n=yu(t.annotations);return t.userEvent&&(n=n.concat(Pr.userEvent.of(t.userEvent))),{changes:t.changes instanceof sl?t.changes:sl.of(t.changes||[],e,r.facet(HD)),selection:i&&(i instanceof Wt?i:Wt.single(i.anchor,i.head)),effects:yu(t.effects),annotations:n,scrollIntoView:!!t.scrollIntoView}}function e4(r,t,e){let i=HS(r,t.length?t[0]:{},r.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let s=1;s<t.length;s++){t[s].filter===!1&&(e=!1);let l=!!t[s].sequential;i=t4(i,HS(r,t[s],l?i.changes.newLength:r.doc.length),l)}let n=Pr.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return y7(e?O7(n):n)}function O7(r){let t=r.startState,e=!0;for(let n of t.facet(UD)){let s=n(r);if(s===!1){e=!1;break}Array.isArray(s)&&(e=e===!0?s:m7(e,s))}if(e!==!0){let n,s;if(e===!1)s=r.changes.invertedDesc,n=sl.empty(t.doc.length);else{let l=r.changes.filter(e);n=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}r=Pr.create(t,n,r.selection&&r.selection.map(s),oi.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=t.facet(GD);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof Pr?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Pr?r=s[0]:r=e4(t,yu(s),!1)}return r}function y7(r){let t=r.startState,e=t.facet(FD),i=r;for(let n=e.length-1;n>=0;n--){let s=e[n](r);s&&Object.keys(s).length&&(i=t4(i,HS(t,s,r.changes.newLength),!0))}return i==r?r:Pr.create(t,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const b7=[];function yu(r){return r==null?b7:Array.isArray(r)?r:[r]}var Ul=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(Ul||(Ul={}));const x7=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let US;try{US=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function S7(r){if(US)return US.test(r);for(let t=0;t<r.length;t++){let e=r[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||x7.test(e)))return!0}return!1}function w7(r){return t=>{if(!/\S/.test(t))return Ul.Space;if(S7(t))return Ul.Word;for(let e=0;e<r.length;e++)if(t.indexOf(r[e])>-1)return Ul.Word;return Ul.Other}}let Ee=class Zr{constructor(t,e,i,n,s,l){this.config=t,this.doc=e,this.selection=i,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)gd(this,o<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(i==null){if(e)throw new RangeError("Field is not present in this state");return}return gd(this,i),fO(this,i)}update(...t){return e4(this,t,!0)}applyTransaction(t){let e=this.config,{base:i,compartments:n}=e;for(let o of t.effects)o.is(jD.reconfigure)?(e&&(n=new Map,e.compartments.forEach((a,f)=>n.set(f,a)),e=null),n.set(o.value.compartment,o.value.extension)):o.is(oi.reconfigure)?(e=null,i=o.value):o.is(oi.appendConfig)&&(e=null,i=yu(i).concat(o.value));let s;e?s=t.startState.values.slice():(e=E3.resolve(i,n,this),s=new Zr(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(a,f)=>f.reconfigure(a,this),null).values);let l=t.startState.facet(YS)?t.newSelection:t.newSelection.asSingle();new Zr(e,t.newDoc,l,s,(o,a)=>a.update(o,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:Wt.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),n=this.changes(i.changes),s=[i.range],l=yu(i.effects);for(let o=1;o<e.ranges.length;o++){let a=t(e.ranges[o]),f=this.changes(a.changes),c=f.map(n);for(let m=0;m<o;m++)s[m]=s[m].map(c);let p=n.mapDesc(f,!0);s.push(a.range.map(p)),n=n.compose(c),l=oi.mapEffects(l,c).concat(oi.mapEffects(yu(a.effects),p))}return{changes:n,selection:Wt.create(s,e.mainIndex),effects:l}}changes(t=[]){return t instanceof sl?t:sl.of(t,this.doc.length,this.facet(Zr.lineSeparator))}toText(t){return we.of(t.split(this.facet(Zr.lineSeparator)||VS))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(gd(this,e),fO(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let n=t[i];n instanceof ao&&this.config.address[n.id]!=null&&(e[i]=n.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(t,s)){let l=i[s],o=t[s];n.push(l.init(a=>l.spec.fromJSON(o,a)))}}return Zr.create({doc:t.doc,selection:Wt.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=E3.resolve(t.extensions||[],new Map),i=t.doc instanceof we?t.doc:we.of((t.doc||"").split(e.staticFacet(Zr.lineSeparator)||VS)),n=t.selection?t.selection instanceof Wt?t.selection:Wt.single(t.selection.anchor,t.selection.head):Wt.single(0);return ZD(n,i.length),e.staticFacet(YS)||(n=n.asSingle()),new Zr(e,i,n,e.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(Zr.tabSize)}get lineBreak(){return this.facet(Zr.lineSeparator)||`
`}get readOnly(){return this.facet(KD)}phrase(t,...e){for(let i of this.facet(Zr.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>e.length?i:e[s-1]})),t}languageDataAt(t,e,i=-1){let n=[];for(let s of this.facet(YD))for(let l of s(this,e,i))Object.prototype.hasOwnProperty.call(l,t)&&n.push(l[t]);return n}charCategorizer(t){let e=this.languageDataAt("wordChars",t);return w7(e.length?e[0]:"")}wordAt(t){let{text:e,from:i,length:n}=this.doc.lineAt(t),s=this.charCategorizer(t),l=t-i,o=t-i;for(;l>0;){let a=Ws(e,l,!1);if(s(e.slice(a,l))!=Ul.Word)break;l=a}for(;o<n;){let a=Ws(e,o);if(s(e.slice(o,a))!=Ul.Word)break;o=a}return l==o?null:Wt.range(l+i,o+i)}};Ee.allowMultipleSelections=YS;Ee.tabSize=Zt.define({combine:r=>r.length?r[0]:4});Ee.lineSeparator=HD;Ee.readOnly=KD;Ee.phrases=Zt.define({compare(r,t){let e=Object.keys(r),i=Object.keys(t);return e.length==i.length&&e.every(n=>r[n]==t[n])}});Ee.languageData=YD;Ee.changeFilter=UD;Ee.transactionFilter=GD;Ee.transactionExtender=FD;jD.reconfigure=oi.define();function v7(r,t,e={}){let i={};for(let n of r)for(let s of Object.keys(n)){let l=n[s],o=i[s];if(o===void 0)i[s]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(e,s))i[s]=e[s](o,l);else throw new Error("Config merge conflict for field "+s)}for(let n in t)i[n]===void 0&&(i[n]=t[n]);return i}let ma=class{eq(t){return this==t}range(t,e=t){return GS.create(t,e,this)}};ma.prototype.startSide=ma.prototype.endSide=0;ma.prototype.point=!1;ma.prototype.mapMode=pn.TrackDel;function J2(r,t){return r==t||r.constructor==t.constructor&&r.eq(t)}let GS=class i4{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new i4(t,e,i)}};function FS(r,t){return r.from-t.from||r.value.startSide-t.value.startSide}let k7=class n4{constructor(t,e,i,n){this.from=t,this.to=e,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,n=0){let s=i?this.to:this.from;for(let l=n,o=s.length;;){if(l==o)return l;let a=l+o>>1,f=s[a]-t||(i?this.value[a].endSide:this.value[a].startSide)-e;if(a==l)return f>=0?l:o;f>=0?o=a:l=a+1}}between(t,e,i,n){for(let s=this.findIndex(e,-1e9,!0),l=this.findIndex(i,1e9,!1,s);s<l;s++)if(n(this.from[s]+t,this.to[s]+t,this.value[s])===!1)return!1}map(t,e){let i=[],n=[],s=[],l=-1,o=-1;for(let a=0;a<this.value.length;a++){let f=this.value[a],c=this.from[a]+t,p=this.to[a]+t,m,O;if(c==p){let y=e.mapPos(c,f.startSide,f.mapMode);if(y==null||(m=O=y,f.startSide!=f.endSide&&(O=e.mapPos(c,f.endSide),O<m)))continue}else if(m=e.mapPos(c,f.startSide),O=e.mapPos(p,f.endSide),m>O||m==O&&f.startSide>0&&f.endSide<=0)continue;(O-m||f.endSide-f.startSide)<0||(l<0&&(l=m),f.point&&(o=Math.max(o,O-m)),i.push(f),n.push(m-l),s.push(O-l))}return{mapped:i.length?new n4(n,s,i,o):null,pos:l}}},Fe=class zl{constructor(t,e,i,n){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=n}static create(t,e,i,n){return new zl(t,e,i,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=t,l=t.filter;if(e.length==0&&!l)return this;if(i&&(e=e.slice().sort(FS)),this.isEmpty)return e.length?zl.of(e):this;let o=new s4(this,null,-1).goto(0),a=0,f=[],c=new KS;for(;o.value||a<e.length;)if(a<e.length&&(o.from-e[a].from||o.startSide-e[a].value.startSide)>=0){let p=e[a++];c.addInner(p.from,p.to,p.value)||f.push(p)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(o.chunkIndex)<e[a].from)&&(!l||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||n>o.to||s<o.from||l(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||f.push(GS.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!f.length?zl.empty:this.nextLayer.update({add:f,filter:l,filterFrom:n,filterTo:s}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],n=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],a=this.chunk[l],f=t.touchesRange(o,o+a.length);if(f===!1)n=Math.max(n,a.maxPoint),e.push(a),i.push(t.mapPos(o));else if(f===!0){let{mapped:c,pos:p}=a.map(o,t);c&&(n=Math.max(n,c.maxPoint),e.push(c),i.push(p))}}let s=this.nextLayer.map(t);return e.length==0?s:new zl(i,e,s||zl.empty,n)}between(t,e,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],l=this.chunk[n];if(e>=s&&t<=s+l.length&&l.between(s,t-s,e-s,i)===!1)return}this.nextLayer.between(t,e,i)}}iter(t=0){return JS.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return JS.from(t).goto(e)}static compare(t,e,i,n,s=-1){let l=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),a=D3(l,o,i),f=new cc(l,a,s),c=new cc(o,a,s);i.iterGaps((p,m,O)=>B3(f,p,c,m,O,n)),i.empty&&i.length==0&&B3(f,0,c,0,0,n)}static eq(t,e,i=0,n){n==null&&(n=999999999);let s=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0),l=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let o=D3(s,l),a=new cc(s,o,0).goto(i),f=new cc(l,o,0).goto(i);for(;;){if(a.to!=f.to||!tw(a.active,f.active)||a.point&&(!f.point||!J2(a.point,f.point)))return!1;if(a.to>n)return!0;a.next(),f.next()}}static spans(t,e,i,n,s=-1){let l=new cc(t,null,s).goto(e),o=e,a=l.openStart;for(;;){let f=Math.min(l.to,i);if(l.point){let c=l.activeForPoint(l.to),p=l.pointFrom<e?c.length+1:l.point.startSide<0?c.length:Math.min(c.length,a);n.point(o,f,l.point,c,p,l.pointRank),a=Math.min(l.openEnd(f),c.length)}else f>o&&(n.span(o,f,l.active,a),a=l.openEnd(f));if(l.to>i)return a+(l.point&&l.to>i?1:0);o=l.to,l.next()}}static of(t,e=!1){let i=new KS;for(let n of t instanceof GS?[t]:e?$7(t):t)i.add(n.from,n.to,n.value);return i.finish()}static join(t){if(!t.length)return zl.empty;let e=t[t.length-1];for(let i=t.length-2;i>=0;i--)for(let n=t[i];n!=zl.empty;n=n.nextLayer)e=new zl(n.chunkPos,n.chunk,e,Math.max(n.maxPoint,e.maxPoint));return e}};Fe.empty=new Fe([],[],null,-1);function $7(r){if(r.length>1)for(let t=r[0],e=1;e<r.length;e++){let i=r[e];if(FS(t,i)>0)return r.slice().sort(FS);t=i}return r}Fe.empty.nextLayer=Fe.empty;let KS=class r4{finishChunk(t){this.chunks.push(new k7(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new r4)).add(t,e,i)}addInner(t,e,i){let n=t-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(Fe.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=Fe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}};function D3(r,t,e){let i=new Map;for(let s of r)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&i.set(s.chunk[l],s.chunkPos[l]);let n=new Set;for(let s of t)for(let l=0;l<s.chunk.length;l++){let o=i.get(s.chunk[l]);o!=null&&(e?e.mapPos(o):o)==s.chunkPos[l]&&!e?.touchesRange(o,o+s.chunk[l].length)&&n.add(s.chunk[l])}return n}let s4=class{constructor(t,e,i,n=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<t||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}},JS=class l4{constructor(t){this.heap=t}static from(t,e=null,i=-1){let n=[];for(let s=0;s<t.length;s++)for(let l=t[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=i&&n.push(new s4(l,e,i,s));return n.length==1?n[0]:new l4(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)sx(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)sx(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),sx(this.heap,0)}}};function sx(r,t){for(let e=r[t];;){let i=(t<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),e.compare(n)<0)break;r[i]=e,r[t]=n,t=i}}let cc=class{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=JS.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Jg(this.active,t),Jg(this.activeTo,t),Jg(this.activeRank,t),this.minActive=_3(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:n,rank:s}=this.cursor;for(;e<this.activeRank.length&&(s-this.activeRank[e]||n-this.activeTo[e])>0;)e++;tm(this.active,e,i),tm(this.activeTo,e,n),tm(this.activeRank,e,s),t&&tm(t,e,this.cursor.from),this.minActive=_3(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>t){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&Jg(i,n)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<t;n--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}};function B3(r,t,e,i,n,s){r.goto(t),e.goto(i);let l=i+n,o=i,a=i-t,f=!!s.boundChange;for(let c=!1;;){let p=r.to+a-e.to,m=p||r.endSide-e.endSide,O=m<0?r.to+a:e.to,y=Math.min(O,l);if(r.point||e.point?(r.point&&e.point&&J2(r.point,e.point)&&tw(r.activeForPoint(r.to),e.activeForPoint(e.to))||s.comparePoint(o,y,r.point,e.point),c=!1):(c&&s.boundChange(o),y>o&&!tw(r.active,e.active)&&s.compareRange(o,y,r.active,e.active),f&&y<l&&(p||r.openEnd(O)!=e.openEnd(O))&&(c=!0)),O>l)break;o=O,m<=0&&r.next(),m>=0&&e.next()}}function tw(r,t){if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!=t[e]&&!J2(r[e],t[e]))return!1;return!0}function Jg(r,t){for(let e=t,i=r.length-1;e<i;e++)r[e]=r[e+1];r.pop()}function tm(r,t,e){for(let i=r.length-1;i>=t;i--)r[i+1]=r[i];r[t]=e}function _3(r,t){let e=-1,i=1e9;for(let n=0;n<t.length;n++)(t[n]-i||r[n].endSide-r[e].endSide)<0&&(e=n,i=t[n]);return e}function A7(r,t,e,i){for(let n=0,s=0;;){if(s>=t)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?e-s%e:1,n=Ws(r,n)}return r.length}const ew="",z3=typeof Symbol>"u"?"__"+ew:Symbol.for(ew),iw=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),N3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ce{constructor(t,e){this.rules=[];let{finish:i}=e||{};function n(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,o,a,f){let c=[],p=/^@(\w+)\b/.exec(l[0]),m=p&&p[1]=="keyframes";if(p&&o==null)return a.push(l[0]+";");for(let O in o){let y=o[O];if(/&/.test(O))s(O.split(/,\s*/).map(S=>l.map(w=>S.replace(/&/,w))).reduce((S,w)=>S.concat(w)),y,a);else if(y&&typeof y=="object"){if(!p)throw new RangeError("The value of a property ("+O+") should be a primitive value.");s(n(O),y,c,m)}else y!=null&&c.push(O.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+y+";")}(c.length||m)&&a.push((i&&!p&&!f?l.map(i):l).join(", ")+" {"+c.join(" ")+"}")}for(let l in t)s(n(l),t[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=N3[z3]||1;return N3[z3]=t+1,ew+t.toString(36)}static mount(t,e,i){let n=t[iw],s=i&&i.nonce;n?s&&n.setNonce(s):n=new C7(t,s),n.mount(Array.isArray(e)?e:[e],t)}}let L3=new Map;class C7{constructor(t,e){let i=t.ownerDocument||t,n=i.defaultView;if(!t.head&&t.adoptedStyleSheets&&n.CSSStyleSheet){let s=L3.get(i);if(s)return t[iw]=s;this.sheet=new n.CSSStyleSheet,L3.set(i,this)}else this.styleTag=i.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[iw]=this}mount(t,e){let i=this.sheet,n=0,s=0;for(let l=0;l<t.length;l++){let o=t[l],a=this.modules.indexOf(o);if(a<s&&a>-1&&(this.modules.splice(a,1),s--,a=-1),a==-1){if(this.modules.splice(s++,0,o),i)for(let f=0;f<o.rules.length;f++)i.insertRule(o.rules[f],n++)}else{for(;s<a;)n+=this.modules[s++].rules.length;n+=o.rules.length,s++}}if(i)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let l="";for(let a=0;a<this.modules.length;a++)l+=this.modules[a].getRules()+`
`;this.styleTag.textContent=l;let o=e.head||e;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var no={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Nd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},T7=typeof navigator<"u"&&/Mac/.test(navigator.platform),Q7=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ui=0;Ui<10;Ui++)no[48+Ui]=no[96+Ui]=String(Ui);for(var Ui=1;Ui<=24;Ui++)no[Ui+111]="F"+Ui;for(var Ui=65;Ui<=90;Ui++)no[Ui]=String.fromCharCode(Ui+32),Nd[Ui]=String.fromCharCode(Ui);for(var lx in no)Nd.hasOwnProperty(lx)||(Nd[lx]=no[lx]);function o4(r){var t=T7&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||Q7&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",e=!t&&r.key||(r.shiftKey?Nd:no)[r.keyCode]||r.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}let un=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},nw=typeof document<"u"?document:{documentElement:{style:{}}};const rw=/Edge\/(\d+)/.exec(un.userAgent),a4=/MSIE \d/.test(un.userAgent),sw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(un.userAgent),h1=!!(a4||sw||rw),Z3=!h1&&/gecko\/(\d+)/i.test(un.userAgent),ox=!h1&&/Chrome\/(\d+)/.exec(un.userAgent),P7="webkitFontSmoothing"in nw.documentElement.style,lw=!h1&&/Apple Computer/.test(un.vendor),V3=lw&&(/Mobile\/\w+/.test(un.userAgent)||un.maxTouchPoints>2);var Et={mac:V3||/Mac/.test(un.platform),windows:/Win/.test(un.platform),linux:/Linux|X11/.test(un.platform),ie:h1,ie_version:a4?nw.documentMode||6:sw?+sw[1]:rw?+rw[1]:0,gecko:Z3,gecko_version:Z3?+(/Firefox\/(\d+)/.exec(un.userAgent)||[0,0])[1]:0,chrome:!!ox,chrome_version:ox?+ox[1]:0,ios:V3,android:/Android\b/.test(un.userAgent),webkit_version:P7?+(/\bAppleWebKit\/(\d+)/.exec(un.userAgent)||[0,0])[1]:0,safari:lw,safari_version:lw?+(/\bVersion\/(\d+(\.\d+)?)/.exec(un.userAgent)||[0,0])[1]:0,tabSize:nw.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function t$(r,t){for(let e in r)e=="class"&&t.class?t.class+=" "+r.class:e=="style"&&t.style?t.style+=";"+r.style:t[e]=r[e];return t}const cO=Object.create(null);function e$(r,t,e){if(r==t)return!0;r||(r=cO),t||(t=cO);let i=Object.keys(r),n=Object.keys(t);if(i.length-0!=n.length-0)return!1;for(let s of i)if(s!=e&&(n.indexOf(s)==-1||r[s]!==t[s]))return!1;return!0}function M7(r,t){for(let e=r.attributes.length-1;e>=0;e--){let i=r.attributes[e].name;t[i]==null&&r.removeAttribute(i)}for(let e in t){let i=t[e];e=="style"?r.style.cssText=i:r.getAttribute(e)!=i&&r.setAttribute(e,i)}}function X3(r,t,e){let i=!1;if(t)for(let n in t)e&&n in e||(i=!0,n=="style"?r.style.cssText="":r.removeAttribute(n));if(e)for(let n in e)t&&t[n]==e[n]||(i=!0,n=="style"?r.style.cssText=e[n]:r.setAttribute(n,e[n]));return i}function R7(r){let t=Object.create(null);for(let e=0;e<r.attributes.length;e++){let i=r.attributes[e];t[i.name]=i.value}return t}let kp=class{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}};var Ln=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(Ln||(Ln={}));let Oe=class extends ma{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(t){return new i$(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),i=!!t.block;return e+=i&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new Ld(t,e,e,i,t.widget||null,!1)}static replace(t){let e=!!t.block,i,n;if(t.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:l}=c4(t,e);i=(s?e?-3e8:-1:5e8)-1,n=(l?e?2e8:1:-6e8)+1}return new Ld(t,i,n,e,t.widget||null,!0)}static line(t){return new n$(t)}static set(t,e=!1){return Fe.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};Oe.none=Fe.empty;let i$=class h4 extends Oe{constructor(t){let{start:e,end:i}=c4(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.attrs=t.class&&t.attributes?t$(t.attributes,{class:t.class}):t.class?{class:t.class}:t.attributes||cO}eq(t){return this==t||t instanceof h4&&this.tagName==t.tagName&&e$(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}};i$.prototype.point=!1;let n$=class u4 extends Oe{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof u4&&this.spec.class==t.spec.class&&e$(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}};n$.prototype.mapMode=pn.TrackBefore;n$.prototype.point=!0;let Ld=class f4 extends Oe{constructor(t,e,i,n,s,l){super(e,i,s,t),this.block=n,this.isReplace=l,this.mapMode=n?e<=0?pn.TrackBefore:pn.TrackAfter:pn.TrackDel}get type(){return this.startSide!=this.endSide?Ln.WidgetRange:this.startSide<=0?Ln.WidgetBefore:Ln.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof f4&&E7(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}};Ld.prototype.point=!0;function c4(r,t=!1){let{inclusiveStart:e,inclusiveEnd:i}=r;return e==null&&(e=r.inclusive),i==null&&(i=r.inclusive),{start:e??t,end:i??t}}function E7(r,t){return r==t||!!(r&&t&&r.compare(t))}function bu(r,t,e,i=0){let n=e.length-1;n>=0&&e[n]+i>=r?e[n]=Math.max(e[n],t):e.push(r,t)}class Zd extends ma{constructor(t,e){super(),this.tagName=t,this.attributes=e}eq(t){return t==this||t instanceof Zd&&this.tagName==t.tagName&&e$(this.attributes,t.attributes)}static create(t){return new Zd(t.tagName,t.attributes||cO)}static set(t,e=!1){return Fe.of(t,e)}}Zd.prototype.startSide=Zd.prototype.endSide=-1;function Vd(r){let t;return r.nodeType==11?t=r.getSelection?r:r.ownerDocument:t=r,t.getSelection()}function ow(r,t){return t?r==t||r.contains(t.nodeType!=1?t.parentNode:t):!1}function md(r,t){if(!t.anchorNode)return!1;try{return ow(r,t.anchorNode)}catch{return!1}}function p0(r){return r.nodeType==3?Xd(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Od(r,t,e,i){return e?I3(r,t,e,i,-1)||I3(r,t,e,i,1):!1}function Oa(r){for(var t=0;;t++)if(r=r.previousSibling,!r)return t}function dO(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function I3(r,t,e,i,n){for(;;){if(r==e&&t==i)return!0;if(t==(n<0?0:ro(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;t=Oa(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[t+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;t=n<0?ro(r):0}else return!1}}function ro(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function pO(r,t){let e=t?r.left:r.right;return{left:e,right:e,top:r.top,bottom:r.bottom}}function D7(r){let t=r.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function d4(r,t){let e=t.width/r.offsetWidth,i=t.height/r.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-r.offsetWidth)<1)&&(e=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(t.height-r.offsetHeight)<1)&&(i=1),{scaleX:e,scaleY:i}}function B7(r,t,e,i,n,s,l,o){let a=r.ownerDocument,f=a.defaultView||window;for(let c=r,p=!1;c&&!p;)if(c.nodeType==1){let m,O=c==a.body,y=1,S=1;if(O)m=D7(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(p=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let T=c.getBoundingClientRect();({scaleX:y,scaleY:S}=d4(c,T)),m={left:T.left,right:T.left+c.clientWidth*y,top:T.top,bottom:T.top+c.clientHeight*S}}let w=0,v=0;if(n=="nearest")t.top<m.top?(v=t.top-(m.top+l),e>0&&t.bottom>m.bottom+v&&(v=t.bottom-m.bottom+l)):t.bottom>m.bottom&&(v=t.bottom-m.bottom+l,e<0&&t.top-v<m.top&&(v=t.top-(m.top+l)));else{let T=t.bottom-t.top,M=m.bottom-m.top;v=(n=="center"&&T<=M?t.top+T/2-M/2:n=="start"||n=="center"&&e<0?t.top-l:t.bottom-M+l)-m.top}if(i=="nearest"?t.left<m.left?(w=t.left-(m.left+s),e>0&&t.right>m.right+w&&(w=t.right-m.right+s)):t.right>m.right&&(w=t.right-m.right+s,e<0&&t.left<m.left+w&&(w=t.left-(m.left+s))):w=(i=="center"?t.left+(t.right-t.left)/2-(m.right-m.left)/2:i=="start"==o?t.left-s:t.right-(m.right-m.left)+s)-m.left,w||v)if(O)f.scrollBy(w,v);else{let T=0,M=0;if(v){let N=c.scrollTop;c.scrollTop+=v/S,M=(c.scrollTop-N)*S}if(w){let N=c.scrollLeft;c.scrollLeft+=w/y,T=(c.scrollLeft-N)*y}t={left:t.left-T,top:t.top-M,right:t.right-T,bottom:t.bottom-M},T&&Math.abs(T-w)<1&&(i="nearest"),M&&Math.abs(M-v)<1&&(n="nearest")}if(O)break;(t.top<m.top||t.bottom>m.bottom||t.left<m.left||t.right>m.right)&&(t={left:Math.max(t.left,m.left),right:Math.min(t.right,m.right),top:Math.max(t.top,m.top),bottom:Math.min(t.bottom,m.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function _7(r){let t=r.ownerDocument,e,i;for(let n=r.parentNode;n&&!(n==t.body||e&&i);)if(n.nodeType==1)!i&&n.scrollHeight>n.clientHeight&&(i=n),!e&&n.scrollWidth>n.clientWidth&&(e=n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;return{x:e,y:i}}let z7=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:i}=t;this.set(e,Math.min(t.anchorOffset,e?ro(e):0),i,Math.min(t.focusOffset,i?ro(i):0))}set(t,e,i,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=n}},Ja=null;Et.safari&&Et.safari_version>=26&&(Ja=!1);function p4(r){if(r.setActive)return r.setActive();if(Ja)return r.focus(Ja);let t=[];for(let e=r;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(r.focus(Ja==null?{get preventScroll(){return Ja={preventScroll:!0},!0}}:void 0),!Ja){Ja=!1;for(let e=0;e<t.length;){let i=t[e++],n=t[e++],s=t[e++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let j3;function Xd(r,t,e=t){let i=j3||(j3=document.createRange());return i.setEnd(r,e),i.setStart(r,t),i}function xu(r,t,e,i){let n={key:t,code:t,keyCode:e,which:e,cancelable:!0};i&&({altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey}=i);let s=new KeyboardEvent("keydown",n);s.synthetic=!0,r.dispatchEvent(s);let l=new KeyboardEvent("keyup",n);return l.synthetic=!0,r.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function N7(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function L7(r,t){let e=t.focusNode,i=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=i)return!1;for(i=Math.min(i,ro(e));;)if(i){if(e.nodeType!=1)return!1;let n=e.childNodes[i-1];n.contentEditable=="false"?i--:(e=n,i=ro(e))}else{if(e==r)return!0;i=Oa(e),e=e.parentNode}}function g4(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function m4(r,t){for(let e=r,i=t;;){if(e.nodeType==3&&i>0)return{node:e,offset:i};if(e.nodeType==1&&i>0){if(e.contentEditable=="false")return null;e=e.childNodes[i-1],i=ro(e)}else if(e.parentNode&&!dO(e))i=Oa(e),e=e.parentNode;else return null}}function O4(r,t){for(let e=r,i=t;;){if(e.nodeType==3&&i<e.nodeValue.length)return{node:e,offset:i};if(e.nodeType==1&&i<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[i],i=0}else if(e.parentNode&&!dO(e))i=Oa(e)+1,e=e.parentNode;else return null}}let la=class aw{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new aw(t.parentNode,Oa(t),e)}static after(t,e){return new aw(t.parentNode,Oa(t)+1,e)}};var Ze=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(Ze||(Ze={}));const uh=Ze.LTR,r$=Ze.RTL;function y4(r){let t=[];for(let e=0;e<r.length;e++)t.push(1<<+r[e]);return t}const Z7=y4("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),V7=y4("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),hw=Object.create(null),us=[];for(let r of["()","[]","{}"]){let t=r.charCodeAt(0),e=r.charCodeAt(1);hw[t]=e,hw[e]=-t}function b4(r){return r<=247?Z7[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?V7[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const X7=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;let Ys=class{get dir(){return this.level%2?r$:uh}constructor(t,e,i){this.from=t,this.to=e,this.level=i}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,i,n){let s=-1;for(let l=0;l<t.length;l++){let o=t[l];if(o.from<=e&&o.to>=e){if(o.level==i)return l;(s<0||(n!=0?n<0?o.from<e:o.to>e:t[s].level>o.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}};function x4(r,t){if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++){let i=r[e],n=t[e];if(i.from!=n.from||i.to!=n.to||i.direction!=n.direction||!x4(i.inner,n.inner))return!1}return!0}const Pe=[];function I7(r,t,e,i,n){for(let s=0;s<=i.length;s++){let l=s?i[s-1].to:t,o=s<i.length?i[s].from:e,a=s?256:n;for(let f=l,c=a,p=a;f<o;f++){let m=b4(r.charCodeAt(f));m==512?m=c:m==8&&p==4&&(m=16),Pe[f]=m==4?2:m,m&7&&(p=m),c=m}for(let f=l,c=a,p=a;f<o;f++){let m=Pe[f];if(m==128)f<o-1&&c==Pe[f+1]&&c&24?m=Pe[f]=c:Pe[f]=256;else if(m==64){let O=f+1;for(;O<o&&Pe[O]==64;)O++;let y=f&&c==8||O<e&&Pe[O]==8?p==1?1:8:256;for(let S=f;S<O;S++)Pe[S]=y;f=O-1}else m==8&&p==1&&(Pe[f]=1);c=m,m&7&&(p=m)}}}function j7(r,t,e,i,n){let s=n==1?2:1;for(let l=0,o=0,a=0;l<=i.length;l++){let f=l?i[l-1].to:t,c=l<i.length?i[l].from:e;for(let p=f,m,O,y;p<c;p++)if(O=hw[m=r.charCodeAt(p)])if(O<0){for(let S=o-3;S>=0;S-=3)if(us[S+1]==-O){let w=us[S+2],v=w&2?n:w&4?w&1?s:n:0;v&&(Pe[p]=Pe[us[S]]=v),o=S;break}}else{if(us.length==189)break;us[o++]=p,us[o++]=m,us[o++]=a}else if((y=Pe[p])==2||y==1){let S=y==n;a=S?0:1;for(let w=o-3;w>=0;w-=3){let v=us[w+2];if(v&2)break;if(S)us[w+2]|=2;else{if(v&4)break;us[w+2]|=4}}}}}function q7(r,t,e,i){for(let n=0,s=i;n<=e.length;n++){let l=n?e[n-1].to:r,o=n<e.length?e[n].from:t;for(let a=l;a<o;){let f=Pe[a];if(f==256){let c=a+1;for(;;)if(c==o){if(n==e.length)break;c=e[n++].to,o=n<e.length?e[n].from:t}else if(Pe[c]==256)c++;else break;let p=s==1,m=(c<t?Pe[c]:i)==1,O=p==m?p?1:2:i;for(let y=c,S=n,w=S?e[S-1].to:r;y>a;)y==w&&(y=e[--S].from,w=S?e[S-1].to:r),Pe[--y]=O;a=c}else s=f,a++}}}function uw(r,t,e,i,n,s,l){let o=i%2?2:1;if(i%2==n%2)for(let a=t,f=0;a<e;){let c=!0,p=!1;if(f==s.length||a<s[f].from){let S=Pe[a];S!=o&&(c=!1,p=S==16)}let m=!c&&o==1?[]:null,O=c?i:i+1,y=a;t:for(;;)if(f<s.length&&y==s[f].from){if(p)break t;let S=s[f];if(!c)for(let w=S.to,v=f+1;;){if(w==e)break t;if(v<s.length&&s[v].from==w)w=s[v++].to;else{if(Pe[w]==o)break t;break}}if(f++,m)m.push(S);else{S.from>a&&l.push(new Ys(a,S.from,O));let w=S.direction==uh!=!(O%2);fw(r,w?i+1:i,n,S.inner,S.from,S.to,l),a=S.to}y=S.to}else{if(y==e||(c?Pe[y]!=o:Pe[y]==o))break;y++}m?uw(r,a,y,i+1,n,m,l):a<y&&l.push(new Ys(a,y,O)),a=y}else for(let a=e,f=s.length;a>t;){let c=!0,p=!1;if(!f||a>s[f-1].to){let S=Pe[a-1];S!=o&&(c=!1,p=S==16)}let m=!c&&o==1?[]:null,O=c?i:i+1,y=a;t:for(;;)if(f&&y==s[f-1].to){if(p)break t;let S=s[--f];if(!c)for(let w=S.from,v=f;;){if(w==t)break t;if(v&&s[v-1].to==w)w=s[--v].from;else{if(Pe[w-1]==o)break t;break}}if(m)m.push(S);else{S.to<a&&l.push(new Ys(S.to,a,O));let w=S.direction==uh!=!(O%2);fw(r,w?i+1:i,n,S.inner,S.from,S.to,l),a=S.from}y=S.from}else{if(y==t||(c?Pe[y-1]!=o:Pe[y-1]==o))break;y--}m?uw(r,y,a,i+1,n,m,l):y<a&&l.push(new Ys(y,a,O)),a=y}}function fw(r,t,e,i,n,s,l){let o=t%2?2:1;I7(r,n,s,i,o),j7(r,n,s,i,o),q7(n,s,i,o),uw(r,n,s,t,e,i,l)}function W7(r,t,e){if(!r)return[new Ys(0,0,t==r$?1:0)];if(t==uh&&!e.length&&!X7.test(r))return S4(r.length);if(e.length)for(;r.length>Pe.length;)Pe[Pe.length]=256;let i=[],n=t==uh?0:1;return fw(r,n,n,e,0,r.length,i),i}function S4(r){return[new Ys(0,r,0)]}let w4="";function Y7(r,t,e,i,n){var s;let l=i.head-r.from,o=Ys.find(t,l,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),a=t[o],f=a.side(n,e);if(l==f){let m=o+=n?1:-1;if(m<0||m>=t.length)return null;a=t[o=m],l=a.side(!n,e),f=a.side(n,e)}let c=Ws(r.text,l,a.forward(n,e));(c<a.from||c>a.to)&&(c=f),w4=r.text.slice(Math.min(l,c),Math.max(l,c));let p=o==(n?t.length-1:0)?null:t[o+(n?1:-1)];return p&&c==f&&p.level+(n?0:1)<a.level?Wt.cursor(p.side(!n,e)+r.from,p.forward(n,e)?1:-1,p.level):Wt.cursor(c+r.from,a.forward(n,e)?-1:1,a.level)}function H7(r,t,e){for(let i=t;i<e;i++){let n=b4(r.charCodeAt(i));if(n==1)return uh;if(n==2||n==4)return r$}return uh}const v4=Zt.define(),k4=Zt.define(),$4=Zt.define(),A4=Zt.define(),cw=Zt.define(),C4=Zt.define(),T4=Zt.define(),s$=Zt.define(),l$=Zt.define(),Q4=Zt.define({combine:r=>r.some(t=>t)}),U7=Zt.define({combine:r=>r.some(t=>t)}),P4=Zt.define();let ax=class dw{constructor(t,e="nearest",i="nearest",n=5,s=5,l=!1){this.range=t,this.y=e,this.x=i,this.yMargin=n,this.xMargin=s,this.isSnapshot=l}map(t){return t.empty?this:new dw(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new dw(Wt.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}};const em=oi.define({map:(r,t)=>r.map(t)}),M4=oi.define();function hr(r,t,e){let i=r.facet(A4);i.length?i[0](t):window.onerror&&window.onerror(String(t),e,void 0,void 0,t)||(e?console.error(e+":",t):console.error(t))}const Yl=Zt.define({combine:r=>r.length?r[0]:!0});let G7=0;const pu=Zt.define({combine(r){return r.filter((t,e)=>{for(let i=0;i<e;i++)if(r[i].plugin==t.plugin)return!1;return!0})}});let so=class pw{constructor(t,e,i,n,s){this.id=t,this.create=e,this.domEventHandlers=i,this.domEventObservers=n,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(pu.of({plugin:this,arg:void 0}))}of(t){return this.baseExtensions.concat(pu.of({plugin:this,arg:t}))}static define(t,e){const{eventHandlers:i,eventObservers:n,provide:s,decorations:l}=e||{};return new pw(G7++,t,i,n,o=>{let a=[];return l&&a.push(u1.of(f=>{let c=f.plugin(o);return c?l(c):Oe.none})),s&&a.push(s(o)),a})}static fromClass(t,e){return pw.define((i,n)=>new t(i,n),e)}},hx=class{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(i){if(hr(e.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(t,this.spec.arg)}catch(e){hr(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(i){hr(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const R4=Zt.define(),o$=Zt.define(),u1=Zt.define(),E4=Zt.define(),a$=Zt.define(),$p=Zt.define(),D4=Zt.define();function q3(r,t){let e=r.state.facet(D4);if(!e.length)return e;let i=e.map(s=>s instanceof Function?s(r):s),n=[];return Fe.spans(i,t.from,t.to,{point(){},span(s,l,o,a){let f=s-t.from,c=l-t.from,p=n;for(let m=o.length-1;m>=0;m--,a--){let O=o[m].spec.bidiIsolate,y;if(O==null&&(O=H7(t.text,f,c)),a>0&&p.length&&(y=p[p.length-1]).to==f&&y.direction==O)y.to=c,p=y.inner;else{let S={from:f,to:c,direction:O,inner:[]};p.push(S),p=S.inner}}}}),n}const B4=Zt.define();function _4(r){let t=0,e=0,i=0,n=0;for(let s of r.state.facet(B4)){let l=s(r);l&&(l.left!=null&&(t=Math.max(t,l.left)),l.right!=null&&(e=Math.max(e,l.right)),l.top!=null&&(i=Math.max(i,l.top)),l.bottom!=null&&(n=Math.max(n,l.bottom)))}return{left:t,right:e,top:i,bottom:n}}const Nc=Zt.define();let Gl=class gw{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new gw(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(e.length==0)return t;let i=[];for(let n=0,s=0,l=0;;){let o=n<t.length?t[n].fromB:1e9,a=s<e.length?e[s]:1e9,f=Math.min(o,a);if(f==1e9)break;let c=f+l,p=f,m=c;for(;;)if(s<e.length&&e[s]<=p){let O=e[s+1];s+=2,p=Math.max(p,O);for(let y=n;y<t.length&&t[y].fromB<=p;y++)l=t[y].toA-t[y].toB;m=Math.max(m,O+l)}else if(n<t.length&&t[n].fromB<=p){let O=t[n++];p=Math.max(p,O.toB),m=Math.max(m,O.toA),l=O.toA-O.toB}else break;i.push(new gw(c,m,f,p))}return i}},W3=class z4{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=sl.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,l,o,a)=>n.push(new Gl(s,l,o,a))),this.changedRanges=n}static create(t,e,i){return new z4(t,e,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};const F7=[];class Ti{constructor(t,e,i=0){this.dom=t,this.length=e,this.flags=i,this.parent=null,t.cmTile=this}get breakAfter(){return this.flags&1}get children(){return F7}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(t){if(this.flags|=2,this.flags&4){this.flags&=-5;let e=this.domAttrs;e&&M7(this.dom,e)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(t){this.dom=t,t.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t,e=this.posAtStart){let i=e;for(let n of this.children){if(n==t)return i;i+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}covers(t){return!0}coordsIn(t,e){return null}domPosFor(t,e){let i=Oa(this.dom),n=this.length?t>0:e>0;return new la(this.parent.dom,i+(n?1:0),t==0||t==this.length)}markDirty(t){this.flags&=-3,t&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let t=this;t;t=t.parent)if(t instanceof c1)return t;return null}static get(t){return t.cmTile}}class f1 extends Ti{constructor(t){super(t,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(t){this.children.push(t),t.parent=this}sync(t){if(this.flags&2)return;super.sync(t);let e=this.dom,i=null,n,s=t?.node==e?t:null,l=0;for(let o of this.children){if(o.sync(t),l+=o.length+o.breakAfter,n=i?i.nextSibling:e.firstChild,s&&n!=o.dom&&(s.written=!0),o.dom.parentNode==e)for(;n&&n!=o.dom;)n=Y3(n);else e.insertBefore(o.dom,n);i=o.dom}for(n=i?i.nextSibling:e.firstChild,s&&n&&(s.written=!0);n;)n=Y3(n);this.length=l}}function Y3(r){let t=r.nextSibling;return r.parentNode.removeChild(r),t}class c1 extends f1{constructor(t,e){super(e),this.view=t}owns(t){for(;t;t=t.parent)if(t==this)return!0;return!1}isBlock(){return!0}nearest(t){for(;;){if(!t)return null;let e=Ti.get(t);if(e&&this.owns(e))return e;t=t.parentNode}}blockTiles(t){for(let e=[],i=this,n=0,s=0;;)if(n==i.children.length){if(!e.length)return;i=i.parent,i.breakAfter&&s++,n=e.pop()}else{let l=i.children[n++];if(l instanceof to)e.push(n),i=l,n=0;else{let o=s+l.length,a=t(l,s);if(a!==void 0)return a;s=o+l.breakAfter}}}resolveBlock(t,e){let i,n=-1,s,l=-1;if(this.blockTiles((o,a)=>{let f=a+o.length;if(t>=a&&t<=f){if(o.isWidget()&&e>=-1&&e<=1){if(o.flags&32)return!0;o.flags&16&&(i=void 0)}(a<t||t==f&&(e<-1?o.length:o.covers(1)))&&(!i||!o.isWidget()&&i.isWidget())&&(i=o,n=t-a),(f>t||t==a&&(e>1?o.length:o.covers(-1)))&&(!s||!o.isWidget()&&s.isWidget())&&(s=o,l=t-a)}}),!i&&!s)throw new Error("No tile at position "+t);return i&&e<0||!s?{tile:i,offset:n}:{tile:s,offset:l}}}class to extends f1{constructor(t,e){super(t),this.wrapper=e}isBlock(){return!0}covers(t){return this.children.length?t<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(t,e){let i=new to(e||document.createElement(t.tagName),t);return e||(i.flags|=4),i}}class Lu extends f1{constructor(t,e){super(t),this.attrs=e}isLine(){return!0}static start(t,e,i){let n=new Lu(e||document.createElement("div"),t);return(!e||!i)&&(n.flags|=4),n}get domAttrs(){return this.attrs}resolveInline(t,e,i){let n=null,s=-1,l=null,o=-1;function a(c,p){for(let m=0,O=0;m<c.children.length&&O<=p;m++){let y=c.children[m],S=O+y.length;S>=p&&(y.isComposite()?a(y,p-O):(!l||l.isHidden&&(e>0||i&&J7(l,y)))&&(S>p||y.flags&32)?(l=y,o=p-O):(O<p||y.flags&16&&!y.isHidden)&&(n=y,s=p-O)),O=S}}a(this,t);let f=(e<0?n:l)||n||l;return f?{tile:f,offset:f==n?s:o}:null}coordsIn(t,e){let i=this.resolveInline(t,e,!0);return i?i.tile.coordsIn(Math.max(0,i.offset),e):K7(this)}domIn(t,e){let i=this.resolveInline(t,e);if(i){let{tile:n,offset:s}=i;if(this.dom.contains(n.dom))return n.isText()?new la(n.dom,Math.min(n.dom.nodeValue.length,s)):n.domPosFor(s,n.flags&16?1:n.flags&32?-1:e);let l=i.tile.parent,o=!1;for(let a of l.children){if(o)return new la(a.dom,0);a==i.tile&&(o=!0)}}return new la(this.dom,0)}}function K7(r){let t=r.dom.lastChild;if(!t)return r.dom.getBoundingClientRect();let e=p0(t);return e[e.length-1]||null}function J7(r,t){let e=r.coordsIn(0,1),i=t.coordsIn(0,1);return e&&i&&i.top<e.bottom}class Mn extends f1{constructor(t,e){super(t),this.mark=e}get domAttrs(){return this.mark.attrs}static of(t,e){let i=new Mn(e||document.createElement(t.tagName),t);return e||(i.flags|=4),i}}class eh extends Ti{constructor(t,e){super(t,e.length),this.text=e}sync(t){this.flags&2||(super.sync(t),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(t,e){let i=this.dom.nodeValue.length;t>i&&(t=i);let n=t,s=t,l=0;t==0&&e<0||t==i&&e>=0?Et.chrome||Et.gecko||(t?(n--,l=1):s<i&&(s++,l=-1)):e<0?n--:s<i&&s++;let o=Xd(this.dom,n,s).getClientRects();if(!o.length)return null;let a=o[(l?l<0:e>=0)?0:o.length-1];return Et.safari&&!l&&a.width==0&&(a=Array.prototype.find.call(o,f=>f.width)||a),l?pO(a,l<0):a||null}static of(t,e){let i=new eh(e||document.createTextNode(t),t);return e||(i.flags|=2),i}}class fh extends Ti{constructor(t,e,i,n){super(t,e,n),this.widget=i}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(t){return this.flags&48?!1:(this.flags&(t<0?64:128))>0}coordsIn(t,e){return this.coordsInWidget(t,e,!1)}coordsInWidget(t,e,i){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;if(i)return pO(this.dom.getBoundingClientRect(),this.length?t==0:e<=0);{let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let o=this.flags&16?!0:this.flags&32?!1:t>0;for(let a=o?s.length-1:0;l=s[a],!(t>0?a==0:a==s.length-1||l.top<l.bottom);a+=o?-1:1);return pO(l,!o)}}get overrideDOMText(){if(!this.length)return we.empty;let{root:t}=this;if(!t)return we.empty;let e=this.posAtStart;return t.view.state.doc.slice(e,e+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(t,e,i,n,s){return s||(s=t.toDOM(e),t.editable||(s.contentEditable="false")),new fh(s,i,t,n)}}class gO extends Ti{constructor(t){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),super(e,0,t)}get isHidden(){return!0}get overrideDOMText(){return we.empty}coordsIn(t){return this.dom.getBoundingClientRect()}}class t9{constructor(t){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=t}advance(t,e,i){let{tile:n,index:s,beforeBreak:l,parents:o}=this;for(;t||e>0;)if(n.isComposite())if(l){if(!t)break;i&&i.break(),t--,l=!1}else if(s==n.children.length){if(!t&&!o.length)break;i&&i.leave(n),l=!!n.breakAfter,{tile:n,index:s}=o.pop(),s++}else{let a=n.children[s],f=a.breakAfter;(e>0?a.length<=t:a.length<t)&&(!i||i.skip(a,0,a.length)!==!1||!a.isComposite)?(l=!!f,s++,t-=a.length):(o.push({tile:n,index:s}),n=a,s=0,i&&a.isComposite()&&i.enter(a))}else if(s==n.length)l=!!n.breakAfter,{tile:n,index:s}=o.pop(),s++;else if(t){let a=Math.min(t,n.length-s);i&&i.skip(n,s,s+a),t-=a,s+=a}else break;return this.tile=n,this.index=s,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class e9{constructor(t,e,i,n){this.from=t,this.to=e,this.wrapper=i,this.rank=n}}class i9{constructor(t,e,i){this.cache=t,this.root=e,this.blockWrappers=i,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(t,e,i,n){var s;this.flushBuffer();let l=this.ensureMarks(e,i),o=l.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+t.length<512){this.cache.reused.set(o,2);let a=l.children[l.children.length-1]=new eh(o.dom,o.text+t);a.parent=l}else l.append(n||eh.of(t,(s=this.cache.find(eh))===null||s===void 0?void 0:s.dom));this.pos+=t.length,this.afterWidget=null}addComposition(t,e){let i=this.curLine;i.dom!=e.line.dom&&(i.setDOM(this.cache.reused.has(e.line)?ux(e.line.dom):e.line.dom),this.cache.reused.set(e.line,2));let n=i;for(let o=e.marks.length-1;o>=0;o--){let a=e.marks[o],f=n.lastChild;if(f instanceof Mn&&f.mark.eq(a.mark))f.dom!=a.dom&&f.setDOM(ux(a.dom)),n=f;else{if(this.cache.reused.get(a)){let p=Ti.get(a.dom);p&&p.setDOM(ux(a.dom))}let c=Mn.of(a.mark,a.dom);n.append(c),n=c}this.cache.reused.set(a,2)}let s=Ti.get(t.text);s&&this.cache.reused.set(s,2);let l=new eh(t.text,t.text.nodeValue);l.flags|=8,n.append(l)}addInlineWidget(t,e,i){let n=this.afterWidget&&t.flags&48&&(this.afterWidget.flags&48)==(t.flags&48);n||this.flushBuffer();let s=this.ensureMarks(e,i);!n&&!(t.flags&16)&&s.append(this.getBuffer(1)),s.append(t),this.pos+=t.length,this.afterWidget=t}addMark(t,e,i){this.flushBuffer(),this.ensureMarks(e,i).append(t),this.pos+=t.length,this.afterWidget=null}addBlockWidget(t){this.getBlockPos().append(t),this.pos+=t.length,this.lastBlock=t,this.endLine()}continueWidget(t){let e=this.afterWidget||this.lastBlock;e.length+=t,this.pos+=t}addLineStart(t,e){var i;t||(t=N4);let n=Lu.start(t,e||((i=this.cache.find(Lu))===null||i===void 0?void 0:i.dom),!!e);this.getBlockPos().append(this.lastBlock=this.curLine=n)}addLine(t){this.getBlockPos().append(t),this.pos+=t.length,this.lastBlock=t,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(t){this.blockPosCovered()||this.addLineStart(t)}ensureLine(t){this.curLine||this.addLineStart(t)}ensureMarks(t,e){var i;let n=this.curLine;for(let s=t.length-1;s>=0;s--){let l=t[s],o;if(e>0&&(o=n.lastChild)&&o instanceof Mn&&o.mark.eq(l))n=o,e--;else{let a=Mn.of(l,(i=this.cache.find(Mn,f=>f.mark.eq(l)))===null||i===void 0?void 0:i.dom);n.append(a),n=a,e=0}}return n}endLine(){if(this.curLine){this.flushBuffer();let t=this.curLine.lastChild;(!t||!H3(this.curLine,!1)||t.dom.nodeName!="BR"&&t.isWidget()&&!(Et.ios&&H3(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(fx,0,32)||new fh(fx.toDOM(),0,fx,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let t=this.wrappers.length-1;t>=0;t--)this.wrappers[t].to<this.pos&&this.wrappers.splice(t,1);for(let t=this.blockWrappers;t.value&&t.from<=this.pos;t.next())if(t.to>=this.pos){let e=new e9(t.from,t.to,t.value,t.rank),i=this.wrappers.length;for(;i>0&&(this.wrappers[i-1].rank-e.rank||this.wrappers[i-1].to-e.to)<0;)i--;this.wrappers.splice(i,0,e)}this.wrapperPos=this.pos}getBlockPos(){var t;this.updateBlockWrappers();let e=this.root;for(let i of this.wrappers){let n=e.lastChild;if(i.from<this.pos&&n instanceof to&&n.wrapper.eq(i.wrapper))e=n;else{let s=to.of(i.wrapper,(t=this.cache.find(to,l=>l.wrapper.eq(i.wrapper)))===null||t===void 0?void 0:t.dom);e.append(s),e=s}}return e}blockPosCovered(){let t=this.lastBlock;return t!=null&&!t.breakAfter&&(!t.isWidget()||(t.flags&160)>0)}getBuffer(t){let e=2|(t<0?16:32),i=this.cache.find(gO,void 0,1);return i&&(i.flags=e),i||new gO(e)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class n9{constructor(t){this.skipCount=0,this.text="",this.textOff=0,this.cursor=t.iter()}skip(t){this.textOff+t<=this.text.length?this.textOff+=t:(this.skipCount+=t-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(t){if(this.textOff==this.text.length){let{value:n,lineBreak:s,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=n;let o=this.textOff=Math.min(t,n.length);return s?null:n.slice(0,o)}let e=Math.min(this.text.length,this.textOff+t),i=this.text.slice(this.textOff,e);return this.textOff=e,i}}const mO=[fh,Lu,eh,Mn,gO,to,c1];for(let r=0;r<mO.length;r++)mO[r].bucket=r;class r9{constructor(t){this.view=t,this.buckets=mO.map(()=>[]),this.index=mO.map(()=>0),this.reused=new Map}add(t){let e=t.constructor.bucket,i=this.buckets[e];i.length<6?i.push(t):i[this.index[e]=(this.index[e]+1)%6]=t}find(t,e,i=2){let n=t.bucket,s=this.buckets[n],l=this.index[n];for(let o=s.length-1;o>=0;o--){let a=(o+l)%s.length,f=s[a];if((!e||e(f))&&!this.reused.has(f))return s.splice(a,1),a<l&&this.index[n]--,this.reused.set(f,i),f}return null}findWidget(t,e,i){let n=this.buckets[0];if(n.length)for(let s=0,l=0;;s++){if(s==n.length){if(l)return null;l=1,s=0}let o=n[s];if(!this.reused.has(o)&&(l==0?o.widget.compare(t):o.widget.constructor==t.constructor&&t.updateDOM(o.dom,this.view)))return n.splice(s,1),s<this.index[0]&&this.index[0]--,o.widget==t&&o.length==e&&(o.flags&497)==i?(this.reused.set(o,1),o):(this.reused.set(o,2),new fh(o.dom,e,t,o.flags&-498|i))}}reuse(t){return this.reused.set(t,1),t}maybeReuse(t,e=2){if(!this.reused.has(t))return this.reused.set(t,e),t.dom}clear(){for(let t=0;t<this.buckets.length;t++)this.buckets[t].length=this.index[t]=0}}class s9{constructor(t,e,i,n,s){this.view=t,this.decorations=n,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new r9(t),this.text=new n9(t.state.doc),this.builder=new i9(this.cache,new c1(t,t.contentDOM),Fe.iter(i)),this.cache.reused.set(e,2),this.old=new t9(e),this.reuseWalker={skip:(l,o,a)=>{if(this.cache.add(l),l.isComposite())return!1},enter:l=>this.cache.add(l),leave:()=>{},break:()=>{}}}run(t,e){let i=e&&this.getCompositionContext(e.text);for(let n=0,s=0,l=0;;){let o=l<t.length?t[l++]:null,a=o?o.fromA:this.old.root.length;if(a>n){let f=a-n;this.preserve(f,!l,!o),n=a,s+=f}if(!o)break;e&&o.fromA<=e.range.fromA&&o.toA>=e.range.toA?(this.forward(o.fromA,e.range.fromA,e.range.fromA<e.range.toA?1:-1),this.emit(s,e.range.fromB),this.cache.clear(),this.builder.addComposition(e,i),this.text.skip(e.range.toB-e.range.fromB),this.forward(e.range.fromA,o.toA),this.emit(e.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(s,o.toB)),s=o.toB,n=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(t,e,i){let n=a9(this.old),s=this.openMarks;this.old.advance(t,i?1:-1,{skip:(l,o,a)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(a-o);else{let f=a>0||o<l.length?fh.of(l.widget,this.view,a-o,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,n,s),s=n.length)}else if(l.isText())this.builder.ensureLine(null),!o&&a==l.length?this.builder.addText(l.text,n,s,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(o,a),n,s)),s=n.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof gO)this.cache.add(l);else if(l instanceof Mn)this.builder.ensureLine(null),this.builder.addMark(l,n,s),this.cache.reused.set(l,1),s=n.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof Mn&&n.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?n.length&&(n.length=s=0):l instanceof Mn&&(n.shift(),s=Math.min(s,n.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(t)}emit(t,e){let i=null,n=this.builder,s=0,l=Fe.spans(this.decorations,t,e,{point:(o,a,f,c,p,m)=>{if(f instanceof Ld){if(this.disallowBlockEffectsFor[m]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(a>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=c.length,p>c.length)n.continueWidget(a-o);else{let O=f.widget||(f.block?Zu.block:Zu.inline),y=l9(f),S=this.cache.findWidget(O,a-o,y)||fh.of(O,this.view,a-o,y);f.block?(f.startSide>0&&n.addLineStartIfNotCovered(i),n.addBlockWidget(S)):(n.ensureLine(i),n.addInlineWidget(S,c,p))}i=null}else i=o9(i,f);a>o&&this.text.skip(a-o)},span:(o,a,f,c)=>{for(let p=o;p<a;){let m=this.text.next(Math.min(512,a-p));m==null?(n.addLineStartIfNotCovered(i),n.addBreak(),p++):(n.ensureLine(i),n.addText(m,f,p==o?c:f.length),p+=m.length),i=null}}});n.addLineStartIfNotCovered(i),this.openWidget=l>s,this.openMarks=l}forward(t,e,i=1){e-t<=10?this.old.advance(e-t,i,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(e-t-10,-1),this.old.advance(5,i,this.reuseWalker))}getCompositionContext(t){let e=[],i=null;for(let n=t.parentNode;;n=n.parentNode){let s=Ti.get(n);if(n==this.view.contentDOM)break;s instanceof Mn?e.push(s):s?.isLine()?i=s:s instanceof to||(n.nodeName=="DIV"&&!i&&n!=this.view.contentDOM?i=new Lu(n,N4):i||e.push(Mn.of(new i$({tagName:n.nodeName.toLowerCase(),attributes:R7(n)}),n)))}return{line:i,marks:e}}}function H3(r,t){let e=i=>{for(let n of i.children)if((t?n.isText():n.length)||e(n))return!0;return!1};return e(r)}function l9(r){let t=r.isReplace?(r.startSide<0?64:0)|(r.endSide>0?128:0):r.startSide>0?32:16;return r.block&&(t|=256),t}const N4={class:"cm-line"};function o9(r,t){let e=t.spec.attributes,i=t.spec.class;return!e&&!i||(r||(r={class:"cm-line"}),e&&t$(e,r),i&&(r.class+=" "+i)),r}function a9(r){let t=[];for(let e=r.parents.length;e>1;e--){let i=e==r.parents.length?r.tile:r.parents[e].tile;i instanceof Mn&&t.push(i.mark)}return t}function ux(r){let t=Ti.get(r);return t&&t.setDOM(r.cloneNode()),r}let Zu=class extends kp{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};Zu.inline=new Zu("span");Zu.block=new Zu("div");const fx=new class extends kp{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};let U3=class{constructor(t){this.view=t,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Oe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new c1(t,t.contentDOM),this.updateInner([new Gl(0,0,0,t.state.doc.length)],null)}update(t){var e;let i=t.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:p})=>p<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?n=this.domChanged.newSel.head:!O9(t.changes,this.hasComposition)&&!t.selectionSet&&(n=t.state.selection.main.head));let s=n>-1?u9(this.view,t.changes,n):null;if(this.domChanged=null,this.hasComposition){let{from:c,to:p}=this.hasComposition;i=new Gl(c,p,t.changes.mapPos(c,-1),t.changes.mapPos(p,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Et.ie||Et.chrome)&&!s&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,o=this.blockWrappers;this.updateDeco();let a=d9(l,this.decorations,t.changes);a.length&&(i=Gl.extendWithRanges(i,a));let f=g9(o,this.blockWrappers,t.changes);return f.length&&(i=Gl.extendWithRanges(i,f)),s&&!i.some(c=>c.fromA<=s.range.fromA&&c.toA>=s.range.toA)&&(i=s.range.addToSet(i.slice())),this.tile.flags&2&&i.length==0?!1:(this.updateInner(i,s),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0;let{observer:i}=this.view;i.ignore(()=>{if(e||t.length){let l=this.tile,o=new s9(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(t,e),mw(l,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Et.chrome||Et.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||i.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof cx&&n.push(s.dom);i.updateGaps(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let i of e.effects)i.is(M4)&&(this.editContextFormatting=i.value)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:i}=this.tile,n=this.view.root.activeElement,s=n==i,l=!s&&!(this.view.state.facet(Yl)||i.tabIndex>-1)&&md(i,this.view.observer.selectionRange)&&!(n&&i.contains(n));if(!(s||e||l))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,f,c;if(a.empty?c=f=this.inlineDOMNearPos(a.anchor,a.assoc||1):(c=this.inlineDOMNearPos(a.head,a.head==a.from?1:-1),f=this.inlineDOMNearPos(a.anchor,a.anchor==a.from?1:-1)),Et.gecko&&a.empty&&!this.hasComposition&&h9(f)){let m=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(m,f.node.childNodes[f.offset]||null)),f=c=new la(m,0),o=!0}let p=this.view.observer.selectionRange;(o||!p.focusNode||(!Od(f.node,f.offset,p.anchorNode,p.anchorOffset)||!Od(c.node,c.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,a))&&(this.view.observer.ignore(()=>{Et.android&&Et.chrome&&i.contains(p.focusNode)&&m9(p.focusNode,i)&&(i.blur(),i.focus({preventScroll:!0}));let m=Vd(this.view.root);if(m)if(a.empty){if(Et.gecko){let O=f9(f.node,f.offset);if(O&&O!=3){let y=(O==1?m4:O4)(f.node,f.offset);y&&(f=new la(y.node,y.offset))}}m.collapse(f.node,f.offset),a.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=a.bidiLevel)}else if(m.extend){m.collapse(f.node,f.offset);try{m.extend(c.node,c.offset)}catch{}}else{let O=document.createRange();a.anchor>a.head&&([f,c]=[c,f]),O.setEnd(c.node,c.offset),O.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(O)}l&&this.view.root.activeElement==i&&(i.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(f,c)),this.impreciseAnchor=f.precise?null:new la(p.anchorNode,p.anchorOffset),this.impreciseHead=c.precise?null:new la(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&Od(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,i=Vd(t.root),{anchorNode:n,anchorOffset:s}=t.observer.selectionRange;if(!i||!e.empty||!e.assoc||!i.modify)return;let l=this.lineAt(e.head,e.assoc);if(!l)return;let o=l.posAtStart;if(e.head==o||e.head==o+l.length)return;let a=this.coordsAt(e.head,-1),f=this.coordsAt(e.head,1);if(!a||!f||a.bottom>f.top)return;let c=this.domAtPos(e.head+e.assoc,e.assoc);i.collapse(c.node,c.offset),i.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let p=t.observer.selectionRange;t.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=e.from&&i.collapse(n,s)}posFromDOM(t,e){let i=this.tile.nearest(t);if(!i)return this.tile.dom.compareDocumentPosition(t)&2?0:this.view.state.doc.length;let n=i.posAtStart;if(i.isComposite()){let s;if(t==i.dom)s=i.dom.childNodes[e];else{let l=ro(t)==0?0:e==0?-1:1;for(;;){let o=t.parentNode;if(o==i.dom)break;l==0&&o.firstChild!=o.lastChild&&(t==o.firstChild?l=-1:l=1),t=o}l<0?s=t:s=t.nextSibling}if(s==i.dom.firstChild)return n;for(;s&&!Ti.get(s);)s=s.nextSibling;if(!s)return n+i.length;for(let l=0,o=n;;l++){let a=i.children[l];if(a.dom==s)return o;o+=a.length+a.breakAfter}}else return i.isText()?t==i.dom?n+e:n+(e?i.length:0):n}domAtPos(t,e){let{tile:i,offset:n}=this.tile.resolveBlock(t,e);return i.isWidget()?i.domPosFor(t,e):i.domIn(n,e)}inlineDOMNearPos(t,e){let i,n=-1,s=!1,l,o=-1,a=!1;return this.tile.blockTiles((f,c)=>{if(f.isWidget()){if(f.flags&32&&c>=t)return!0;f.flags&16&&(s=!0)}else{let p=c+f.length;if(c<=t&&(i=f,n=t-c,s=p<t),p>=t&&!l&&(l=f,o=t-c,a=c>t),c>t&&l)return!0}}),!i&&!l?this.domAtPos(t,e):(s&&l?i=null:a&&i&&(l=null),i&&e<0||!l?i.domIn(n,e):l.domIn(o,e))}coordsAt(t,e){let{tile:i,offset:n}=this.tile.resolveBlock(t,e);return i.isWidget()?i.widget instanceof cx?null:i.coordsInWidget(n,e,!0):i.coordsIn(n,e)}lineAt(t,e){let{tile:i}=this.tile.resolveBlock(t,e);return i.isLine()?i:null}coordsForChar(t){let{tile:e,offset:i}=this.tile.resolveBlock(t,1);if(!e.isLine())return null;function n(s,l){if(s.isComposite())for(let o of s.children){if(o.length>=l){let a=n(o,l);if(a)return a}if(l-=o.length,l<0)break}else if(s.isText()&&l<s.length){let o=Ws(s.text,l);if(o==l)return null;let a=Xd(s.dom,l,o).getClientRects();for(let f=0;f<a.length;f++){let c=a[f];if(f==a.length-1||c.top<c.bottom&&c.left<c.right)return c}}return null}return n(e,i)}measureVisibleLineHeights(t){let e=[],{from:i,to:n}=t,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==Ze.LTR,f=0,c=(p,m,O)=>{for(let y=0;y<p.children.length&&!(m>n);y++){let S=p.children[y],w=m+S.length,v=S.dom.getBoundingClientRect(),{height:T}=v;if(O&&!y&&(f+=v.top-O.top),S instanceof to)w>i&&c(S,m,v);else if(m>=i&&(f>0&&e.push(-f),e.push(T+f),f=0,l)){let M=S.dom.lastChild,N=M?p0(M):[];if(N.length){let P=N[N.length-1],E=a?P.right-v.left:v.right-P.left;E>o&&(o=E,this.minWidth=s,this.minWidthFrom=m,this.minWidthTo=w)}}O&&y==p.children.length-1&&(f+=O.bottom-v.bottom),m=w+S.breakAfter}};return c(this.tile,0,null),e}textDirectionAt(t){let{tile:e}=this.tile.resolveBlock(t,1);return getComputedStyle(e.dom).direction=="rtl"?Ze.RTL:Ze.LTR}measureTextSize(){let t=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let o=0,a;for(let f of l.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let c=p0(f.dom);if(c.length!=1)return;o+=c[0].width,a=c[0].height}if(o)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:o/l.length,textHeight:a}}});if(t)return t;let e=document.createElement("div"),i,n,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(e);let l=p0(e.firstChild)[0];i=e.getBoundingClientRect().height,n=l&&l.width?l.width/27:7,s=l&&l.height?l.height:i,e.remove()}),{lineHeight:i,charWidth:n,textHeight:s}}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,n=0;;n++){let s=n==e.viewports.length?null:e.viewports[n],l=s?s.from-1:this.view.state.doc.length;if(l>i){let o=(e.lineBlockAt(l).bottom-e.lineBlockAt(i).top)/this.view.scaleY;t.push(Oe.replace({widget:new cx(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,l))}if(!s)break;i=s.to+1}return Oe.set(t)}updateDeco(){let t=1,e=this.view.state.facet(u1).map(s=>(this.dynamicDecorationMap[t++]=typeof s=="function")?s(this.view):s),i=!1,n=this.view.state.facet(a$).map((s,l)=>{let o=typeof s=="function";return o&&(i=!0),o?s(this.view):s});for(n.length&&(this.dynamicDecorationMap[t++]=i,e.push(Fe.join(n))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;this.blockWrappers=this.view.state.facet(E4).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(t){if(t.isSnapshot){let f=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=f.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let f of this.view.state.facet(P4))try{if(f(this.view,t.range,t))return!0}catch(c){hr(this.view.state,c,"scroll handler")}let{range:e}=t,i=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),n;if(!i)return;!e.empty&&(n=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=_4(this.view),l={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:o,offsetHeight:a}=this.view.scrollDOM;if(B7(this.view.scrollDOM,l,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,o),-o),Math.max(Math.min(t.yMargin,a),-a),this.view.textDirection==Ze.LTR),window.visualViewport&&window.innerHeight-window.visualViewport.height>1&&(i.top>window.pageYOffset+window.visualViewport.offsetTop+window.visualViewport.height||i.bottom<window.pageYOffset+window.visualViewport.offsetTop)){let f=this.view.docView.lineAt(e.head,1);f&&f.dom.scrollIntoView({block:"nearest"})}}lineHasWidget(t){let e=i=>i.isWidget()||i.children.some(e);return e(this.tile.resolveBlock(t,1).tile)}destroy(){mw(this.tile)}};function mw(r,t){let e=t?.get(r);if(e!=1){e==null&&r.destroy();for(let i of r.children)mw(i,t)}}function h9(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function L4(r,t){let e=r.observer.selectionRange;if(!e.focusNode)return null;let i=m4(e.focusNode,e.focusOffset),n=O4(e.focusNode,e.focusOffset),s=i||n;if(n&&i&&n.node!=i.node){let o=Ti.get(n.node);if(!o||o.isText()&&o.text!=n.node.nodeValue)s=n;else if(r.docView.lastCompositionAfterCursor){let a=Ti.get(i.node);!a||a.isText()&&a.text!=i.node.nodeValue||(s=n)}}if(r.docView.lastCompositionAfterCursor=s!=i,!s)return null;let l=t-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function u9(r,t,e){let i=L4(r,e);if(!i)return null;let{node:n,from:s,to:l}=i,o=n.nodeValue;if(/[\n\r]/.test(o)||r.state.doc.sliceString(i.from,i.to)!=o)return null;let a=t.invertedDesc;return{range:new Gl(a.mapPos(s),a.mapPos(l),s,l),text:n}}function f9(r,t){return r.nodeType!=1?0:(t&&r.childNodes[t-1].contentEditable=="false"?1:0)|(t<r.childNodes.length&&r.childNodes[t].contentEditable=="false"?2:0)}let c9=class{constructor(){this.changes=[]}compareRange(t,e){bu(t,e,this.changes)}comparePoint(t,e){bu(t,e,this.changes)}boundChange(t){bu(t,t,this.changes)}};function d9(r,t,e){let i=new c9;return Fe.compare(r,t,e,i),i.changes}class p9{constructor(){this.changes=[]}compareRange(t,e){bu(t,e,this.changes)}comparePoint(){}boundChange(t){bu(t,t,this.changes)}}function g9(r,t,e){let i=new p9;return Fe.compare(r,t,e,i),i.changes}function m9(r,t){for(let e=r;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function O9(r,t){let e=!1;return t&&r.iterChangedRanges((i,n)=>{i<t.to&&n>t.from&&(e=!0)}),e}let cx=class extends kp{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}};function y9(r,t,e=1){let i=r.charCategorizer(t),n=r.doc.lineAt(t),s=t-n.from;if(n.length==0)return Wt.cursor(t);s==0?e=1:s==n.length&&(e=-1);let l=s,o=s;e<0?l=Ws(n.text,s,!1):o=Ws(n.text,s);let a=i(n.text.slice(l,o));for(;l>0;){let f=Ws(n.text,l,!1);if(i(n.text.slice(f,l))!=a)break;l=f}for(;o<n.length;){let f=Ws(n.text,o);if(i(n.text.slice(o,f))!=a)break;o=f}return Wt.range(l+n.from,o+n.from)}function b9(r,t,e,i,n){let s=Math.round((i-t.left)*r.defaultCharacterWidth);if(r.lineWrapping&&e.height>r.defaultLineHeight*1.5){let o=r.viewState.heightOracle.textHeight,a=Math.floor((n-e.top-(r.defaultLineHeight-o)*.5)/o);s+=a*r.viewState.heightOracle.lineLength}let l=r.state.sliceDoc(e.from,e.to);return e.from+A7(l,s,r.state.tabSize)}function x9(r,t,e){let i=r.lineBlockAt(t);if(Array.isArray(i.type)){let n;for(let s of i.type){if(s.from>t)break;if(!(s.to<t)){if(s.from<t&&s.to>t)return s;(!n||s.type==Ln.Text&&(n.type!=s.type||(e<0?s.from<t:s.to>t)))&&(n=s)}}return n||i}return i}function S9(r,t,e,i){let n=x9(r,t.head,t.assoc||-1),s=!i||n.type!=Ln.Text||!(r.lineWrapping||n.widgetLineBreaks)?null:r.coordsAtPos(t.assoc<0&&t.head>n.from?t.head-1:t.head);if(s){let l=r.dom.getBoundingClientRect(),o=r.textDirectionAt(n.from),a=r.posAtCoords({x:e==(o==Ze.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(a!=null)return Wt.cursor(a,e?-1:1)}return Wt.cursor(e?n.to:n.from,e?-1:1)}function G3(r,t,e,i){let n=r.state.doc.lineAt(t.head),s=r.bidiSpans(n),l=r.textDirectionAt(n.from);for(let o=t,a=null;;){let f=Y7(n,s,l,o,e),c=w4;if(!f){if(n.number==(e?r.state.doc.lines:1))return o;c=`
`,n=r.state.doc.line(n.number+(e?1:-1)),s=r.bidiSpans(n),f=r.visualLineSide(n,!e)}if(a){if(!a(c))return o}else{if(!i)return f;a=i(c)}o=f}}function w9(r,t,e){let i=r.state.charCategorizer(t),n=i(e);return s=>{let l=i(s);return n==Ul.Space&&(n=l),n==l}}function v9(r,t,e,i){let n=t.head,s=e?1:-1;if(n==(e?r.state.doc.length:0))return Wt.cursor(n,t.assoc);let l=t.goalColumn,o,a=r.contentDOM.getBoundingClientRect(),f=r.coordsAtPos(n,(t.empty?t.assoc:0)||(e?1:-1)),c=r.documentTop;if(f)l==null&&(l=f.left-a.left),o=s<0?f.top:f.bottom;else{let y=r.viewState.lineBlockAt(n);l==null&&(l=Math.min(a.right-a.left,r.defaultCharacterWidth*(n-y.from))),o=(s<0?y.top:y.bottom)+c}let p=a.left+l,m=i??r.viewState.heightOracle.textHeight>>1,O=Ow(r,{x:p,y:o+m*s},!1,s);return Wt.cursor(O.pos,O.assoc,void 0,l)}function yd(r,t,e){for(;;){let i=0;for(let n of r)n.between(t-1,t+1,(s,l,o)=>{if(t>s&&t<l){let a=i||e||(t-s<l-t?-1:1);t=a<0?s:l,i=a}});if(!i)return t}}function Z4(r,t){let e=null;for(let i=0;i<t.ranges.length;i++){let n=t.ranges[i],s=null;if(n.empty){let l=yd(r,n.from,0);l!=n.from&&(s=Wt.cursor(l,-1))}else{let l=yd(r,n.from,-1),o=yd(r,n.to,1);(l!=n.from||o!=n.to)&&(s=Wt.range(n.from==n.anchor?l:o,n.from==n.head?l:o))}s&&(e||(e=t.ranges.slice()),e[i]=s)}return e?Wt.create(e,t.mainIndex):t}function dx(r,t,e){let i=yd(r.state.facet($p).map(n=>n(r)),e.from,t.head>e.from?-1:1);return i==e.from?e:Wt.cursor(i,i<e.from?1:-1)}class js{constructor(t,e){this.pos=t,this.assoc=e}}function Ow(r,t,e,i){let n=r.contentDOM.getBoundingClientRect(),s=n.top+r.viewState.paddingTop,{x:l,y:o}=t,a=o-s,f;for(;;){if(a<0)return new js(0,1);if(a>r.viewState.docHeight)return new js(r.state.doc.length,-1);if(f=r.elementAtHeight(a),i==null)break;if(f.type==Ln.Text){if(i<0?f.to<r.viewport.from:f.from>r.viewport.to)break;let m=r.docView.coordsAt(i<0?f.from:f.to,i>0?-1:1);if(m&&(i<0?m.top<=a+s:m.bottom>=a+s))break}let p=r.viewState.heightOracle.textHeight/2;a=i>0?f.bottom+p:f.top-p}if(r.viewport.from>=f.to||r.viewport.to<=f.from){if(e)return null;if(f.type==Ln.Text){let p=b9(r,n,f,l,o);return new js(p,p==f.from?1:-1)}}if(f.type!=Ln.Text)return a<(f.top+f.bottom)/2?new js(f.from,1):new js(f.to,-1);let c=r.docView.lineAt(f.from,2);return(!c||c.length!=f.length)&&(c=r.docView.lineAt(f.from,-2)),new k9(r,l,o,r.textDirectionAt(f.from)).scanTile(c,f.from)}class k9{constructor(t,e,i,n){this.view=t,this.x=e,this.y=i,this.baseDir=n,this.line=null,this.spans=null}bidiSpansAt(t){return(!this.line||this.line.from>t||this.line.to<t)&&(this.line=this.view.state.doc.lineAt(t),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(t,e){let{line:i,spans:n}=this.bidiSpansAt(t);return n[Ys.find(n,t-i.from,-1,e)].level==this.baseDir}dirAt(t,e){let{line:i,spans:n}=this.bidiSpansAt(t);return n[Ys.find(n,t-i.from,-1,e)].dir}bidiIn(t,e){let{spans:i,line:n}=this.bidiSpansAt(t);return i.length>1||i.length&&(i[0].level!=this.baseDir||i[0].to+n.from<e)}scan(t,e){let i=0,n=t.length-1,s=new Set,l=this.bidiIn(t[0],t[n]),o,a,f=-1,c=1e9,p;t:for(;i<n;){let O=n-i,y=i+n>>1;e:if(s.has(y)){let w=i+Math.floor(Math.random()*O);for(let v=0;v<O;v++){if(!s.has(w)){y=w;break e}w++,w==n&&(w=i)}break t}s.add(y);let S=e(y);if(S)for(let w=0;w<S.length;w++){let v=S[w],T=0;if(v.bottom<this.y)(!o||o.bottom<v.bottom)&&(o=v),T=1;else if(v.top>this.y)(!a||a.top>v.top)&&(a=v),T=-1;else{let M=v.left>this.x?this.x-v.left:v.right<this.x?this.x-v.right:0,N=Math.abs(M);N<c&&(f=y,c=N,p=v),M&&(T=M<0==(this.baseDir==Ze.LTR)?-1:1)}T==-1&&(!l||this.baseDirAt(t[y],1))?n=y:T==1&&(!l||this.baseDirAt(t[y+1],-1))&&(i=y+1)}}if(!p){let O=o&&(!a||this.y-o.bottom<a.top-this.y)?o:a;return this.y=(O.top+O.bottom)/2,this.scan(t,e)}let m=(l?this.dirAt(t[f],1):this.baseDir)==Ze.LTR;return{i:f,after:this.x>(p.left+p.right)/2==m}}scanText(t,e){let i=[];for(let s=0;s<t.length;s=Ws(t.text,s))i.push(e+s);i.push(e+t.length);let n=this.scan(i,s=>{let l=i[s]-e,o=i[s+1]-e;return Xd(t.dom,l,o).getClientRects()});return n.after?new js(i[n.i+1],-1):new js(i[n.i],1)}scanTile(t,e){if(!t.length)return new js(e,1);if(t.children.length==1){let o=t.children[0];if(o.isText())return this.scanText(o,e);if(o.isComposite())return this.scanTile(o,e)}let i=[e];for(let o=0,a=e;o<t.children.length;o++)i.push(a+=t.children[o].length);let n=this.scan(i,o=>{let a=t.children[o];return a.flags&48?null:(a.dom.nodeType==1?a.dom:Xd(a.dom,0,a.length)).getClientRects()}),s=t.children[n.i],l=i[n.i];return s.isText()?this.scanText(s,l):s.isComposite()?this.scanTile(s,l):n.after?new js(i[n.i+1],-1):new js(l,1)}}const Lc="";let $9=class{constructor(t,e){this.points=t,this.view=e,this.text="",this.lineSeparator=e.state.facet(Ee.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Lc}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n);let s=this.text.length;this.readNode(n);let l=Ti.get(n),o=n.nextSibling;if(o==e){l?.breakAfter&&!o&&i!=this.view.contentDOM&&this.lineBreak();break}let a=Ti.get(o);(l&&a?l.breakAfter:(l?l.breakAfter:dO(n))||dO(o)&&(n.nodeName!="BR"||l?.isWidget())&&this.text.length>s)&&!C9(o,e)&&this.lineBreak(),n=o}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,o;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,i),l=this.lineSeparator.length):(o=n.exec(e))&&(s=o.index,l=o[0].length),this.append(e.slice(i,s<0?e.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let a of this.points)a.node==t&&a.pos>this.text.length&&(a.pos-=l-1);i=s+l}}readNode(t){let e=Ti.get(t),i=e&&e.overrideDOMText;if(i!=null){this.findPointInside(t,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(t.nodeType==3?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+(A9(t,i.node,i.offset)?e:0))}};function A9(r,t,e){for(;;){if(!t||e<ro(t))return!1;if(t==r)return!0;e=Oa(t)+1,t=t.parentNode}}function C9(r,t){let e;for(;!(r==t||!r);r=r.nextSibling){let i=Ti.get(r);if(!i?.isWidget())return!1;i&&(e||(e=[])).push(i)}if(e)for(let i of e){let n=i.overrideDOMText;if(n?.length)return!1}return!0}let F3=class{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}};class T9{constructor(t,e,i,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:s,impreciseAnchor:l}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=V4(t.docView.tile,e,i,0))){let o=s||l?[]:P9(t),a=new $9(o,t);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=M9(o,this.bounds.from)}else{let o=t.observer.selectionRange,a=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!ow(t.contentDOM,o.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(o.focusNode,o.focusOffset),f=l&&l.node==o.anchorNode&&l.offset==o.anchorOffset||!ow(t.contentDOM,o.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(o.anchorNode,o.anchorOffset),c=t.viewport;if((Et.ios||Et.chrome)&&t.state.selection.main.empty&&a!=f&&(c.from>0||c.to<t.state.doc.length)){let p=Math.min(a,f),m=Math.max(a,f),O=c.from-p,y=c.to-m;(O==0||O==1||p==0)&&(y==0||y==-1||m==t.state.doc.length)&&(a=0,f=t.state.doc.length)}t.inputState.composing>-1&&t.state.selection.ranges.length>1?this.newSel=t.state.selection.replaceRange(Wt.range(f,a)):this.newSel=Wt.single(f,a)}}}function V4(r,t,e,i){if(r.isComposite()){let n=-1,s=-1,l=-1,o=-1;for(let a=0,f=i,c=i;a<r.children.length;a++){let p=r.children[a],m=f+p.length;if(f<t&&m>e)return V4(p,t,e,f);if(m>=t&&n==-1&&(n=a,s=f),f>e&&p.dom.parentNode==r.dom){l=a,o=c;break}c=m,f=m+p.breakAfter}return{from:s,to:o<0?i+r.length:o,startDOM:(n?r.children[n-1].dom.nextSibling:null)||r.dom.firstChild,endDOM:l<r.children.length&&l>=0?r.children[l].dom:null}}else return r.isText()?{from:i,to:i+r.length,startDOM:r.dom,endDOM:r.dom.nextSibling}:null}function X4(r,t){let e,{newSel:i}=t,n=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(t.bounds){let{from:l,to:o}=t.bounds,a=n.from,f=null;(s===8||Et.android&&t.text.length<o-l)&&(a=n.to,f="end");let c=I4(r.state.doc.sliceString(l,o,Lc),t.text,a-l,f);c&&(Et.chrome&&s==13&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==Lc+Lc&&c.toB--,e={from:l+c.from,to:l+c.toA,insert:we.of(t.text.slice(c.from,c.toB).split(Lc))})}else i&&(!r.hasFocus&&r.state.facet(Yl)||OO(i,n))&&(i=null);if(!e&&!i)return!1;if(!e&&t.typeOver&&!n.empty&&i&&i.main.empty?e={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,n.to)}:(Et.mac||Et.android)&&e&&e.from==e.to&&e.from==n.head-1&&/^\. ?$/.test(e.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&e.insert.length==2&&(i=Wt.single(i.main.anchor-1,i.main.head-1)),e={from:e.from,to:e.to,insert:we.of([e.insert.toString().replace("."," ")])}):e&&e.from>=n.from&&e.to<=n.to&&(e.from!=n.from||e.to!=n.to)&&n.to-n.from-(e.to-e.from)<=4?e={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,e.from).append(e.insert).append(r.state.doc.slice(e.to,n.to))}:r.state.doc.lineAt(n.from).to<n.to&&r.docView.lineHasWidget(n.to)&&r.inputState.insertingTextAt>Date.now()-50?e={from:n.from,to:n.to,insert:r.state.toText(r.inputState.insertingText)}:Et.chrome&&e&&e.from==e.to&&e.from==n.head&&e.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=Wt.single(i.main.anchor-1,i.main.head-1)),e={from:n.from,to:n.to,insert:we.of([" "])}),e)return h$(r,e,i,s);if(i&&!OO(i,n)){let l=!1,o="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(l=!0),o=r.inputState.lastSelectionOrigin,o=="select.pointer"&&(i=Z4(r.state.facet($p).map(a=>a(r)),i))),r.dispatch({selection:i,scrollIntoView:l,userEvent:o}),!0}else return!1}function h$(r,t,e,i=-1){if(Et.ios&&r.inputState.flushIOSKey(t))return!0;let n=r.state.selection.main;if(Et.android&&(t.to==n.to&&(t.from==n.from||t.from==n.from-1&&r.state.sliceDoc(t.from,n.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&xu(r.contentDOM,"Enter",13)||(t.from==n.from-1&&t.to==n.to&&t.insert.length==0||i==8&&t.insert.length<t.to-t.from&&t.to>n.head)&&xu(r.contentDOM,"Backspace",8)||t.from==n.from&&t.to==n.to+1&&t.insert.length==0&&xu(r.contentDOM,"Delete",46)))return!0;let s=t.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let l,o=()=>l||(l=Q9(r,t,e));return r.state.facet(C4).some(a=>a(r,t.from,t.to,s,o))||r.dispatch(o()),!0}function Q9(r,t,e){let i,n=r.state,s=n.selection.main,l=-1;if(t.from==t.to&&t.from<s.from||t.from>s.to){let a=t.from<s.from?-1:1,f=a<0?s.from:s.to,c=yd(n.facet($p).map(p=>p(r)),f,a);t.from==c&&(l=c)}if(l>-1)i={changes:t,selection:Wt.cursor(t.from+t.insert.length,-1)};else if(t.from>=s.from&&t.to<=s.to&&t.to-t.from>=(s.to-s.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&r.inputState.composing<0){let a=s.from<t.from?n.sliceDoc(s.from,t.from):"",f=s.to>t.to?n.sliceDoc(t.to,s.to):"";i=n.replaceSelection(r.state.toText(a+t.insert.sliceString(0,void 0,r.state.lineBreak)+f))}else{let a=n.changes(t),f=e&&e.main.to<=a.newLength?e.main:void 0;if(n.selection.ranges.length>1&&(r.inputState.composing>=0||r.inputState.compositionPendingChange)&&t.to<=s.to+10&&t.to>=s.to-10){let c=r.state.sliceDoc(t.from,t.to),p,m=e&&L4(r,e.main.head);if(m){let y=t.insert.length-(t.to-t.from);p={from:m.from,to:m.to-y}}else p=r.state.doc.lineAt(s.head);let O=s.to-t.to;i=n.changeByRange(y=>{if(y.from==s.from&&y.to==s.to)return{changes:a,range:f||y.map(a)};let S=y.to-O,w=S-c.length;if(r.state.sliceDoc(w,S)!=c||S>=p.from&&w<=p.to)return{range:y};let v=n.changes({from:w,to:S,insert:t.insert}),T=y.to-s.to;return{changes:v,range:f?Wt.range(Math.max(0,f.anchor+T),Math.max(0,f.head+T)):y.map(v)}})}else i={changes:a,selection:f&&n.selection.replaceRange(f)}}let o="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,o+=".compose",r.inputState.compositionFirstChange&&(o+=".start",r.inputState.compositionFirstChange=!1)),n.update(i,{userEvent:o,scrollIntoView:!0})}function I4(r,t,e,i){let n=Math.min(r.length,t.length),s=0;for(;s<n&&r.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==n&&r.length==t.length)return null;let l=r.length,o=t.length;for(;l>0&&o>0&&r.charCodeAt(l-1)==t.charCodeAt(o-1);)l--,o--;if(i=="end"){let a=Math.max(0,s-Math.min(l,o));e-=l+a-s}if(l<s&&r.length<t.length){let a=e<=s&&e>=l?s-e:0;s-=a,o=s+(o-l),l=s}else if(o<s){let a=e<=s&&e>=o?s-e:0;s-=a,l=s+(l-o),o=s}return{from:s,toA:l,toB:o}}function P9(r){let t=[];if(r.root.activeElement!=r.contentDOM)return t;let{anchorNode:e,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return e&&(t.push(new F3(e,i)),(n!=e||s!=i)&&t.push(new F3(n,s))),t}function M9(r,t){if(r.length==0)return null;let e=r[0].pos,i=r.length==2?r[1].pos:e;return e>-1&&i>-1?Wt.single(e+t,i+t):null}function OO(r,t){return t.head==r.main.head&&t.anchor==r.main.anchor}let R9=class{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Et.safari&&t.contentDOM.addEventListener("input",()=>null),Et.gecko&&Y9(t.contentDOM.ownerDocument)}handleEvent(t){!Z9(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(t.type,t)):this.runHandlers(t.type,t))}runHandlers(t,e){let i=this.handlers[t];if(i){for(let n of i.observers)n(this.view,e);for(let n of i.handlers){if(e.defaultPrevented)break;if(n(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=E9(t),i=this.handlers,n=this.view.contentDOM;for(let s in e)if(s!="scroll"){let l=!e[s].handlers.length,o=i[s];o&&l!=!o.handlers.length&&(n.removeEventListener(s,this.handleEvent),o=null),o||n.addEventListener(s,this.handleEvent,{passive:l})}for(let s in i)s!="scroll"&&!e[s]&&n.removeEventListener(s,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&q4.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),Et.android&&Et.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return Et.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((e=j4.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||D9.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let e=this.pendingIOSKey;return!e||e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,xu(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!/^key/.test(t.type)||t.synthetic?!1:this.composing>0?!0:Et.safari&&!Et.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function K3(r,t){return(e,i)=>{try{return t.call(r,i,e)}catch(n){hr(e.state,n)}}}function E9(r){let t=Object.create(null);function e(i){return t[i]||(t[i]={observers:[],handlers:[]})}for(let i of r){let n=i.spec,s=n&&n.plugin.domEventHandlers,l=n&&n.plugin.domEventObservers;if(s)for(let o in s){let a=s[o];a&&e(o).handlers.push(K3(i.value,a))}if(l)for(let o in l){let a=l[o];a&&e(o).observers.push(K3(i.value,a))}}for(let i in ns)e(i).handlers.push(ns[i]);for(let i in Dr)e(i).observers.push(Dr[i]);return t}const j4=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],D9="dthko",q4=[16,17,18,20,91,92,224,225],im=6;function nm(r){return Math.max(0,r)*.7+8}function B9(r,t){return Math.max(Math.abs(r.clientX-t.clientX),Math.abs(r.clientY-t.clientY))}let _9=class{constructor(t,e,i,n){this.view=t,this.startEvent=e,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=_7(t.contentDOM),this.atoms=t.state.facet($p).map(l=>l(t));let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Ee.allowMultipleSelections)&&z9(t,e),this.dragging=L9(t,e)&&H4(e)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&B9(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,i=0,n=0,s=0,l=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:n,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:o}=this.scrollParents.y.getBoundingClientRect());let a=_4(this.view);t.clientX-a.left<=n+im?e=-nm(n-t.clientX):t.clientX+a.right>=l-im&&(e=nm(t.clientX-l)),t.clientY-a.top<=s+im?i=-nm(s-t.clientY):t.clientY+a.bottom>=o-im&&(i=nm(t.clientY-o)),this.setScrollSpeed(e,i)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}select(t){let{view:e}=this,i=Z4(this.atoms,this.style.get(t,this.extend,this.multiple));(this.mustSelect||!i.eq(e.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}};function z9(r,t){let e=r.state.facet(v4);return e.length?e[0](t):Et.mac?t.metaKey:t.ctrlKey}function N9(r,t){let e=r.state.facet(k4);return e.length?e[0](t):Et.mac?!t.altKey:!t.ctrlKey}function L9(r,t){let{main:e}=r.state.selection;if(e.empty)return!1;let i=Vd(r.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let l=n[s];if(l.left<=t.clientX&&l.right>=t.clientX&&l.top<=t.clientY&&l.bottom>=t.clientY)return!0}return!1}function Z9(r,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,i;e!=r.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(i=Ti.get(e))&&i.isWidget()&&!i.isHidden&&i.widget.ignoreEvent(t))return!1;return!0}const ns=Object.create(null),Dr=Object.create(null),W4=Et.ie&&Et.ie_version<15||Et.ios&&Et.webkit_version<604;function V9(r){let t=r.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{r.focus(),e.remove(),Y4(r,e.value)},50)}function d1(r,t,e){for(let i of r.facet(t))e=i(e,r);return e}function Y4(r,t){t=d1(r.state,s$,t);let{state:e}=r,i,n=1,s=e.toText(t),l=s.lines==e.selection.ranges.length;if(yw!=null&&e.selection.ranges.every(a=>a.empty)&&yw==s.toString()){let a=-1;i=e.changeByRange(f=>{let c=e.doc.lineAt(f.from);if(c.from==a)return{range:f};a=c.from;let p=e.toText((l?s.line(n++).text:t)+e.lineBreak);return{changes:{from:c.from,insert:p},range:Wt.cursor(f.from+p.length)}})}else l?i=e.changeByRange(a=>{let f=s.line(n++);return{changes:{from:a.from,to:a.to,insert:f.text},range:Wt.cursor(a.from+f.length)}}):i=e.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Dr.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};ns.keydown=(r,t)=>(r.inputState.setSelectionOrigin("select"),t.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Dr.touchstart=(r,t)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Dr.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};ns.mousedown=(r,t)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let i of r.state.facet($4))if(e=i(r,t),e)break;if(!e&&t.button==0&&(e=I9(r,t)),e){let i=!r.hasFocus;r.inputState.startMouseSelection(new _9(r,t,e,i)),i&&r.observer.ignore(()=>{p4(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let n=r.inputState.mouseSelection;if(n)return n.start(t),n.dragging===!1}else r.inputState.setSelectionOrigin("select.pointer");return!1};function J3(r,t,e,i){if(i==1)return Wt.cursor(t,e);if(i==2)return y9(r.state,t,e);{let n=r.docView.lineAt(t,e),s=r.state.doc.lineAt(n?n.posAtEnd:t),l=n?n.posAtStart:s.from,o=n?n.posAtEnd:s.to;return o<r.state.doc.length&&o==s.to&&o++,Wt.range(l,o)}}const X9=Et.ie&&Et.ie_version<=11;let tP=null,eP=0,iP=0;function H4(r){if(!X9)return r.detail;let t=tP,e=iP;return tP=r,iP=Date.now(),eP=!t||e>Date.now()-400&&Math.abs(t.clientX-r.clientX)<2&&Math.abs(t.clientY-r.clientY)<2?(eP+1)%3:1}function I9(r,t){let e=r.posAndSideAtCoords({x:t.clientX,y:t.clientY},!1),i=H4(t),n=r.state.selection;return{update(s){s.docChanged&&(e.pos=s.changes.mapPos(e.pos),n=n.map(s.changes))},get(s,l,o){let a=r.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),f,c=J3(r,a.pos,a.assoc,i);if(e.pos!=a.pos&&!l){let p=J3(r,e.pos,e.assoc,i),m=Math.min(p.from,c.from),O=Math.max(p.to,c.to);c=m<c.from?Wt.range(m,O):Wt.range(O,m)}return l?n.replaceRange(n.main.extend(c.from,c.to)):o&&i==1&&n.ranges.length>1&&(f=j9(n,a.pos))?f:o?n.addRange(c):Wt.create([c])}}}function j9(r,t){for(let e=0;e<r.ranges.length;e++){let{from:i,to:n}=r.ranges[e];if(i<=t&&n>=t)return Wt.create(r.ranges.slice(0,e).concat(r.ranges.slice(e+1)),r.mainIndex==e?0:r.mainIndex-(r.mainIndex>e?1:0))}return null}ns.dragstart=(r,t)=>{let{selection:{main:e}}=r.state;if(t.target.draggable){let n=r.docView.tile.nearest(t.target);if(n&&n.isWidget()){let s=n.posAtStart,l=s+n.length;(s>=e.to||l<=e.from)&&(e=Wt.range(s,l))}}let{inputState:i}=r;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",d1(r.state,l$,r.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1};ns.dragend=r=>(r.inputState.draggedContent=null,!1);function nP(r,t,e,i){if(e=d1(r.state,s$,e),!e)return;let n=r.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:s}=r.inputState,l=i&&s&&N9(r,t)?{from:s.from,to:s.to}:null,o={from:n,insert:e},a=r.state.changes(l?[l,o]:o);r.focus(),r.dispatch({changes:a,selection:{anchor:a.mapPos(n,-1),head:a.mapPos(n,1)},userEvent:l?"move.drop":"input.drop"}),r.inputState.draggedContent=null}ns.drop=(r,t)=>{if(!t.dataTransfer)return!1;if(r.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let i=Array(e.length),n=0,s=()=>{++n==e.length&&nP(r,t,i.filter(l=>l!=null).join(r.state.lineBreak),!1)};for(let l=0;l<e.length;l++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[l]=o.result),s()},o.readAsText(e[l])}return!0}else{let i=t.dataTransfer.getData("Text");if(i)return nP(r,t,i,!0),!0}return!1};ns.paste=(r,t)=>{if(r.state.readOnly)return!0;r.observer.flush();let e=W4?null:t.clipboardData;return e?(Y4(r,e.getData("text/plain")||e.getData("text/uri-list")),!0):(V9(r),!1)};function q9(r,t){let e=r.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function W9(r){let t=[],e=[],i=!1;for(let n of r.selection.ranges)n.empty||(t.push(r.sliceDoc(n.from,n.to)),e.push(n));if(!t.length){let n=-1;for(let{from:s}of r.selection.ranges){let l=r.doc.lineAt(s);l.number>n&&(t.push(l.text),e.push({from:l.from,to:Math.min(r.doc.length,l.to+1)})),n=l.number}i=!0}return{text:d1(r,l$,t.join(r.lineBreak)),ranges:e,linewise:i}}let yw=null;ns.copy=ns.cut=(r,t)=>{if(!md(r.contentDOM,r.observer.selectionRange))return!1;let{text:e,ranges:i,linewise:n}=W9(r.state);if(!e&&!n)return!1;yw=n?e:null,t.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=W4?null:t.clipboardData;return s?(s.clearData(),s.setData("text/plain",e),!0):(q9(r,e),!1)};const U4=mh.define();function G4(r,t){let e=[];for(let i of r.facet(T4)){let n=i(r,t);n&&e.push(n)}return e.length?r.update({effects:e,annotations:U4.of(!0)}):null}function F4(r){setTimeout(()=>{let t=r.hasFocus;if(t!=r.inputState.notifiedFocused){let e=G4(r.state,t);e?r.dispatch(e):r.update([])}},10)}Dr.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),F4(r)};Dr.blur=r=>{r.observer.clearSelectionRange(),F4(r)};Dr.compositionstart=Dr.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Dr.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,Et.chrome&&Et.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Dr.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};ns.beforeinput=(r,t)=>{var e,i;if((t.inputType=="insertText"||t.inputType=="insertCompositionText")&&(r.inputState.insertingText=t.data,r.inputState.insertingTextAt=Date.now()),t.inputType=="insertReplacementText"&&r.observer.editContext){let s=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),l=t.getTargetRanges();if(s&&l.length){let o=l[0],a=r.posAtDOM(o.startContainer,o.startOffset),f=r.posAtDOM(o.endContainer,o.endOffset);return h$(r,{from:a,to:f,insert:r.state.toText(s)},null),!0}}let n;if(Et.chrome&&Et.android&&(n=j4.find(s=>s.inputType==t.inputType))&&(r.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return Et.ios&&t.inputType=="deleteContentForward"&&r.observer.flushSoon(),Et.safari&&t.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Dr.compositionend(r,t),20),!1};const rP=new Set;function Y9(r){rP.has(r)||(rP.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const sP=["pre-wrap","normal","pre-line","break-spaces"];let Vu=!1;function lP(){Vu=!1}let H9=class{constructor(t){this.lineWrapping=t,this.doc=we.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return sP.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(e=!0,this.heightSamples[Math.floor(n*10)]=!0)}return e}refresh(t,e,i,n,s,l){let o=sP.indexOf(t)>-1,a=Math.abs(e-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(i-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=i,this.textHeight=n,this.lineLength=s,a){this.heightSamples={};for(let f=0;f<l.length;f++){let c=l[f];c<0?f++:this.heightSamples[Math.floor(c*10)]=!0}}return a}},U9=class{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}},Hl=class K4{constructor(t,e,i,n,s){this.from=t,this.length=e,this.top=i,this.height=n,this._content=s}get type(){return typeof this._content=="number"?Ln.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ld?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new K4(this.from,this.length+t.length,this.top,this.height+t.height,e)}};var Ne=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(Ne||(Ne={}));const g0=.001;let Jr=class m0{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>g0&&(Vu=!0),this.height=t)}replace(t,e,i){return m0.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let s=this,l=i.doc;for(let o=n.length-1;o>=0;o--){let{fromA:a,toA:f,fromB:c,toB:p}=n[o],m=s.lineAt(a,Ne.ByPosNoHeight,i.setDoc(e),0,0),O=m.to>=f?m:s.lineAt(f,Ne.ByPosNoHeight,i,0,0);for(p+=O.to-f,f=O.to;o>0&&m.from<=n[o-1].toA;)a=n[o-1].fromA,c=n[o-1].fromB,o--,a<m.from&&(m=s.lineAt(a,Ne.ByPosNoHeight,i,0,0));c+=m.from-a,a=m.from;let y=J9.build(i.setDoc(l),t,c,p);s=yO(s,s.replace(a,f,y))}return s.updateHeight(i,0)}static empty(){return new Vs(0,0,0)}static of(t){if(t.length==1)return t[0];let e=0,i=t.length,n=0,s=0;for(;;)if(e==i)if(n>s*2){let o=t[e-1];o.break?t.splice(--e,1,o.left,null,o.right):t.splice(--e,1,o.left,o.right),i+=1+o.break,n-=o.size}else if(s>n*2){let o=t[i];o.break?t.splice(i,1,o.left,null,o.right):t.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(n<s){let o=t[e++];o&&(n+=o.size)}else{let o=t[--i];o&&(s+=o.size)}let l=0;return t[e-1]==null?(l=1,e--):t[e]==null&&(l=1,i++),new F9(m0.of(t.slice(0,e)),l,m0.of(t.slice(i)))}};function yO(r,t){return r==t?r:(r.constructor!=t.constructor&&(Vu=!0),t)}Jr.prototype.size=1;const G9=Oe.replace({});let J4=class extends Jr{constructor(t,e,i){super(t,e),this.deco=i,this.spaceAbove=0}mainBlock(t,e){return new Hl(e,this.length,t+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(t,e,i,n){return this.spaceAbove&&t<i+this.spaceAbove?new Hl(n,0,i,this.spaceAbove,G9):this.mainBlock(i,n)}lineAt(t,e,i,n,s){let l=this.mainBlock(n,s);return this.spaceAbove?this.blockAt(0,i,n,s).join(l):l}forEachLine(t,e,i,n,s,l){t<=s+this.length&&e>=s&&l(this.lineAt(0,Ne.ByPos,i,n,s))}setMeasuredHeight(t){let e=t.heights[t.index++];e<0?(this.spaceAbove=-e,e=t.heights[t.index++]):this.spaceAbove=0,this.setHeight(e)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setMeasuredHeight(n),this.outdated=!1,this}toString(){return`block(${this.length})`}},Vs=class bw extends J4{constructor(t,e,i){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=i}mainBlock(t,e){return new Hl(e,this.length,t+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(t,e,i){let n=i[0];return i.length==1&&(n instanceof bw||n instanceof Su&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Su?n=new bw(n.length,this.height,this.spaceAbove):n.height=this.height,this.outdated||(n.outdated=!1),n):Jr.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setMeasuredHeight(n):(i||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Su=class Vr extends Jr{constructor(t){super(t,0)}heightMetrics(t,e){let i=t.doc.lineAt(e).number,n=t.doc.lineAt(e+this.length).number,s=n-i+1,l,o=0;if(t.lineWrapping){let a=Math.min(this.height,t.lineHeight*s);l=a/s,this.length>s+1&&(o=(this.height-a)/(this.length-s-1))}else l=this.height/s;return{firstLine:i,lastLine:n,perLine:l,perChar:o}}blockAt(t,e,i,n){let{firstLine:s,lastLine:l,perLine:o,perChar:a}=this.heightMetrics(e,n);if(e.lineWrapping){let f=n+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-i)/this.height))*this.length)),c=e.doc.lineAt(f),p=o+c.length*a,m=Math.max(i,t-p/2);return new Hl(c.from,c.length,m,p,0)}else{let f=Math.max(0,Math.min(l-s,Math.floor((t-i)/o))),{from:c,length:p}=e.doc.line(s+f);return new Hl(c,p,i+o*f,o,0)}}lineAt(t,e,i,n,s){if(e==Ne.ByHeight)return this.blockAt(t,i,n,s);if(e==Ne.ByPosNoHeight){let{from:O,to:y}=i.doc.lineAt(t);return new Hl(O,y-O,0,0,0)}let{firstLine:l,perLine:o,perChar:a}=this.heightMetrics(i,s),f=i.doc.lineAt(t),c=o+f.length*a,p=f.number-l,m=n+o*p+a*(f.from-s-p);return new Hl(f.from,f.length,Math.max(n,Math.min(m,n+this.height-c)),c,0)}forEachLine(t,e,i,n,s,l){t=Math.max(t,s),e=Math.min(e,s+this.length);let{firstLine:o,perLine:a,perChar:f}=this.heightMetrics(i,s);for(let c=t,p=n;c<=e;){let m=i.doc.lineAt(c);if(c==t){let y=m.number-o;p+=a*y+f*(t-s-y)}let O=a+f*m.length;l(new Hl(m.from,m.length,p,O,0)),p+=O,c=m.to+1}}replace(t,e,i){let n=this.length-e;if(n>0){let s=i[i.length-1];s instanceof Vr?i[i.length-1]=new Vr(s.length+n):i.push(null,new Vr(n-1))}if(t>0){let s=i[0];s instanceof Vr?i[0]=new Vr(t+s.length):i.unshift(new Vr(t-1),null)}return Jr.of(i)}decomposeLeft(t,e){e.push(new Vr(t-1),null)}decomposeRight(t,e){e.push(null,new Vr(this.length-t-1))}updateHeight(t,e=0,i=!1,n){let s=e+this.length;if(n&&n.from<=e+this.length&&n.more){let l=[],o=Math.max(e,n.from),a=-1;for(n.from>e&&l.push(new Vr(n.from-e-1).updateHeight(t,e));o<=s&&n.more;){let c=t.doc.lineAt(o).length;l.length&&l.push(null);let p=n.heights[n.index++],m=0;p<0&&(m=-p,p=n.heights[n.index++]),a==-1?a=p:Math.abs(p-a)>=g0&&(a=-2);let O=new Vs(c,p,m);O.outdated=!1,l.push(O),o+=c+1}o<=s&&l.push(null,new Vr(s-o).updateHeight(t,o));let f=Jr.of(l);return(a<0||Math.abs(f.height-this.height)>=g0||Math.abs(a-this.heightMetrics(t,e).perLine)>=g0)&&(Vu=!0),yO(this,f)}else(i||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},F9=class extends Jr{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return this.flags&1}blockAt(t,e,i,n){let s=i+this.left.height;return t<s?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,s,n+this.left.length+this.break)}lineAt(t,e,i,n,s){let l=n+this.left.height,o=s+this.left.length+this.break,a=e==Ne.ByHeight?t<l:t<o,f=a?this.left.lineAt(t,e,i,n,s):this.right.lineAt(t,e,i,l,o);if(this.break||(a?f.to<o:f.from>o))return f;let c=e==Ne.ByPosNoHeight?Ne.ByPosNoHeight:Ne.ByPos;return a?f.join(this.right.lineAt(o,c,i,l,o)):this.left.lineAt(o,c,i,n,s).join(f)}forEachLine(t,e,i,n,s,l){let o=n+this.left.height,a=s+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,i,n,s,l),e>=a&&this.right.forEachLine(t,e,i,o,a,l);else{let f=this.lineAt(a,Ne.ByPos,i,n,s);t<f.from&&this.left.forEachLine(t,f.from-1,i,n,s,l),f.to>=t&&f.from<=e&&l(f),e>f.to&&this.right.forEachLine(f.to+1,e,i,o,a,l)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let s=[];t>0&&this.decomposeLeft(t,s);let l=s.length;for(let o of i)s.push(o);if(t>0&&oP(s,l-1),e<this.length){let o=s.length;this.decomposeRight(e,s),oP(s,o)}return Jr.of(s)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Jr.of(this.break?[t,null,e]:[t,e]):(this.left=yO(this.left,t),this.right=yO(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:s,right:l}=this,o=e+s.length+this.break,a=null;return n&&n.from<=e+s.length&&n.more?a=s=s.updateHeight(t,e,i,n):s.updateHeight(t,e,i),n&&n.from<=o+l.length&&n.more?a=l=l.updateHeight(t,o,i,n):l.updateHeight(t,o,i),a?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function oP(r,t){let e,i;r[t]==null&&(e=r[t-1])instanceof Su&&(i=r[t+1])instanceof Su&&r.splice(t-1,3,new Su(e.length+1+i.length))}const K9=5;let J9=class tB{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let i=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Vs?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Vs(i-this.pos,-1,0)),this.writtenTo=i,e>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let l=e-t;i.block?this.addBlock(new J4(l,n,i)):(l||s||n>=K9)&&this.addLineDeco(n,s,l)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Vs(this.pos-t,-1,0)),this.writtenTo=this.pos}blankContent(t,e){let i=new Su(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Vs)return t;let e=new Vs(0,-1,0);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,t),n.breaks+=e,this.writtenTo=this.pos=this.pos+i}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof Vs)&&!this.isCovered?this.nodes.push(new Vs(0,-1,0)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=t;for(let n of this.nodes)n instanceof Vs&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(t,e,i,n){let s=new tB(i,t);return Fe.spans(e,i,n,s,0),s.finish(i)}};function tI(r,t,e){let i=new eI;return Fe.compare(r,t,e,i,0),i.changes}let eI=class{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,n){(t<e||i&&i.heightRelevant||n&&n.heightRelevant)&&bu(t,e,this.changes,5)}};function iI(r,t){let e=r.getBoundingClientRect(),i=r.ownerDocument,n=i.defaultView||window,s=Math.max(0,e.left),l=Math.min(n.innerWidth,e.right),o=Math.max(0,e.top),a=Math.min(n.innerHeight,e.bottom);for(let f=r.parentNode;f&&f!=i.body;)if(f.nodeType==1){let c=f,p=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&p.overflow!="visible"){let m=c.getBoundingClientRect();s=Math.max(s,m.left),l=Math.min(l,m.right),o=Math.max(o,m.top),a=Math.min(f==r.parentNode?n.innerHeight:a,m.bottom)}f=p.position=="absolute"||p.position=="fixed"?c.offsetParent:c.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-e.left,right:Math.max(s,l)-e.left,top:o-(e.top+t),bottom:Math.max(o,a)-(e.top+t)}}function nI(r){let t=r.getBoundingClientRect(),e=r.ownerDocument.defaultView||window;return t.left<e.innerWidth&&t.right>0&&t.top<e.innerHeight&&t.bottom>0}function rI(r,t){let e=r.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}let px=class{constructor(t,e,i,n){this.from=t,this.to=e,this.size=i,this.displaySize=n}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],s=e[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(t,e){return Oe.replace({widget:new sI(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}},sI=class extends kp{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}},aP=class{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=hP,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ze.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(o$).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new H9(e),this.stateDeco=uP(t),this.heightMap=Jr.empty().applyChanges(this.stateDeco,we.empty,this.heightOracle.setDoc(t.doc),[new Gl(0,0,0,t.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Oe.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let n=i?e.head:e.anchor;if(!t.some(({from:s,to:l})=>n>=s&&n<=l)){let{from:s,to:l}=this.lineBlockAt(n);t.push(new rm(s,l))}}return this.viewports=t.sort((i,n)=>i.from-n.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?hP:new aI(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(Zc(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=uP(this.state);let n=t.changedRanges,s=Gl.extendWithRanges(n,tI(i,this.stateDeco,t?t.changes:sl.empty(this.state.doc.length))),l=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);lP(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||Vu)&&(t.flags|=2),o?(this.scrollAnchorPos=t.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let a=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<a.from||e.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e));let f=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,t.flags|=this.updateForViewport(),(f||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&(t.selectionSet||t.focusChanged)&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(U7)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Ze.RTL:Ze.LTR;let l=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent==="refresh",o=e.getBoundingClientRect(),a=l||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let f=0,c=0;if(o.width&&o.height){let{scaleX:N,scaleY:P}=d4(e,o);(N>.005&&Math.abs(this.scaleX-N)>.005||P>.005&&Math.abs(this.scaleY-P)>.005)&&(this.scaleX=N,this.scaleY=P,f|=16,l=a=!0)}let p=(parseInt(i.paddingTop)||0)*this.scaleY,m=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=m)&&(this.paddingTop=p,this.paddingBottom=m,f|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(n.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,f|=16);let O=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=O&&(this.scrollAnchorHeight=-1,this.scrollTop=O),this.scrolledToBottom=g4(t.scrollDOM);let y=(this.printing?rI:iI)(e,this.paddingTop),S=y.top-this.pixelViewport.top,w=y.bottom-this.pixelViewport.bottom;this.pixelViewport=y;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(a=!0)),!this.inView&&!this.scrollTarget&&!nI(t.dom))return 0;let T=o.width;if((this.contentDOMWidth!=T||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=t.scrollDOM.clientHeight,f|=16),a){let N=t.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(N)&&(l=!0),l||n.lineWrapping&&Math.abs(T-this.contentDOMWidth)>n.charWidth){let{lineHeight:P,charWidth:E,textHeight:A}=t.docView.measureTextSize();l=P>0&&n.refresh(s,P,E,A,Math.max(5,T/E),N),l&&(t.docView.minWidth=0,f|=16)}S>0&&w>0?c=Math.max(S,w):S<0&&w<0&&(c=Math.min(S,w)),lP();for(let P of this.viewports){let E=P.from==this.viewport.from?N:t.docView.measureVisibleLineHeights(P);this.heightMap=(l?Jr.empty().applyChanges(this.stateDeco,we.empty,this.heightOracle,[new Gl(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(n,0,l,new U9(P.from,E))}Vu&&(f|=2)}let M=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return M&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),f|=this.updateForViewport()),(f&2||M)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,t)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:o}=this,a=new rm(n.lineAt(l-i*1e3,Ne.ByHeight,s,0,0).from,n.lineAt(o+(1-i)*1e3,Ne.ByHeight,s,0,0).to);if(e){let{head:f}=e.range;if(f<a.from||f>a.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=n.lineAt(f,Ne.ByPos,s,0,0),m;e.y=="center"?m=(p.top+p.bottom)/2-c/2:e.y=="start"||e.y=="nearest"&&f<a.from?m=p.top:m=p.bottom-c,a=new rm(n.lineAt(m-1e3/2,Ne.ByHeight,s,0,0).from,n.lineAt(m+c+1e3/2,Ne.ByHeight,s,0,0).to)}}return a}mapViewport(t,e){let i=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new rm(this.heightMap.lineAt(i,Ne.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Ne.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,Ne.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(e,Ne.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:o}=this;return(t==0||n<=l-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>l-2*1e3&&s<o+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let n of t)e.touchesRange(n.from,n.to)||i.push(new px(e.mapPos(n.from),e.mapPos(n.to),n.size,n.displaySize));return i}ensureLineGaps(t,e){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,l=n<<1;if(this.defaultTextDirection!=Ze.LTR&&!i)return[];let o=[],a=(c,p,m,O)=>{if(p-c<s)return;let y=this.state.selection.main,S=[y.from];y.empty||S.push(y.to);for(let v of S)if(v>c&&v<p){a(c,v-10,m,O),a(v+10,p,m,O);return}let w=oI(t,v=>v.from>=m.from&&v.to<=m.to&&Math.abs(v.from-c)<s&&Math.abs(v.to-p)<s&&!S.some(T=>v.from<T&&v.to>T));if(!w){if(p<m.to&&e&&i&&e.visibleRanges.some(M=>M.from<=p&&M.to>=p)){let M=e.moveToLineBoundary(Wt.cursor(p),!1,!0).head;M>c&&(p=M)}let v=this.gapSize(m,c,p,O),T=i||v<2e6?v:2e6;w=new px(c,p,v,T)}o.push(w)},f=c=>{if(c.length<l||c.type!=Ln.Text)return;let p=lI(c.from,c.to,this.stateDeco);if(p.total<l)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,O,y;if(i){let S=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,v;if(m!=null){let T=lm(p,m),M=((this.visibleBottom-this.visibleTop)/2+S)/c.height;w=T-M,v=T+M}else w=(this.visibleTop-c.top-S)/c.height,v=(this.visibleBottom-c.top+S)/c.height;O=sm(p,w),y=sm(p,v)}else{let S=p.total*this.heightOracle.charWidth,w=n*this.heightOracle.charWidth,v=0;if(S>2e6)for(let E of t)E.from>=c.from&&E.from<c.to&&E.size!=E.displaySize&&E.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=E.size-E.displaySize);let T=this.pixelViewport.left+v,M=this.pixelViewport.right+v,N,P;if(m!=null){let E=lm(p,m),A=((M-T)/2+w)/S;N=E-A,P=E+A}else N=(T-w)/S,P=(M+w)/S;O=sm(p,N),y=sm(p,P)}O>c.from&&a(c.from,O,c,p),y<c.to&&a(y,c.to,c,p)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(f):f(c);return o}gapSize(t,e,i,n){let s=lm(n,i)-lm(n,e);return this.heightOracle.lineWrapping?t.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(t){px.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=Oe.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let i=[];Fe.spans(e,this.viewport.from,this.viewport.to,{span(s,l){i.push({from:s,to:l})},point(){}},20);let n=0;if(i.length!=this.visibleRanges.length)n=12;else for(let s=0;s<i.length&&!(n&8);s++){let l=this.visibleRanges[s],o=i[s];(l.from!=o.from||l.to!=o.to)&&(n|=4,t&&t.mapPos(l.from,-1)==o.from&&t.mapPos(l.to,1)==o.to||(n|=8))}return this.visibleRanges=i,n}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Zc(this.heightMap.lineAt(t,Ne.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||Zc(this.heightMap.lineAt(this.scaler.fromDOM(t),Ne.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Zc(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},rm=class{constructor(t,e){this.from=t,this.to=e}};function lI(r,t,e){let i=[],n=r,s=0;return Fe.spans(e,r,t,{span(){},point(l,o){l>n&&(i.push({from:n,to:l}),s+=l-n),n=o}},20),n<t&&(i.push({from:n,to:t}),s+=t-n),{total:s,ranges:i}}function sm({total:r,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let i=Math.floor(r*e);for(let n=0;;n++){let{from:s,to:l}=t[n],o=l-s;if(i<=o)return s+i;i-=o}}function lm(r,t){let e=0;for(let{from:i,to:n}of r.ranges){if(t<=n){e+=t-i;break}e+=n-i}return e/r.total}function oI(r,t){for(let e of r)if(t(e))return e}const hP={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};function uP(r){let t=r.facet(u1).filter(i=>typeof i!="function"),e=r.facet(a$).filter(i=>typeof i!="function");return e.length&&t.push(Fe.join(e)),t}let aI=class eB{constructor(t,e,i){let n=0,s=0,l=0;this.viewports=i.map(({from:o,to:a})=>{let f=e.lineAt(o,Ne.ByPos,t,0,0).top,c=e.lineAt(a,Ne.ByPos,t,0,0).bottom;return n+=c-f,{from:o,to:a,top:f,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(e.height-n);for(let o of this.viewports)o.domTop=l+(o.top-s)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.top)return n+(t-i)*this.scale;if(t<=s.bottom)return s.domTop+(t-s.top);i=s.bottom,n=s.domBottom}}fromDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.domTop)return i+(t-n)/this.scale;if(t<=s.domBottom)return s.top+(t-s.domTop);i=s.bottom,n=s.domBottom}}eq(t){return t instanceof eB?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,i)=>e.from==t.viewports[i].from&&e.to==t.viewports[i].to):!1}};function Zc(r,t){if(t.scale==1)return r;let e=t.toDOM(r.top),i=t.toDOM(r.bottom);return new Hl(r.from,r.length,e,i-e,Array.isArray(r._content)?r._content.map(n=>Zc(n,t)):r._content)}const om=Zt.define({combine:r=>r.join(" ")}),xw=Zt.define({combine:r=>r.indexOf(!0)>-1}),Sw=Ce.newName(),iB=Ce.newName(),nB=Ce.newName(),rB={"&light":"."+iB,"&dark":"."+nB};function ww(r,t,e){return new Ce(t,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!e||!e[n])throw new RangeError(`Unsupported selector: ${n}`);return e[n]}):r+" "+i}})}const hI=ww("."+Sw,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},rB),uI={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},gx=Et.ie&&Et.ie_version<=11;let fI=class{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new z7,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let i of e)this.queue.push(i);(Et.ie&&Et.ie_version<=11||Et.ios&&t.composing)&&e.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Et.android&&t.constructor.EDIT_CONTEXT!==!1&&!(Et.chrome&&Et.chrome_version<126)&&(this.editContext=new dI(t),t.state.facet(Yl)&&(t.contentDOM.editContext=this.editContext.editContext)),gx&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(Yl)?i.root.activeElement!=this.dom:!md(this.dom,n))return;let s=n.anchorNode&&i.docView.tile.nearest(n.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(Et.ie&&Et.ie_version<=11||Et.android&&Et.chrome)&&!i.state.selection.main.empty&&n.focusNode&&Od(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Vd(t.root);if(!e)return!1;let i=Et.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&cI(this.view,e)||e;if(!i||this.selectionRange.eq(i))return!1;let n=md(this.dom,i);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&L7(this.dom,i)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(i.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=e)i.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,uI),gx&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),gx&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&xu(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,i=-1,n=!1;for(let s of t){let l=this.readMutation(s);l&&(l.typeOver&&(n=!0),e==-1?{from:e,to:i}=l:(e=Math.min(l.from,e),i=Math.max(l.to,i)))}return{from:e,to:i,typeOver:n}}readChange(){let{from:t,to:e,typeOver:i}=this.processRecords(),n=this.selectionChanged&&md(this.dom,this.selectionRange);if(t<0&&!n)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new T9(this.view,t,e,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let i=this.view.state,n=X4(this.view,e);return this.view.state==i&&(e.domChanged||e.newSel&&!OO(this.view.state.selection,e.newSel.main))&&this.view.update([]),n}readMutation(t){let e=this.view.docView.tile.nearest(t.target);if(!e||e.isWidget())return null;if(e.markDirty(t.type=="attributes"),t.type=="childList"){let i=fP(e,t.previousSibling||t.target.previousSibling,-1),n=fP(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Yl)!=t.state.facet(Yl)&&(t.view.contentDOM.editContext=t.state.facet(Yl)?this.editContext.editContext:null))}destroy(){var t,e,i;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function fP(r,t,e){for(;t;){let i=Ti.get(t);if(i&&i.parent==r)return i;let n=t.parentNode;t=n!=r.dom?n:e>0?t.nextSibling:t.previousSibling}return null}function cP(r,t){let e=t.startContainer,i=t.startOffset,n=t.endContainer,s=t.endOffset,l=r.docView.domAtPos(r.state.selection.main.anchor,1);return Od(l.node,l.offset,n,s)&&([e,i,n,s]=[n,s,e,i]),{anchorNode:e,anchorOffset:i,focusNode:n,focusOffset:s}}function cI(r,t){if(t.getComposedRanges){let n=t.getComposedRanges(r.root)[0];if(n)return cP(r,n)}let e=null;function i(n){n.preventDefault(),n.stopImmediatePropagation(),e=n.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",i,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",i,!0),e?cP(r,e):null}class dI{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=i=>{let n=t.state.selection.main,{anchor:s,head:l}=n,o=this.toEditorPos(i.updateRangeStart),a=this.toEditorPos(i.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:o,drifted:!1});let f=a-o>i.text.length;o==this.from&&s<this.from?o=s:a==this.to&&s>this.to&&(a=s);let c=I4(t.state.sliceDoc(o,a),i.text,(f?n.from:n.to)-o,f?"end":null);if(!c){let m=Wt.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));OO(m,n)||t.dispatch({selection:m,userEvent:"select"});return}let p={from:c.from+o,to:c.toA+o,insert:we.of(i.text.slice(c.from,c.toB).split(`
`))};if((Et.mac||Et.android)&&p.from==l-1&&/^\. ?$/.test(i.text)&&t.contentDOM.getAttribute("autocorrect")=="off"&&(p={from:o,to:a,insert:we.of([i.text.replace("."," ")])}),this.pendingContextChange=p,!t.state.readOnly){let m=this.to-this.from+(p.to-p.from+p.insert.length);h$(t,p,Wt.single(this.toEditorPos(i.selectionStart,m),this.toEditorPos(i.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)),p.from<p.to&&!p.insert.length&&t.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(e.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(e.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let n=[],s=null;for(let l=this.toEditorPos(i.rangeStart),o=this.toEditorPos(i.rangeEnd);l<o;l++){let a=t.coordsForChar(l);s=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||s||new DOMRect,n.push(s)}e.updateCharacterBounds(i.rangeStart,n)},this.handlers.textformatupdate=i=>{let n=[];for(let s of i.getTextFormats()){let l=s.underlineStyle,o=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(o)){let a=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);if(a<f){let c=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;n.push(Oe.mark({attributes:{style:c}}).range(a,f))}}}t.dispatch({effects:M4.of(Oe.set(n))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(t.state)}};for(let i in this.handlers)e.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let n=Vd(i.root);n&&n.rangeCount&&this.editContext.updateSelectionBounds(n.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,i=!1,n=this.pendingContextChange;return t.changes.iterChanges((s,l,o,a,f)=>{if(i)return;let c=f.length-(l-s);if(n&&l>=n.to)if(n.from==s&&n.to==l&&n.insert.eq(f)){n=this.pendingContextChange=null,e+=c,this.to+=c;return}else n=null,this.revertPending(t.state);if(s+=e,l+=e,l<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+f.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),f.toString()),this.to+=c}e+=c}),n&&!i&&this.revertPending(t.state),!i}update(t){let e=this.pendingContextChange,i=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(i.from,i.to)&&t.transactions.some(n=>!n.isUserEvent("input.type")&&n.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.reset(t.state)):(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),n=this.toContextPos(e.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=n)&&this.editContext.updateSelection(i,n)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>1e4*3)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let i=this.composing;return i&&i.drifted?i.editorBase+(t-i.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}let Gt=class vw{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:i}=t;this.dispatchTransactions=t.dispatchTransactions||i&&(n=>n.forEach(s=>i(s,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=t.root||N7(t.parent)||document,this.viewState=new aP(t.state||Ee.create(t)),t.scrollTo&&t.scrollTo.is(em)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(pu).map(n=>new hx(n));for(let n of this.plugins)n.update(this);this.observer=new fI(this),this.inputState=new R9(this),this.inputState.ensureHandlers(this.plugins),this.docView=new U3(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((e=document.fonts)===null||e===void 0)&&e.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent="refresh",this.requestMeasure()})}dispatch(...t){let e=t.length==1&&t[0]instanceof Pr?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,i=!1,n,s=this.state;for(let m of t){if(m.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=m.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,o=0,a=null;t.some(m=>m.annotation(U4))?(this.inputState.notifiedFocused=l,o=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,a=G4(s,l),a||(o=1));let f=this.observer.delayedAndroidKey,c=null;if(f?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Ee.phrases)!=this.state.facet(Ee.phrases))return this.setState(s);n=W3.create(this,s,t),n.flags|=o;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let m of t){if(p&&(p=p.map(m.changes)),m.scrollIntoView){let{main:O}=m.state.selection;p=new ax(O.empty?O:Wt.cursor(O.head,O.head>O.anchor?-1:1))}for(let O of m.effects)O.is(em)&&(p=O.value.clip(this.state))}this.viewState.update(n,p),this.bidiCache=pP.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),e=this.docView.update(n),this.state.facet(Nc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(om)!=n.state.facet(om)&&(this.viewState.mustMeasureContent=!0),(e||i||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),e&&this.docViewUpdate(),!n.empty)for(let m of this.state.facet(cw))try{m(n)}catch(O){hr(this.state,O,"update listener")}(a||c)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),c&&!X4(this,c)&&f.force&&xu(this.contentDOM,f.key,f.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new aP(t),this.plugins=t.facet(pu).map(i=>new hx(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new U3(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(pu),i=t.state.facet(pu);if(e!=i){let n=[];for(let s of i){let l=e.indexOf(s);if(l<0)n.push(new hx(s));else{let o=this.plugins[l];o.mustUpdate=t,n.push(o)}}for(let s of this.plugins)s.mustUpdate!=t&&s.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=t;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);e!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(i){hr(this.state,i,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(l<0)if(g4(i))s=-1,l=this.viewState.heightMap.height;else{let O=this.viewState.scrollAnchorAt(n);s=O.from,l=O.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];a&4||([this.measureRequests,f]=[f,this.measureRequests]);let c=f.map(O=>{try{return O.read(this)}catch(y){return hr(this.state,y),dP}}),p=W3.create(this,this.state,[]),m=!1;p.flags|=a,e?e.flags|=a:e=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),m=this.docView.update(p),m&&this.docViewUpdate());for(let O=0;O<f.length;O++)if(c[O]!=dP)try{let y=f[O];y.write&&y.write(c[O],this)}catch(y){hr(this.state,y)}if(m&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let y=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(y>1||y<-1){n=n+y,i.scrollTop=n/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let o of this.state.facet(cw))o(e)}get themeClasses(){return Sw+" "+(this.state.facet(xw)?nB:iB)+" "+this.state.facet(om)}updateAttrs(){let t=gP(this,R4,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Yl)?"true":"false",class:"cm-content",style:`${Et.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),gP(this,o$,e);let i=this.observer.ignore(()=>{let n=X3(this.contentDOM,this.contentAttrs,e),s=X3(this.dom,this.editorAttrs,t);return n||s});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let n of i.effects)if(n.is(vw.announce)){e&&(this.announceDOM.textContent=""),e=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(Nc);let t=this.state.facet(vw.cspNonce);Ce.mount(this.root,this.styleModules.concat(hI).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.plugin!=t)&&this.pluginMap.set(t,e=this.plugins.find(i=>i.plugin==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return dx(this,t,G3(this,t,e,i))}moveByGroup(t,e){return dx(this,t,G3(this,t,e,i=>w9(this,t.head,i)))}visualLineSide(t,e){let i=this.bidiSpans(t),n=this.textDirectionAt(t.from),s=i[e?i.length-1:0];return Wt.cursor(s.side(e,n)+t.from,s.forward(!e,n)?1:-1)}moveToLineBoundary(t,e,i=!0){return S9(this,t,e,i)}moveVertically(t,e,i){return dx(this,t,v9(this,t,e,i))}domAtPos(t,e=1){return this.docView.domAtPos(t,e)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){this.readMeasured();let i=Ow(this,t,e);return i&&i.pos}posAndSideAtCoords(t,e=!0){return this.readMeasured(),Ow(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(t),s=this.bidiSpans(n),l=s[Ys.find(s,t-n.from,-1,e)];return pO(i,l.dir==Ze.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Q4)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>pI)return S4(t.length);let e=this.textDirectionAt(t.from),i;for(let s of this.bidiCache)if(s.from==t.from&&s.dir==e&&(s.fresh||x4(s.isolates,i=q3(this,t))))return s.order;i||(i=q3(this,t));let n=W7(t.text,e,i);return this.bidiCache.push(new pP(t.from,t.to,e,i,!0,n)),n}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||Et.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{p4(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return em.of(new ax(typeof t=="number"?Wt.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,i=this.viewState.scrollAnchorAt(t);return em.of(new ax(Wt.cursor(i.from),"start","start",i.top-t,e,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return so.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return so.define(()=>({}),{eventObservers:t})}static theme(t,e){let i=Ce.newName(),n=[om.of(i),Nc.of(ww(`.${i}`,t))];return e&&e.dark&&n.push(xw.of(!0)),n}static baseTheme(t){return a1.lowest(Nc.of(ww("."+Sw,t,rB)))}static findFromDOM(t){var e;let i=t.querySelector(".cm-content"),n=i&&Ti.get(i)||Ti.get(t);return((e=n?.root)===null||e===void 0?void 0:e.view)||null}};Gt.styleModule=Nc;Gt.inputHandler=C4;Gt.clipboardInputFilter=s$;Gt.clipboardOutputFilter=l$;Gt.scrollHandler=P4;Gt.focusChangeEffect=T4;Gt.perLineTextDirection=Q4;Gt.exceptionSink=A4;Gt.updateListener=cw;Gt.editable=Yl;Gt.mouseSelectionStyle=$4;Gt.dragMovesSelection=k4;Gt.clickAddsSelectionRange=v4;Gt.decorations=u1;Gt.blockWrappers=E4;Gt.outerDecorations=a$;Gt.atomicRanges=$p;Gt.bidiIsolatedRanges=D4;Gt.scrollMargins=B4;Gt.darkTheme=xw;Gt.cspNonce=Zt.define({combine:r=>r.length?r[0]:""});Gt.contentAttributes=o$;Gt.editorAttributes=R4;Gt.lineWrapping=Gt.contentAttributes.of({class:"cm-lineWrapping"});Gt.announce=oi.define();const pI=4096,dP={};let pP=class sB{constructor(t,e,i,n,s,l){this.from=t,this.to=e,this.dir=i,this.isolates=n,this.fresh=s,this.order=l}static update(t,e){if(e.empty&&!t.some(s=>s.fresh))return t;let i=[],n=t.length?t[t.length-1].dir:Ze.LTR;for(let s=Math.max(0,t.length-10);s<t.length;s++){let l=t[s];l.dir==n&&!e.touchesRange(l.from,l.to)&&i.push(new sB(e.mapPos(l.from,1),e.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return i}};function gP(r,t,e){for(let i=r.state.facet(t),n=i.length-1;n>=0;n--){let s=i[n],l=typeof s=="function"?s(r):s;l&&t$(l,e)}return e}const gI=Et.mac?"mac":Et.windows?"win":Et.linux?"linux":"key";function mI(r,t){const e=r.split(/-(?!$)/);let i=e[e.length-1];i=="Space"&&(i=" ");let n,s,l,o;for(let a=0;a<e.length-1;++a){const f=e[a];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))t=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),o&&(i="Meta-"+i),l&&(i="Shift-"+i),i}function am(r,t,e){return t.altKey&&(r="Alt-"+r),t.ctrlKey&&(r="Ctrl-"+r),t.metaKey&&(r="Meta-"+r),e!==!1&&t.shiftKey&&(r="Shift-"+r),r}const OI=a1.default(Gt.domEventHandlers({keydown(r,t){return SI(yI(t.state),r,t,"editor")}})),u$=Zt.define({enables:OI}),mP=new WeakMap;function yI(r){let t=r.facet(u$),e=mP.get(t);return e||mP.set(t,e=xI(t.reduce((i,n)=>i.concat(n),[]))),e}let ia=null;const bI=4e3;function xI(r,t=gI){let e=Object.create(null),i=Object.create(null),n=(l,o)=>{let a=i[l];if(a==null)i[l]=o;else if(a!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,o,a,f,c)=>{var p,m;let O=e[l]||(e[l]=Object.create(null)),y=o.split(/ (?!$)/).map(v=>mI(v,t));for(let v=1;v<y.length;v++){let T=y.slice(0,v).join(" ");n(T,!0),O[T]||(O[T]={preventDefault:!0,stopPropagation:!1,run:[M=>{let N=ia={view:M,prefix:T,scope:l};return setTimeout(()=>{ia==N&&(ia=null)},bI),!0}]})}let S=y.join(" ");n(S,!1);let w=O[S]||(O[S]={preventDefault:!1,stopPropagation:!1,run:((m=(p=O._any)===null||p===void 0?void 0:p.run)===null||m===void 0?void 0:m.slice())||[]});a&&w.run.push(a),f&&(w.preventDefault=!0),c&&(w.stopPropagation=!0)};for(let l of r){let o=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let f of o){let c=e[f]||(e[f]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=l;for(let m in c)c[m].run.push(O=>p(O,kw))}let a=l[t]||l.key;if(a)for(let f of o)s(f,a,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(f,"Shift-"+a,l.shift,l.preventDefault,l.stopPropagation)}return e}let kw=null;function SI(r,t,e,i){kw=t;let n=o4(t),s=u7(n,0),l=f7(s)==n.length&&n!=" ",o="",a=!1,f=!1,c=!1;ia&&ia.view==e&&ia.scope==i&&(o=ia.prefix+" ",q4.indexOf(t.keyCode)<0&&(f=!0,ia=null));let p=new Set,m=w=>{if(w){for(let v of w.run)if(!p.has(v)&&(p.add(v),v(e)))return w.stopPropagation&&(c=!0),!0;w.preventDefault&&(w.stopPropagation&&(c=!0),f=!0)}return!1},O=r[i],y,S;return O&&(m(O[o+am(n,t,!l)])?a=!0:l&&(t.altKey||t.metaKey||t.ctrlKey)&&!(Et.windows&&t.ctrlKey&&t.altKey)&&!(Et.mac&&t.altKey&&!(t.ctrlKey||t.metaKey))&&(y=no[t.keyCode])&&y!=n?(m(O[o+am(y,t,!0)])||t.shiftKey&&(S=Nd[t.keyCode])!=n&&S!=y&&m(O[o+am(S,t,!1)]))&&(a=!0):l&&t.shiftKey&&m(O[o+am(n,t,!0)])&&(a=!0),!a&&m(O._any)&&(a=!0)),f&&(a=!0),a&&c&&t.stopPropagation(),kw=null,a}function wI(){return kI}const vI=Oe.line({class:"cm-activeLine"}),kI=so.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let t=-1,e=[];for(let i of r.state.selection.ranges){let n=r.lineBlockAt(i.head);n.from>t&&(e.push(vI.range(n.from)),t=n.from)}return Oe.set(e)}},{decorations:r=>r.decorations});let ya=class extends ma{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}};ya.prototype.elementClass="";ya.prototype.toDOM=void 0;ya.prototype.mapMode=pn.TrackBefore;ya.prototype.startSide=ya.prototype.endSide=-1;ya.prototype.point=!0;const O0=Zt.define(),$I=Zt.define(),y0=Zt.define(),OP=Zt.define({combine:r=>r.some(t=>t)});function AI(r){return[CI]}const CI=so.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(y0).map(t=>new bP(r,t)),this.fixed=!r.state.facet(OP);for(let t of this.gutters)t.config.side=="after"?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let t=this.prevViewport,e=r.view.viewport,i=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(i<(e.to-e.from)*.8)}if(r.geometryChanged){let t=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=t,this.domAfter&&(this.domAfter.style.minHeight=t)}this.view.state.facet(OP)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let t=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let e=Fe.iter(this.view.state.facet(O0),this.view.viewport.from),i=[],n=this.gutters.map(s=>new TI(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let l=!0;for(let o of s.type)if(o.type==Ln.Text&&l){$w(e,i,o.from);for(let a of n)a.line(this.view,o,i);l=!1}else if(o.widget)for(let a of n)a.widget(this.view,o)}else if(s.type==Ln.Text){$w(e,i,s.from);for(let l of n)l.line(this.view,s,i)}else if(s.widget)for(let l of n)l.widget(this.view,s);for(let s of n)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let t=r.startState.facet(y0),e=r.state.facet(y0),i=r.docChanged||r.heightChanged||r.viewportChanged||!Fe.eq(r.startState.facet(O0),r.state.facet(O0),r.view.viewport.from,r.view.viewport.to);if(t==e)for(let n of this.gutters)n.update(r)&&(i=!0);else{i=!0;let n=[];for(let s of e){let l=t.indexOf(s);l<0?n.push(new bP(this.view,s)):(this.gutters[l].update(r),n.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>Gt.scrollMargins.of(t=>{let e=t.plugin(r);if(!e||e.gutters.length==0||!e.fixed)return null;let i=e.dom.offsetWidth*t.scaleX,n=e.domAfter?e.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==Ze.LTR?{left:i,right:n}:{right:i,left:n}})});function yP(r){return Array.isArray(r)?r:[r]}function $w(r,t,e){for(;r.value&&r.from<=e;)r.from==e&&t.push(r.value),r.next()}class TI{constructor(t,e,i){this.gutter=t,this.height=i,this.i=0,this.cursor=Fe.iter(t.markers,e.from)}addElement(t,e,i){let{gutter:n}=this,s=(e.top-this.height)/t.scaleY,l=e.height/t.scaleY;if(this.i==n.elements.length){let o=new lB(t,l,s,i);n.elements.push(o),n.dom.appendChild(o.dom)}else n.elements[this.i].update(t,l,s,i);this.height=e.bottom,this.i++}line(t,e,i){let n=[];$w(this.cursor,n,e.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(t,e,n);s&&n.unshift(s);let l=this.gutter;n.length==0&&!l.config.renderEmptyElements||this.addElement(t,e,n)}widget(t,e){let i=this.gutter.config.widgetMarker(t,e.widget,e),n=i?[i]:null;for(let s of t.state.facet($I)){let l=s(t,e.widget,e);l&&(n||(n=[])).push(l)}n&&this.addElement(t,e,n)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class bP{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in e.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let a=s.getBoundingClientRect();l=(a.top+a.bottom)/2}else l=n.clientY;let o=t.lineBlockAtHeight(l-t.documentTop);e.domEventHandlers[i](t,o,n)&&n.preventDefault()});this.markers=yP(e.markers(t)),e.initialSpacer&&(this.spacer=new lB(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=yP(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],t);n!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[n])}let i=t.view.viewport;return!Fe.eq(this.markers,e,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class lB{constructor(t,e,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,i,n)}update(t,e,i,n){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),QI(this.markers,n)||this.setMarkers(t,n)}setMarkers(t,e){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,l=0;;){let o=l,a=s<e.length?e[s++]:null,f=!1;if(a){let c=a.elementClass;c&&(i+=" "+c);for(let p=l;p<this.markers.length;p++)if(this.markers[p].compare(a)){o=p,f=!0;break}}else o=this.markers.length;for(;l<o;){let c=this.markers[l++];if(c.toDOM){c.destroy(n);let p=n.nextSibling;n.remove(),n=p}}if(!a)break;a.toDOM&&(f?n=n.nextSibling:this.dom.insertBefore(a.toDOM(t),n)),f&&l++}this.dom.className=i,this.markers=e}destroy(){this.setMarkers(null,[])}}function QI(r,t){if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++)if(!r[e].compare(t[e]))return!1;return!0}const PI=Zt.define(),MI=Zt.define(),gu=Zt.define({combine(r){return v7(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i=Object.assign({},t);for(let n in e){let s=i[n],l=e[n];i[n]=s?(o,a,f)=>s(o,a,f)||l(o,a,f):l}return i}})}});class mx extends ya{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Ox(r,t){return r.state.facet(gu).formatNumber(t,r.state)}const RI=y0.compute([gu],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(PI)},lineMarker(t,e,i){return i.some(n=>n.toDOM)?null:new mx(Ox(t,t.state.doc.lineAt(e.from).number))},widgetMarker:(t,e,i)=>{for(let n of t.state.facet(MI)){let s=n(t,e,i);if(s)return s}return null},lineMarkerChange:t=>t.startState.facet(gu)!=t.state.facet(gu),initialSpacer(t){return new mx(Ox(t,xP(t.state.doc.lines)))},updateSpacer(t,e){let i=Ox(e.view,xP(e.view.state.doc.lines));return i==t.number?t:new mx(i)},domEventHandlers:r.facet(gu).domEventHandlers,side:"before"}));function EI(r={}){return[gu.of(r),AI(),RI]}function xP(r){let t=9;for(;t<r;)t=t*10+9;return t}const DI=new class extends ya{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},BI=O0.compute(["selection"],r=>{let t=[],e=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.head).from;n>e&&(e=n,t.push(DI.range(n)))}return Fe.of(t)});function _I(){return BI}let Me=class oB{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){let n=[];return this.decompose(0,t,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(e,this.length,n,1),b0.from(n,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let i=[];return this.decompose(t,e,i,0),b0.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),n=new bd(this),s=new bd(t);for(let l=e,o=e;;){if(n.next(l),s.next(l),l=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(t=1){return new bd(this,t)}iterRange(t,e=this.length){return new aB(this,t,e)}iterLines(t,e){let i;if(t==null)i=this.iter();else{e==null&&(e=this.lines+1);let n=this.line(t).from;i=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new hB(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?oB.empty:t.length<=32?new Hr(t):b0.from(Hr.split(t,[]))}},Hr=class Ms extends Me{constructor(t,e=zI(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,n){for(let s=0;;s++){let l=this.text[s],o=n+l.length;if((e?i:o)>=t)return new NI(n,o,i,l);n=o+1,i++}}decompose(t,e,i,n){let s=t<=0&&e>=this.length?this:new Ms(SP(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(n&1){let l=i.pop(),o=x0(s.text,l.text.slice(),0,s.length);if(o.length<=32)i.push(new Ms(o,l.length+s.length));else{let a=o.length>>1;i.push(new Ms(o.slice(0,a)),new Ms(o.slice(a)))}}else i.push(s)}replace(t,e,i){if(!(i instanceof Ms))return super.replace(t,e,i);let n=x0(this.text,x0(i.text,SP(this.text,0,t)),e),s=this.length+i.length-(e-t);return n.length<=32?new Ms(n,s):b0.from(Ms.split(n,[]),s)}sliceString(t,e=this.length,i=`
`){let n="";for(let s=0,l=0;s<=e&&l<this.text.length;l++){let o=this.text[l],a=s+o.length;s>t&&l&&(n+=i),t<a&&e>s&&(n+=o.slice(Math.max(0,t-s),e-s)),s=a+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],n=-1;for(let s of t)i.push(s),n+=s.length+1,i.length==32&&(e.push(new Ms(i,n)),i=[],n=-1);return n>-1&&e.push(new Ms(i,n)),e}},b0=class ou extends Me{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,n){for(let s=0;;s++){let l=this.children[s],o=n+l.length,a=i+l.lines-1;if((e?a:o)>=t)return l.lineInner(t,e,i,n);n=o+1,i=a+1}}decompose(t,e,i,n){for(let s=0,l=0;l<=e&&s<this.children.length;s++){let o=this.children[s],a=l+o.length;if(t<=a&&e>=l){let f=n&((l<=t?1:0)|(a>=e?2:0));l>=t&&a<=e&&!f?i.push(o):o.decompose(t-l,e-l,i,f)}l=a+1}}replace(t,e,i){if(i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let l=this.children[n],o=s+l.length;if(t>=s&&e<=o){let a=l.replace(t-s,e-s,i),f=this.lines-l.lines+a.lines;if(a.lines<f>>4&&a.lines>f>>6){let c=this.children.slice();return c[n]=a,new ou(c,this.length-(e-t)+i.length)}return super.replace(s,o,a)}s=o+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i=`
`){let n="";for(let s=0,l=0;s<this.children.length&&l<=e;s++){let o=this.children[s],a=l+o.length;l>t&&s&&(n+=i),t<a&&e>l&&(n+=o.sliceString(t-l,e-l,i)),l=a+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof ou))return 0;let i=0,[n,s,l,o]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,s+=e){if(n==l||s==o)return i;let a=this.children[n],f=t.children[s];if(a!=f)return i+a.scanIdentical(f,e);i+=a.length+1}}static from(t,e=t.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let O of t)i+=O.lines;if(i<32){let O=[];for(let y of t)y.flatten(O);return new Hr(O,e)}let n=Math.max(32,i>>5),s=n<<1,l=n>>1,o=[],a=0,f=-1,c=[];function p(O){let y;if(O.lines>s&&O instanceof ou)for(let S of O.children)p(S);else O.lines>l&&(a>l||!a)?(m(),o.push(O)):O instanceof Hr&&a&&(y=c[c.length-1])instanceof Hr&&O.lines+y.lines<=32?(a+=O.lines,f+=O.length+1,c[c.length-1]=new Hr(y.text.concat(O.text),y.length+1+O.length)):(a+O.lines>n&&m(),a+=O.lines,f+=O.length+1,c.push(O))}function m(){a!=0&&(o.push(c.length==1?c[0]:ou.from(c,f)),f=-1,a=c.length=0)}for(let O of t)p(O);return m(),o.length==1?o[0]:new ou(o,e)}};Me.empty=new Hr([""],0);function zI(r){let t=-1;for(let e of r)t+=e.length+1;return t}function x0(r,t,e=0,i=1e9){for(let n=0,s=0,l=!0;s<r.length&&n<=i;s++){let o=r[s],a=n+o.length;a>=e&&(a>i&&(o=o.slice(0,i-n)),n<e&&(o=o.slice(e-n)),l?(t[t.length-1]+=o,l=!1):t.push(o)),n=a+1}return t}function SP(r,t,e){return x0(r,[""],t,e)}let bd=class{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof Hr?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],l=s>>1,o=n instanceof Hr?n.text.length:n.children.length;if(l==(e>0?o:0)){if(i==0)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(e>0?0:1)){if(this.offsets[i]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(n instanceof Hr){let a=n.text[l+(e<0?-1:0)];if(this.offsets[i]+=e,a.length>Math.max(0,t))return this.value=t==0?a:e>0?a.slice(t):a.slice(0,a.length-t),this;t-=a.length}else{let a=n.children[l+(e<0?-1:0)];t>a.length?(t-=a.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(e>0?1:(a instanceof Hr?a.text.length:a.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}},aB=class{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new bd(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=i?n:e<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},hB=class{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:n}=this.inner.next(t);return e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(Me.prototype[Symbol.iterator]=function(){return this.iter()},bd.prototype[Symbol.iterator]=aB.prototype[Symbol.iterator]=hB.prototype[Symbol.iterator]=function(){return this});let NI=class{constructor(t,e,i,n){this.from=t,this.to=e,this.number=i,this.text=n}get length(){return this.to-this.from}},wu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<wu.length;r++)wu[r]+=wu[r-1];function LI(r){for(let t=1;t<wu.length;t+=2)if(wu[t]>r)return wu[t-1]<=r;return!1}function wP(r){return r>=127462&&r<=127487}const vP=8205;function ur(r,t,e=!0,i=!0){return(e?uB:ZI)(r,t,i)}function uB(r,t,e){if(t==r.length)return t;t&&fB(r.charCodeAt(t))&&cB(r.charCodeAt(t-1))&&t--;let i=yx(r,t);for(t+=kP(i);t<r.length;){let n=yx(r,t);if(i==vP||n==vP||e&&LI(n))t+=kP(n),i=n;else if(wP(n)){let s=0,l=t-2;for(;l>=0&&wP(yx(r,l));)s++,l-=2;if(s%2==0)break;t+=2}else break}return t}function ZI(r,t,e){for(;t>0;){let i=uB(r,t-2,e);if(i<t)return i;t--}return 0}function fB(r){return r>=56320&&r<57344}function cB(r){return r>=55296&&r<56320}function yx(r,t){let e=r.charCodeAt(t);if(!cB(e)||t+1==r.length)return e;let i=r.charCodeAt(t+1);return fB(i)?(e-55296<<10)+(i-56320)+65536:e}function kP(r){return r<65536?1:2}const Aw=/\r\n?|\n/;var lr=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(lr||(lr={}));let vu=class S0{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,n=0;e<this.sections.length;){let s=this.sections[e++],l=this.sections[e++];l<0?(t(i,n,s),n+=s):n+=l,i+=s}}iterChangedRanges(t,e=!1){Cw(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];n<0?t.push(i,n):t.push(n,i)}return new S0(t)}composeDesc(t){return this.empty?t:t.empty?this:dB(this,t)}mapDesc(t,e=!1){return t.empty?this:Tw(this,t,e)}mapPos(t,e=-1,i=lr.Simple){let n=0,s=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],a=this.sections[l++],f=n+o;if(a<0){if(f>t)return s+(t-n);s+=o}else{if(i!=lr.Simple&&f>=t&&(i==lr.TrackDel&&n<t&&f>t||i==lr.TrackBefore&&n<t||i==lr.TrackAfter&&f>t))return null;if(f>t||f==t&&e<0&&!o)return t==n||e<0?s:s+a;s+=a}n=f}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return s}touchesRange(t,e=t){for(let i=0,n=0;i<this.sections.length&&n<=e;){let s=this.sections[i++],l=this.sections[i++],o=n+s;if(l>=0&&n<=e&&o>=t)return n<t&&o>e?"cover":!0;n=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+i+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new S0(t)}static create(t){return new S0(t)}},rs=class zo extends vu{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return Cw(this,(e,i,n,s,l)=>t=t.replace(n,n+(i-e),l),!1),t}mapDesc(t,e=!1){return Tw(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let n=0,s=0;n<e.length;n+=2){let l=e[n],o=e[n+1];if(o>=0){e[n]=o,e[n+1]=l;let a=n>>1;for(;i.length<a;)i.push(Me.empty);i.push(l?t.slice(s,s+l):Me.empty)}s+=l}return new zo(e,i)}compose(t){return this.empty?t:t.empty?this:dB(this,t,!0)}map(t,e=!1){return t.empty?this:Tw(this,t,e,!0)}iterChanges(t,e=!1){Cw(this,t,e)}get desc(){return vu.create(this.sections)}filter(t){let e=[],i=[],n=[],s=new Id(this);t:for(let l=0,o=0;;){let a=l==t.length?1e9:t[l++];for(;o<a||o==a&&s.len==0;){if(s.done)break t;let c=Math.min(s.len,a-o);fn(n,c,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;fn(e,c,p),p>0&&ih(i,e,s.text),s.forward(c),o+=c}let f=t[l++];for(;o<f;){if(s.done)break t;let c=Math.min(s.len,f-o);fn(e,c,-1),fn(n,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),o+=c}}return{changes:new zo(e,i),filtered:vu.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],n=this.sections[e+1];n<0?t.push(i):n==0?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let n=[],s=[],l=0,o=null;function a(c=!1){if(!c&&!n.length)return;l<e&&fn(n,e-l,-1);let p=new zo(n,s);o=o?o.compose(p.map(o)):p,n=[],s=[],l=0}function f(c){if(Array.isArray(c))for(let p of c)f(p);else if(c instanceof zo){if(c.length!=e)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${e})`);a(),o=o?o.compose(c.map(o)):c}else{let{from:p,to:m=p,insert:O}=c;if(p>m||p<0||m>e)throw new RangeError(`Invalid change range ${p} to ${m} (in doc of length ${e})`);let y=O?typeof O=="string"?Me.of(O.split(i||Aw)):O:Me.empty,S=y.length;if(p==m&&S==0)return;p<l&&a(),p>l&&fn(n,p-l,-1),fn(n,m-p,S),ih(s,n,y),l=m}}return f(t),a(!o),o}static empty(t){return new zo(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let n=0;n<t.length;n++){let s=t[n];if(typeof s=="number")e.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)e.push(s[0],0);else{for(;i.length<n;)i.push(Me.empty);i[n]=Me.of(s.slice(1)),e.push(s[0],i[n].length)}}}return new zo(e,i)}static createSet(t,e){return new zo(t,e)}};function fn(r,t,e,i=!1){if(t==0&&e<=0)return;let n=r.length-2;n>=0&&e<=0&&e==r[n+1]?r[n]+=t:t==0&&r[n]==0?r[n+1]+=e:i?(r[n]+=t,r[n+1]+=e):r.push(t,e)}function ih(r,t,e){if(e.length==0)return;let i=t.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(e);else{for(;r.length<i;)r.push(Me.empty);r.push(e)}}function Cw(r,t,e){let i=r.inserted;for(let n=0,s=0,l=0;l<r.sections.length;){let o=r.sections[l++],a=r.sections[l++];if(a<0)n+=o,s+=o;else{let f=n,c=s,p=Me.empty;for(;f+=o,c+=a,a&&i&&(p=p.append(i[l-2>>1])),!(e||l==r.sections.length||r.sections[l+1]<0);)o=r.sections[l++],a=r.sections[l++];t(n,f,s,c,p),n=f,s=c}}}function Tw(r,t,e,i=!1){let n=[],s=i?[]:null,l=new Id(r),o=new Id(t);for(let a=0,f=0;;)if(l.ins==-1)a+=l.len,l.next();else if(o.ins==-1&&f<a){let c=Math.min(o.len,a-f);o.forward(c),fn(n,c,-1),f+=c}else if(o.ins>=0&&(l.done||f<a||f==a&&(o.len<l.len||o.len==l.len&&!e))){for(fn(n,o.ins,-1);a>f&&!l.done&&a+l.len<f+o.len;)a+=l.len,l.next();f+=o.len,o.next()}else if(l.ins>=0){let c=0,p=a+l.len;for(;;)if(o.ins>=0&&f>a&&f+o.len<p)c+=o.ins,f+=o.len,o.next();else if(o.ins==-1&&f<p){let m=Math.min(o.len,p-f);c+=m,o.forward(m),f+=m}else break;fn(n,c,l.ins),s&&ih(s,n,l.text),a=p,l.next()}else{if(l.done&&o.done)return s?rs.createSet(n,s):vu.create(n);throw new Error("Mismatched change set lengths")}}function dB(r,t,e=!1){let i=[],n=e?[]:null,s=new Id(r),l=new Id(t);for(let o=!1;;){if(s.done&&l.done)return n?rs.createSet(i,n):vu.create(i);if(s.ins==0)fn(i,s.len,0,o),s.next();else if(l.len==0&&!l.done)fn(i,0,l.ins,o),n&&ih(n,i,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,l.len),f=i.length;if(s.ins==-1){let c=l.ins==-1?-1:l.off?0:l.ins;fn(i,a,c,o),n&&c&&ih(n,i,l.text)}else l.ins==-1?(fn(i,s.off?0:s.len,a,o),n&&ih(n,i,s.textBit(a))):(fn(i,s.off?0:s.len,l.off?0:l.ins,o),n&&!l.off&&ih(n,i,l.text));o=(s.ins>a||l.ins>=0&&l.len>a)&&(o||i.length>f),s.forward2(a),l.forward(a)}}}}let Id=class{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?Me.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?Me.empty:e[i].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}},hm=class Qw{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let t=this.flags&3;return t==3?null:t}get goalColumn(){let t=this.flags>>5;return t==33554431?void 0:t}map(t,e=-1){let i,n;return this.empty?i=n=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new Qw(i,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Bt.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Bt.range(this.anchor,i)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Bt.range(t.anchor,t.head)}static create(t,e,i){return new Qw(t,e,i)}},Bt=class nr{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:nr.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new nr([this.main],0)}addRange(t,e=!0){return nr.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,nr.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new nr(t.ranges.map(e=>hm.fromJSON(e)),t.main)}static single(t,e=t){return new nr([nr.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<t.length;n++){let s=t[n];if(s.empty?s.from<=i:s.from<i)return nr.normalized(t.slice(),e);i=s.to}return new nr(t,e)}static cursor(t,e=0,i,n){return hm.create(t,t,(e==0?0:e<0?4:8)|(i==null?3:Math.min(2,i))|(n??33554431)<<5)}static range(t,e,i){let n=(i??33554431)<<5;return e<t?hm.create(e,t,16|n|8):hm.create(t,e,n|(e>t?4:0))}static normalized(t,e=0){let i=t[e];t.sort((n,s)=>n.from-s.from),e=t.indexOf(i);for(let n=1;n<t.length;n++){let s=t[n],l=t[n-1];if(s.empty?s.from<=l.to:s.from<l.to){let o=l.from,a=Math.max(s.to,l.to);n<=e&&e--,t.splice(--n,2,s.anchor>s.head?nr.range(a,o):nr.range(o,a))}}return new nr(t,e)}};function pB(r,t){for(let e of r.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let f$=0,ye=class gB{constructor(t,e,i,n,s){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=n,this.extensions=s,this.id=f$++,this.default=t([])}static define(t={}){return new gB(t.combine||(e=>e),t.compareInput||((e,i)=>e===i),t.compare||(t.combine?(e,i)=>e===i:c$),!!t.static,t.enables)}of(t){return new w0([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new w0(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new w0(t,this,2,e)}from(t,e){return e||(e=i=>i),this.compute([t],i=>e(i.field(t)))}};function c$(r,t){return r==t||r.length==t.length&&r.every((e,i)=>e===t[i])}let w0=class{constructor(t,e,i,n){this.dependencies=t,this.facet=e,this.type=i,this.value=n,this.id=f$++}dynamicSlot(t){var e;let i=this.value,n=this.facet.compareInput,s=this.id,l=t[s]>>1,o=this.type==2,a=!1,f=!1,c=[];for(let p of this.dependencies)p=="doc"?a=!0:p=="selection"?f=!0:(((e=t[p.id])!==null&&e!==void 0?e:1)&1)==0&&c.push(t[p.id]);return{create(p){return p.values[l]=i(p),1},update(p,m){if(a&&m.docChanged||f&&(m.docChanged||m.selection)||Pw(p,c)){let O=i(p);if(o?!$P(O,p.values[l],n):!n(O,p.values[l]))return p.values[l]=O,1}return 0},reconfigure:(p,m)=>{let O=i(p),y=m.config.address[s];if(y!=null){let S=bO(m,y);if(this.dependencies.every(w=>w instanceof ye?m.facet(w)===p.facet(w):w instanceof Ap?m.field(w,!1)==p.field(w,!1):!0)||(o?$P(O,S,n):n(O,S)))return p.values[l]=S,0}return p.values[l]=O,1}}}};function $P(r,t,e){if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(!e(r[i],t[i]))return!1;return!0}function Pw(r,t){let e=!1;for(let i of t)xd(r,i)&1&&(e=!0);return e}function VI(r,t,e){let i=e.map(a=>r[a.id]),n=e.map(a=>a.type),s=i.filter(a=>!(a&1)),l=r[t.id]>>1;function o(a){let f=[];for(let c=0;c<i.length;c++){let p=bO(a,i[c]);if(n[c]==2)for(let m of p)f.push(m);else f.push(p)}return t.combine(f)}return{create(a){for(let f of i)xd(a,f);return a.values[l]=o(a),1},update(a,f){if(!Pw(a,s))return 0;let c=o(a);return t.compare(c,a.values[l])?0:(a.values[l]=c,1)},reconfigure(a,f){let c=Pw(a,i),p=f.config.facets[t.id],m=f.facet(t);if(p&&!c&&c$(e,p))return a.values[l]=m,0;let O=o(a);return t.compare(O,m)?(a.values[l]=m,0):(a.values[l]=O,1)}}}const AP=ye.define({static:!0});let Ap=class mB{constructor(t,e,i,n,s){this.id=t,this.createF=e,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(t){let e=new mB(f$++,t.create,t.update,t.compare||((i,n)=>i===n),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(AP).find(i=>i.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:i=>(i.values[e]=this.create(i),1),update:(i,n)=>{let s=i.values[e],l=this.updateF(s,n);return this.compareF(s,l)?0:(i.values[e]=l,1)},reconfigure:(i,n)=>n.config.address[this.id]!=null?(i.values[e]=n.field(this),0):(i.values[e]=this.create(i),1)}}init(t){return[this,AP.of({field:this,create:t})]}get extension(){return this}};const au={lowest:4,low:3,default:2,high:1,highest:0};function dc(r){return t=>new OB(t,r)}const XI={highest:dc(au.highest),high:dc(au.high),default:dc(au.default),low:dc(au.low),lowest:dc(au.lowest)};let OB=class{constructor(t,e){this.inner=t,this.prec=e}},yB=class bB{of(t){return new Mw(this,t)}reconfigure(t){return bB.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}},Mw=class{constructor(t,e){this.compartment=t,this.inner=e}},CP=class xB{constructor(t,e,i,n,s,l){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let n=[],s=Object.create(null),l=new Map;for(let m of II(t,e,l))m instanceof Ap?n.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let o=Object.create(null),a=[],f=[];for(let m of n)o[m.id]=f.length<<1,f.push(O=>m.slot(O));let c=i?.config.facets;for(let m in s){let O=s[m],y=O[0].facet,S=c&&c[m]||[];if(O.every(w=>w.type==0))if(o[y.id]=a.length<<1|1,c$(S,O))a.push(i.facet(y));else{let w=y.combine(O.map(v=>v.value));a.push(i&&y.compare(w,i.facet(y))?i.facet(y):w)}else{for(let w of O)w.type==0?(o[w.id]=a.length<<1|1,a.push(w.value)):(o[w.id]=f.length<<1,f.push(v=>w.dynamicSlot(v)));o[y.id]=f.length<<1,f.push(w=>VI(w,y,O))}}let p=f.map(m=>m(o));return new xB(t,l,p,o,a,s)}};function II(r,t,e){let i=[[],[],[],[],[]],n=new Map;function s(l,o){let a=n.get(l);if(a!=null){if(a<=o)return;let f=i[a].indexOf(l);f>-1&&i[a].splice(f,1),l instanceof Mw&&e.delete(l.compartment)}if(n.set(l,o),Array.isArray(l))for(let f of l)s(f,o);else if(l instanceof Mw){if(e.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=t.get(l.compartment)||l.inner;e.set(l.compartment,f),s(f,o)}else if(l instanceof OB)s(l.inner,l.prec);else if(l instanceof Ap)i[o].push(l),l.provides&&s(l.provides,o);else if(l instanceof w0)i[o].push(l),l.facet.extensions&&s(l.facet.extensions,o);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,o)}}return s(r,au.default),i.reduce((l,o)=>l.concat(o))}function xd(r,t){if(t&1)return 2;let e=t>>1,i=r.status[e];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[e]=4;let n=r.computeSlot(r,r.config.dynamicSlots[e]);return r.status[e]=2|n}function bO(r,t){return t&1?r.config.staticValues[t>>1]:r.values[t>>1]}const SB=ye.define(),wB=ye.define({combine:r=>r.some(t=>t),static:!0}),vB=ye.define({combine:r=>r.length?r[0]:void 0,static:!0}),kB=ye.define(),$B=ye.define(),AB=ye.define(),CB=ye.define({combine:r=>r.length?r[0]:!1});let Oh=class{constructor(t,e){this.type=t,this.value=e}static define(){return new jI}},jI=class{of(t){return new Oh(this,t)}},qI=class{constructor(t){this.map=t}of(t){return new sn(this,t)}},sn=class TB{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new TB(this.type,e)}is(t){return this.type==t}static define(t={}){return new qI(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let n of t){let s=n.map(e);s&&i.push(s)}return i}};sn.reconfigure=sn.define();sn.appendConfig=sn.define();let Zn=class Vc{constructor(t,e,i,n,s,l){this.startState=t,this.changes=e,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,i&&pB(i,e.newLength),s.some(o=>o.type==Vc.time)||(this.annotations=s.concat(Vc.time.of(Date.now())))}static create(t,e,i,n,s,l){return new Vc(t,e,i,n,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Vc.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}};Zn.time=Oh.define();Zn.userEvent=Oh.define();Zn.addToHistory=Oh.define();Zn.remote=Oh.define();function WI(r,t){let e=[];for(let i=0,n=0;;){let s,l;if(i<r.length&&(n==t.length||t[n]>=r[i]))s=r[i++],l=r[i++];else if(n<t.length)s=t[n++],l=t[n++];else return e;!e.length||e[e.length-1]<s?e.push(s,l):e[e.length-1]<l&&(e[e.length-1]=l)}}function QB(r,t,e){var i;let n,s,l;return e?(n=t.changes,s=rs.empty(t.changes.length),l=r.changes.compose(t.changes)):(n=t.changes.map(r.changes),s=r.changes.mapDesc(t.changes,!0),l=r.changes.compose(n)),{changes:l,selection:t.selection?t.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:sn.mapEffects(r.effects,n).concat(sn.mapEffects(t.effects,s)),annotations:r.annotations.length?r.annotations.concat(t.annotations):t.annotations,scrollIntoView:r.scrollIntoView||t.scrollIntoView}}function Rw(r,t,e){let i=t.selection,n=ku(t.annotations);return t.userEvent&&(n=n.concat(Zn.userEvent.of(t.userEvent))),{changes:t.changes instanceof rs?t.changes:rs.of(t.changes||[],e,r.facet(vB)),selection:i&&(i instanceof Bt?i:Bt.single(i.anchor,i.head)),effects:ku(t.effects),annotations:n,scrollIntoView:!!t.scrollIntoView}}function PB(r,t,e){let i=Rw(r,t.length?t[0]:{},r.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let s=1;s<t.length;s++){t[s].filter===!1&&(e=!1);let l=!!t[s].sequential;i=QB(i,Rw(r,t[s],l?i.changes.newLength:r.doc.length),l)}let n=Zn.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return HI(e?YI(n):n)}function YI(r){let t=r.startState,e=!0;for(let n of t.facet(kB)){let s=n(r);if(s===!1){e=!1;break}Array.isArray(s)&&(e=e===!0?s:WI(e,s))}if(e!==!0){let n,s;if(e===!1)s=r.changes.invertedDesc,n=rs.empty(t.doc.length);else{let l=r.changes.filter(e);n=l.changes,s=l.filtered.invertedDesc}r=Zn.create(t,n,r.selection&&r.selection.map(s),sn.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=t.facet($B);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof Zn?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Zn?r=s[0]:r=PB(t,ku(s),!1)}return r}function HI(r){let t=r.startState,e=t.facet(AB),i=r;for(let n=e.length-1;n>=0;n--){let s=e[n](r);s&&Object.keys(s).length&&(i=QB(r,Rw(t,s,r.changes.newLength),!0))}return i==r?r:Zn.create(t,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const UI=[];function ku(r){return r==null?UI:Array.isArray(r)?r:[r]}var Fl=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(Fl||(Fl={}));const GI=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ew;try{Ew=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function FI(r){if(Ew)return Ew.test(r);for(let t=0;t<r.length;t++){let e=r[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||GI.test(e)))return!0}return!1}function KI(r){return t=>{if(!/\S/.test(t))return Fl.Space;if(FI(t))return Fl.Word;for(let e=0;e<r.length;e++)if(t.indexOf(r[e])>-1)return Fl.Word;return Fl.Other}}let Vn=class Xr{constructor(t,e,i,n,s,l){this.config=t,this.doc=e,this.selection=i,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)xd(this,o<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(i==null){if(e)throw new RangeError("Field is not present in this state");return}return xd(this,i),bO(this,i)}update(...t){return PB(this,t,!0)}applyTransaction(t){let e=this.config,{base:i,compartments:n}=e;for(let l of t.effects)l.is(yB.reconfigure)?(e&&(n=new Map,e.compartments.forEach((o,a)=>n.set(a,o)),e=null),n.set(l.value.compartment,l.value.extension)):l.is(sn.reconfigure)?(e=null,i=l.value):l.is(sn.appendConfig)&&(e=null,i=ku(i).concat(l.value));let s;e?s=t.startState.values.slice():(e=CP.resolve(i,n,this),s=new Xr(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(o,a)=>a.reconfigure(o,this),null).values),new Xr(e,t.newDoc,t.newSelection,s,(l,o)=>o.update(l,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:Bt.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),n=this.changes(i.changes),s=[i.range],l=ku(i.effects);for(let o=1;o<e.ranges.length;o++){let a=t(e.ranges[o]),f=this.changes(a.changes),c=f.map(n);for(let m=0;m<o;m++)s[m]=s[m].map(c);let p=n.mapDesc(f,!0);s.push(a.range.map(p)),n=n.compose(c),l=sn.mapEffects(l,c).concat(sn.mapEffects(ku(a.effects),p))}return{changes:n,selection:Bt.create(s,e.mainIndex),effects:l}}changes(t=[]){return t instanceof rs?t:rs.of(t,this.doc.length,this.facet(Xr.lineSeparator))}toText(t){return Me.of(t.split(this.facet(Xr.lineSeparator)||Aw))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(xd(this,e),bO(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let n=t[i];n instanceof Ap&&(e[i]=n.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i)for(let s in i){let l=i[s],o=t[s];n.push(l.init(a=>l.spec.fromJSON(o,a)))}return Xr.create({doc:t.doc,selection:Bt.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=CP.resolve(t.extensions||[],new Map),i=t.doc instanceof Me?t.doc:Me.of((t.doc||"").split(e.staticFacet(Xr.lineSeparator)||Aw)),n=t.selection?t.selection instanceof Bt?t.selection:Bt.single(t.selection.anchor,t.selection.head):Bt.single(0);return pB(n,i.length),e.staticFacet(wB)||(n=n.asSingle()),new Xr(e,i,n,e.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(Xr.tabSize)}get lineBreak(){return this.facet(Xr.lineSeparator)||`
`}get readOnly(){return this.facet(CB)}phrase(t,...e){for(let i of this.facet(Xr.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return s>e.length?i:e[s-1]})),t}languageDataAt(t,e,i=-1){let n=[];for(let s of this.facet(SB))for(let l of s(this,e,i))Object.prototype.hasOwnProperty.call(l,t)&&n.push(l[t]);return n}charCategorizer(t){return KI(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:n}=this.doc.lineAt(t),s=this.charCategorizer(t),l=t-i,o=t-i;for(;l>0;){let a=ur(e,l,!1);if(s(e.slice(a,l))!=Fl.Word)break;l=a}for(;o<n;){let a=ur(e,o);if(s(e.slice(o,a))!=Fl.Word)break;o=a}return l==o?null:Bt.range(l+i,o+i)}};Vn.allowMultipleSelections=wB;Vn.tabSize=ye.define({combine:r=>r.length?r[0]:4});Vn.lineSeparator=vB;Vn.readOnly=CB;Vn.phrases=ye.define({compare(r,t){let e=Object.keys(r),i=Object.keys(t);return e.length==i.length&&e.every(n=>r[n]==t[n])}});Vn.languageData=SB;Vn.changeFilter=kB;Vn.transactionFilter=$B;Vn.transactionExtender=AB;yB.reconfigure=sn.define();function JI(r,t,e={}){let i={};for(let n of r)for(let s of Object.keys(n)){let l=n[s],o=i[s];if(o===void 0)i[s]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(e,s))i[s]=e[s](o,l);else throw new Error("Config merge conflict for field "+s)}for(let n in t)i[n]===void 0&&(i[n]=t[n]);return i}let Xu=class{eq(t){return this==t}range(t,e=t){return Dw.create(t,e,this)}};Xu.prototype.startSide=Xu.prototype.endSide=0;Xu.prototype.point=!1;Xu.prototype.mapMode=lr.TrackDel;let Dw=class MB{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new MB(t,e,i)}};function Bw(r,t){return r.from-t.from||r.value.startSide-t.value.startSide}let tj=class RB{constructor(t,e,i,n){this.from=t,this.to=e,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,n=0){let s=i?this.to:this.from;for(let l=n,o=s.length;;){if(l==o)return l;let a=l+o>>1,f=s[a]-t||(i?this.value[a].endSide:this.value[a].startSide)-e;if(a==l)return f>=0?l:o;f>=0?o=a:l=a+1}}between(t,e,i,n){for(let s=this.findIndex(e,-1e9,!0),l=this.findIndex(i,1e9,!1,s);s<l;s++)if(n(this.from[s]+t,this.to[s]+t,this.value[s])===!1)return!1}map(t,e){let i=[],n=[],s=[],l=-1,o=-1;for(let a=0;a<this.value.length;a++){let f=this.value[a],c=this.from[a]+t,p=this.to[a]+t,m,O;if(c==p){let y=e.mapPos(c,f.startSide,f.mapMode);if(y==null||(m=O=y,f.startSide!=f.endSide&&(O=e.mapPos(c,f.endSide),O<m)))continue}else if(m=e.mapPos(c,f.startSide),O=e.mapPos(p,f.endSide),m>O||m==O&&f.startSide>0&&f.endSide<=0)continue;(O-m||f.endSide-f.startSide)<0||(l<0&&(l=m),f.point&&(o=Math.max(o,O-m)),i.push(f),n.push(m-l),s.push(O-l))}return{mapped:i.length?new RB(n,s,i,o):null,pos:l}}},In=class hu{constructor(t,e,i,n){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=n}static create(t,e,i,n){return new hu(t,e,i,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=t,l=t.filter;if(e.length==0&&!l)return this;if(i&&(e=e.slice().sort(Bw)),this.isEmpty)return e.length?hu.of(e):this;let o=new DB(this,null,-1).goto(0),a=0,f=[],c=new TP;for(;o.value||a<e.length;)if(a<e.length&&(o.from-e[a].from||o.startSide-e[a].value.startSide)>=0){let p=e[a++];c.addInner(p.from,p.to,p.value)||f.push(p)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(o.chunkIndex)<e[a].from)&&(!l||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||n>o.to||s<o.from||l(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||f.push(Dw.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!f.length?hu.empty:this.nextLayer.update({add:f,filter:l,filterFrom:n,filterTo:s}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],n=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],a=this.chunk[l],f=t.touchesRange(o,o+a.length);if(f===!1)n=Math.max(n,a.maxPoint),e.push(a),i.push(t.mapPos(o));else if(f===!0){let{mapped:c,pos:p}=a.map(o,t);c&&(n=Math.max(n,c.maxPoint),e.push(c),i.push(p))}}let s=this.nextLayer.map(t);return e.length==0?s:new hu(i,e,s||hu.empty,n)}between(t,e,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],l=this.chunk[n];if(e>=s&&t<=s+l.length&&l.between(s,t-s,e-s,i)===!1)return}this.nextLayer.between(t,e,i)}}iter(t=0){return _w.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return _w.from(t).goto(e)}static compare(t,e,i,n,s=-1){let l=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),a=QP(l,o,i),f=new pc(l,a,s),c=new pc(o,a,s);i.iterGaps((p,m,O)=>PP(f,p,c,m,O,n)),i.empty&&i.length==0&&PP(f,0,c,0,0,n)}static eq(t,e,i=0,n){n==null&&(n=1e9);let s=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0),l=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let o=QP(s,l),a=new pc(s,o,0).goto(i),f=new pc(l,o,0).goto(i);for(;;){if(a.to!=f.to||!zw(a.active,f.active)||a.point&&(!f.point||!a.point.eq(f.point)))return!1;if(a.to>n)return!0;a.next(),f.next()}}static spans(t,e,i,n,s=-1){let l=new pc(t,null,s).goto(e),o=e,a=l.openStart;for(;;){let f=Math.min(l.to,i);if(l.point?(n.point(o,f,l.point,l.activeForPoint(l.to),a,l.pointRank),a=l.openEnd(f)+(l.to>f?1:0)):f>o&&(n.span(o,f,l.active,a),a=l.openEnd(f)),l.to>i)break;o=l.to,l.next()}return a}static of(t,e=!1){let i=new TP;for(let n of t instanceof Dw?[t]:e?ej(t):t)i.add(n.from,n.to,n.value);return i.finish()}};In.empty=new In([],[],null,-1);function ej(r){if(r.length>1)for(let t=r[0],e=1;e<r.length;e++){let i=r[e];if(Bw(t,i)>0)return r.slice().sort(Bw);t=i}return r}In.empty.nextLayer=In.empty;let TP=class EB{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new tj(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new EB)).add(t,e,i)}addInner(t,e,i){let n=t-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(In.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=In.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}};function QP(r,t,e){let i=new Map;for(let s of r)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&i.set(s.chunk[l],s.chunkPos[l]);let n=new Set;for(let s of t)for(let l=0;l<s.chunk.length;l++){let o=i.get(s.chunk[l]);o!=null&&(e?e.mapPos(o):o)==s.chunkPos[l]&&!e?.touchesRange(o,o+s.chunk[l].length)&&n.add(s.chunk[l])}return n}let DB=class{constructor(t,e,i,n=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<t||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}},_w=class BB{constructor(t){this.heap=t}static from(t,e=null,i=-1){let n=[];for(let s=0;s<t.length;s++)for(let l=t[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=i&&n.push(new DB(l,e,i,s));return n.length==1?n[0]:new BB(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)bx(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)bx(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),bx(this.heap,0)}}};function bx(r,t){for(let e=r[t];;){let i=(t<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),e.compare(n)<0)break;r[i]=e,r[t]=n,t=i}}let pc=class{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=_w.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){um(this.active,t),um(this.activeTo,t),um(this.activeRank,t),this.minActive=MP(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:n,rank:s}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=s;)e++;fm(this.active,e,i),fm(this.activeTo,e,n),fm(this.activeRank,e,s),t&&fm(t,e,this.cursor.from),this.minActive=MP(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null,n=0;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>t){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&um(i,s)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(i),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.from<t&&(n=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){let s=0;for(;s<i.length&&i[s]<t;)s++;this.openStart=s+n}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}};function PP(r,t,e,i,n,s){r.goto(t),e.goto(i);let l=i+n,o=i,a=i-t;for(;;){let f=r.to+a-e.to||r.endSide-e.endSide,c=f<0?r.to+a:e.to,p=Math.min(c,l);if(r.point||e.point?r.point&&e.point&&(r.point==e.point||r.point.eq(e.point))&&zw(r.activeForPoint(r.to+a),e.activeForPoint(e.to))||s.comparePoint(o,p,r.point,e.point):p>o&&!zw(r.active,e.active)&&s.compareRange(o,p,r.active,e.active),c>l)break;o=c,f<=0&&r.next(),f>=0&&e.next()}}function zw(r,t){if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!=t[e]&&!r[e].eq(t[e]))return!1;return!0}function um(r,t){for(let e=t,i=r.length-1;e<i;e++)r[e]=r[e+1];r.pop()}function fm(r,t,e){for(let i=r.length-1;i>=t;i--)r[i+1]=r[i];r[t]=e}function MP(r,t){let e=-1,i=1e9;for(let n=0;n<t.length;n++)(t[n]-i||r[n].endSide-r[e].endSide)<0&&(e=n,i=t[n]);return e}function _B(r,t,e=r.length){let i=0;for(let n=0;n<e;)r.charCodeAt(n)==9?(i+=t-i%t,n++):(i++,n=ur(r,n));return i}function ij(r,t,e,i){for(let n=0,s=0;;){if(s>=t)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?e-s%e:1,n=ur(r,n)}return r.length}function xO(r){let t;return r.nodeType==11?t=r.getSelection?r:r.ownerDocument:t=r,t.getSelection()}function Iu(r,t){return t?r==t||r.contains(t.nodeType!=1?t.parentNode:t):!1}function nj(){let r=document.activeElement;for(;r&&r.shadowRoot;)r=r.shadowRoot.activeElement;return r}function Nw(r,t){if(!t.anchorNode)return!1;try{return Iu(r,t.anchorNode)}catch{return!1}}function jd(r){return r.nodeType==3?qd(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function SO(r,t,e,i){return e?RP(r,t,e,i,-1)||RP(r,t,e,i,1):!1}function Lw(r){for(var t=0;;t++)if(r=r.previousSibling,!r)return t}function RP(r,t,e,i,n){for(;;){if(r==e&&t==i)return!0;if(t==(n<0?0:wO(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;t=Lw(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[t+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;t=n<0?wO(r):0}else return!1}}function wO(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}const zB={left:0,right:0,top:0,bottom:0};function p1(r,t){let e=t?r.left:r.right;return{left:e,right:e,top:r.top,bottom:r.bottom}}function rj(r){return{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function sj(r,t,e,i,n,s,l,o){let a=r.ownerDocument,f=a.defaultView;for(let c=r;c;)if(c.nodeType==1){let p,m=c==a.body;if(m)p=rj(f);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let S=c.getBoundingClientRect();p={left:S.left,right:S.left+c.clientWidth,top:S.top,bottom:S.top+c.clientHeight}}let O=0,y=0;if(n=="nearest")t.top<p.top?(y=-(p.top-t.top+l),e>0&&t.bottom>p.bottom+y&&(y=t.bottom-p.bottom+y+l)):t.bottom>p.bottom&&(y=t.bottom-p.bottom+l,e<0&&t.top-y<p.top&&(y=-(p.top+y-t.top+l)));else{let S=t.bottom-t.top,w=p.bottom-p.top;y=(n=="center"&&S<=w?t.top+S/2-w/2:n=="start"||n=="center"&&e<0?t.top-l:t.bottom-w+l)-p.top}if(i=="nearest"?t.left<p.left?(O=-(p.left-t.left+s),e>0&&t.right>p.right+O&&(O=t.right-p.right+O+s)):t.right>p.right&&(O=t.right-p.right+s,e<0&&t.left<p.left+O&&(O=-(p.left+O-t.left+s))):O=(i=="center"?t.left+(t.right-t.left)/2-(p.right-p.left)/2:i=="start"==o?t.left-s:t.right-(p.right-p.left)+s)-p.left,O||y)if(m)f.scrollBy(O,y);else{if(y){let S=c.scrollTop;c.scrollTop+=y,y=c.scrollTop-S}if(O){let S=c.scrollLeft;c.scrollLeft+=O,O=c.scrollLeft-S}t={left:t.left-O,top:t.top-y,right:t.right-O,bottom:t.bottom-y}}if(m)break;c=c.assignedSlot||c.parentNode,i=n="nearest"}else if(c.nodeType==11)c=c.host;else break}let lj=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){this.set(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)}set(t,e,i,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=n}},nu=null;function NB(r){if(r.setActive)return r.setActive();if(nu)return r.focus(nu);let t=[];for(let e=r;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(r.focus(nu==null?{get preventScroll(){return nu={preventScroll:!0},!0}}:void 0),!nu){nu=!1;for(let e=0;e<t.length;){let i=t[e++],n=t[e++],s=t[e++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let EP;function qd(r,t,e=t){let i=EP||(EP=document.createRange());return i.setEnd(r,e),i.setStart(r,t),i}function Sd(r,t,e){let i={key:t,code:t,keyCode:e,which:e,cancelable:!0},n=new KeyboardEvent("keydown",i);n.synthetic=!0,r.dispatchEvent(n);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,r.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function oj(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function LB(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}let En=class Zw{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new Zw(t.parentNode,Lw(t),e)}static after(t,e){return new Zw(t.parentNode,Lw(t)+1,e)}};const d$=[];let Ei=class Vw{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){if(this.dirty&2){let e=this.dom,i=null,n;for(let s of this.children){if(s.dirty){if(!s.dom&&(n=i?i.nextSibling:e.firstChild)){let l=Vw.get(n);(!l||!l.parent&&l.constructor==s.constructor)&&s.reuseDOM(n)}s.sync(t),s.dirty=0}if(n=i?i.nextSibling:e.firstChild,t&&!t.written&&t.node==e&&n!=s.dom&&(t.written=!0),s.dom.parentNode==e)for(;n&&n!=s.dom;)n=DP(n);else e.insertBefore(s.dom,n);i=s.dom}for(n=i?i.nextSibling:e.firstChild,n&&t&&t.node==e&&(t.written=!0);n;)n=DP(n)}else if(this.dirty&1)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let n=wO(t)==0?0:e==0?-1:1;for(;;){let s=t.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(t==s.firstChild?n=-1:n=1),t=s}n<0?i=t:i=t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Vw.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let l=this.children[n];if(l.dom==i)return s;s+=l.length+l.breakAfter}}domBoundsAround(t,e,i=0){let n=-1,s=-1,l=-1,o=-1;for(let a=0,f=i,c=i;a<this.children.length;a++){let p=this.children[a],m=f+p.length;if(f<t&&m>e)return p.domBoundsAround(t,e,f);if(m>=t&&n==-1&&(n=a,s=f),f>e&&p.dom.parentNode==this.dom){l=a,o=c;break}c=m,f=m+p.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),e.dirty&1)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=d$){this.markDirty();for(let n=t;n<e;n++){let s=this.children[n];s.parent==this&&s.destroy()}this.children.splice(t,e-t,...i);for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new ZB(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}merge(t,e,i,n,s,l){return!1}become(t){return!1}getSide(){return 0}destroy(){this.parent=null}};Ei.prototype.breakAfter=0;function DP(r){let t=r.nextSibling;return r.parentNode.removeChild(r),t}let ZB=class{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function VB(r,t,e,i,n,s,l,o,a){let{children:f}=r,c=f.length?f[t]:null,p=s.length?s[s.length-1]:null,m=p?p.breakAfter:l;if(!(t==i&&c&&!l&&!m&&s.length<2&&c.merge(e,n,s.length?p:null,e==0,o,a))){if(i<f.length){let O=f[i];O&&n<O.length?(t==i&&(O=O.split(n),n=0),!m&&p&&O.merge(0,n,p,!0,0,a)?s[s.length-1]=O:(n&&O.merge(0,n,null,!1,0,a),s.push(O))):O?.breakAfter&&(p?p.breakAfter=1:l=1),i++}for(c&&(c.breakAfter=l,e>0&&(!l&&s.length&&c.merge(e,c.length,s[0],!1,o,0)?c.breakAfter=s.shift().breakAfter:(e<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(e,c.length,null,!1,o,0),t++));t<i&&s.length;)if(f[i-1].become(s[s.length-1]))i--,s.pop(),a=s.length?0:o;else if(f[t].become(s[0]))t++,s.shift(),o=s.length?0:a;else break;!s.length&&t&&i<f.length&&!f[t-1].breakAfter&&f[i].merge(0,0,f[t-1],!1,o,a)&&t--,(t<i||s.length)&&r.replaceChildren(t,i,s)}}function XB(r,t,e,i,n,s){let l=r.childCursor(),{i:o,off:a}=l.findPos(e,1),{i:f,off:c}=l.findPos(t,-1),p=t-e;for(let m of i)p+=m.length;r.length+=p,VB(r,f,c,o,a,i,0,n,s)}let ts=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Xw=typeof document<"u"?document:{documentElement:{style:{}}};const Iw=/Edge\/(\d+)/.exec(ts.userAgent),IB=/MSIE \d/.test(ts.userAgent),jw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ts.userAgent),g1=!!(IB||jw||Iw),BP=!g1&&/gecko\/(\d+)/i.test(ts.userAgent),xx=!g1&&/Chrome\/(\d+)/.exec(ts.userAgent),aj="webkitFontSmoothing"in Xw.documentElement.style,jB=!g1&&/Apple Computer/.test(ts.vendor),_P=jB&&(/Mobile\/\w+/.test(ts.userAgent)||ts.maxTouchPoints>2);var It={mac:_P||/Mac/.test(ts.platform),ie:g1,ie_version:IB?Xw.documentMode||6:jw?+jw[1]:Iw?+Iw[1]:0,gecko:BP,gecko_version:BP?+(/Firefox\/(\d+)/.exec(ts.userAgent)||[0,0])[1]:0,chrome:!!xx,chrome_version:xx?+xx[1]:0,ios:_P,android:/Android\b/.test(ts.userAgent),safari:jB,webkit_version:aj?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Xw.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const hj=256;let Wd=class qw extends Ei{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,i){return i&&(!(i instanceof qw)||this.length-(e-t)+i.length>hj)?!1:(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new qw(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new En(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return Yw(this.dom,t,e)}},ch=class Ww extends Ei{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let n of e)n.setParent(this)}setAttrs(t){if(LB(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.dirty|=6)}sync(t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t)}merge(t,e,i,n,s,l){return i&&(!(i instanceof Ww&&i.mark.eq(this.mark))||t&&s<=0||e<this.length&&l<=0)?!1:(XB(this,t,e,i?i.children:[],s-1,l-1),this.markDirty(),!0)}split(t){let e=[],i=0,n=-1,s=0;for(let o of this.children){let a=i+o.length;a>t&&e.push(i<t?o.split(t-i):o),n<0&&i>=t&&(n=s),i=a,s++}let l=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new Ww(this.mark,e,l)}domAtPos(t){return YB(this.dom,this.children,t)}coordsAt(t,e){return UB(this,t,e)}};function Yw(r,t,e){let i=r.nodeValue.length;t>i&&(t=i);let n=t,s=t,l=0;t==0&&e<0||t==i&&e>=0?It.chrome||It.gecko||(t?(n--,l=1):s<i&&(s++,l=-1)):e<0?n--:s<i&&s++;let o=qd(r,n,s).getClientRects();if(!o.length)return zB;let a=o[(l?l<0:e>=0)?0:o.length-1];return It.safari&&!l&&a.width==0&&(a=Array.prototype.find.call(o,f=>f.width)||a),l?p1(a,l<0):a||null}let p$=class Xc extends Ei{constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}static create(t,e,i){return new(t.customView||Xc)(t,e,i)}split(t){let e=Xc.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,i,n,s,l){return i&&(!(i instanceof Xc)||!this.widget.compare(i.widget)||t>0&&s<=0||e<this.length&&l<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}become(t){return t.length==this.length&&t instanceof Xc&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.eq(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return Me.empty;let t=this;for(;t.parent;)t=t.parent;let e=t.editorView,i=e&&e.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):Me.empty}domAtPos(t){return t==0?En.before(this.dom):En.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.dom.getClientRects(),n=null;if(!i.length)return zB;for(let s=t>0?i.length-1:0;n=i[s],!(t>0?s==0:s==i.length-1||n.top<n.bottom);s+=t>0?-1:1);return t==0&&e>0||t==this.length&&e<=0?n:p1(n,t==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},qB=class extends p${domAtPos(t){let{topView:e,text:i}=this.widget;return e?Hw(t,0,e,i,(n,s)=>n.domAtPos(s),n=>new En(i,Math.min(n,i.nodeValue.length))):new En(i,Math.min(t,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){let{topView:i,text:n}=this.widget;return i?WB(t,e,i,n):Math.min(e,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){let{topView:i,text:n}=this.widget;return i?Hw(t,e,i,n,(s,l,o)=>s.coordsAt(l,o),(s,l)=>Yw(n,s,l)):Yw(n,t,e)}destroy(){var t;super.destroy(),(t=this.widget.topView)===null||t===void 0||t.destroy()}get isEditable(){return!0}};function Hw(r,t,e,i,n,s){if(e instanceof ch){for(let l of e.children){let o=Iu(l.dom,i),a=o?i.nodeValue.length:l.length;if(r<a||r==a&&l.getSide()<=0)return o?Hw(r,t,l,i,n,s):n(l,r,t);r-=a}return n(e,e.length,-1)}else return e.dom==i?s(r,t):n(e,r,t)}function WB(r,t,e,i){if(e instanceof ch)for(let n of e.children){let s=0,l=Iu(n.dom,i);if(Iu(n.dom,r))return s+(l?WB(r,t,n,i):n.localPosFromDOM(r,t));s+=l?i.nodeValue.length:n.length}else if(e.dom==i)return Math.min(t,i.nodeValue.length);return e.localPosFromDOM(r,t)}let Uw=class Gw extends Ei{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Gw&&t.side==this.side}split(){return new Gw(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return En.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){let e=this.dom.getBoundingClientRect(),i=uj(this,this.side>0?-1:1);return i&&i.top<e.bottom&&i.bottom>e.top?{left:e.left,right:e.right,top:i.top,bottom:i.bottom}:e}get overrideDOMText(){return Me.empty}};Wd.prototype.children=p$.prototype.children=Uw.prototype.children=d$;function uj(r,t){let e=r.parent,i=e?e.children.indexOf(r):-1;for(;e&&i>=0;)if(t<0?i>0:i<e.children.length){let n=e.children[i+t];if(n instanceof Wd){let s=n.coordsAt(t<0?n.length:0,t);if(s)return s}i+=t}else if(e instanceof ch&&e.parent)i=e.parent.children.indexOf(e)+(t<0?0:1),e=e.parent;else{let n=e.dom.lastChild;if(n&&n.nodeName=="BR")return n.getClientRects()[0];break}}function YB(r,t,e){let i=0;for(let n=0;i<t.length;i++){let s=t[i],l=n+s.length;if(!(l==n&&s.getSide()<=0)){if(e>n&&e<l&&s.dom.parentNode==r)return s.domAtPos(e-n);if(e<=n)break;n=l}}for(;i>0;i--){let n=t[i-1].dom;if(n.parentNode==r)return En.after(n)}return new En(r,0)}function HB(r,t,e){let i,{children:n}=r;e>0&&t instanceof ch&&n.length&&(i=n[n.length-1])instanceof ch&&i.mark.eq(t.mark)?HB(i,t.children[0],e-1):(n.push(t),t.setParent(r)),r.length+=t.length}function UB(r,t,e){for(let s=0,l=0;l<r.children.length;l++){let o=r.children[l],a=s+o.length,f;if((e<=0||a==r.length||o.getSide()>0?a>=t:a>t)&&(t<a||l+1==r.children.length||(f=r.children[l+1]).length||f.getSide()>0)){let c=0;if(a==s){if(o.getSide()<=0)continue;c=e=-o.getSide()}let p=o.coordsAt(Math.max(0,t-s),e);return c&&p?p1(p,e<0):p}s=a}let i=r.dom.lastChild;if(!i)return r.dom.getBoundingClientRect();let n=jd(i);return n[n.length-1]||null}function Fw(r,t){for(let e in r)e=="class"&&t.class?t.class+=" "+r.class:e=="style"&&t.style?t.style+=";"+r.style:t[e]=r[e];return t}function g$(r,t){if(r==t)return!0;if(!r||!t)return!1;let e=Object.keys(r),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n of e)if(i.indexOf(n)==-1||r[n]!==t[n])return!1;return!0}function Kw(r,t,e){let i=null;if(t)for(let n in t)e&&n in e||r.removeAttribute(i=n);if(e)for(let n in e)t&&t[n]==e[n]||r.setAttribute(i=n,e[n]);return!!i}let m1=class{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}destroy(t){}};var Pi=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(Pi||(Pi={}));let Gi=class extends Xu{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(t){return new GB(t)}static widget(t){let e=t.side||0,i=!!t.block;return e+=i?e>0?3e8:-4e8:e>0?1e8:-1e8,new Yd(t,e,e,i,t.widget||null,!1)}static replace(t){let e=!!t.block,i,n;if(t.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:l}=t_(t,e);i=(s?e?-3e8:-1:5e8)-1,n=(l?e?2e8:1:-6e8)+1}return new Yd(t,i,n,e,t.widget||null,!0)}static line(t){return new m$(t)}static set(t,e=!1){return In.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};Gi.none=In.empty;let GB=class FB extends Gi{constructor(t){let{start:e,end:i}=t_(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof FB&&this.tagName==t.tagName&&this.class==t.class&&g$(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}};GB.prototype.point=!1;let m$=class KB extends Gi{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof KB&&g$(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}};m$.prototype.mapMode=lr.TrackBefore;m$.prototype.point=!0;let Yd=class JB extends Gi{constructor(t,e,i,n,s,l){super(e,i,s,t),this.block=n,this.isReplace=l,this.mapMode=n?e<=0?lr.TrackBefore:lr.TrackAfter:lr.TrackDel}get type(){return this.startSide<this.endSide?Pi.WidgetRange:this.startSide<=0?Pi.WidgetBefore:Pi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof JB&&fj(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}};Yd.prototype.point=!0;function t_(r,t=!1){let{inclusiveStart:e,inclusiveEnd:i}=r;return e==null&&(e=r.inclusive),i==null&&(i=r.inclusive),{start:e??t,end:i??t}}function fj(r,t){return r==t||!!(r&&t&&r.compare(t))}function Jw(r,t,e,i=0){let n=e.length-1;n>=0&&e[n]+i>=r?e[n]=Math.max(e[n],t):e.push(r,t)}let Ur=class v0 extends Ei{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,n,s,l){if(i){if(!(i instanceof v0))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),XB(this,t,e,i?i.children:[],s,l),!0}split(t){let e=new v0;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i,off:n}=this.childPos(t);n&&(e.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)e.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){g$(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){HB(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=Fw(e,this.attrs||{})),i&&(this.attrs=Fw({class:i},this.attrs||{}))}domAtPos(t){return YB(this.dom,this.children,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.dirty|=6)}sync(t){var e;this.dom?this.dirty&4&&(LB(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Kw(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t);let i=this.dom.lastChild;for(;i&&Ei.get(i)instanceof ch;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((e=Ei.get(i))===null||e===void 0?void 0:e.isEditable)==!1&&(!It.ios||!this.children.some(n=>n instanceof Wd))){let n=document.createElement("BR");n.cmIgnore=!0,this.dom.appendChild(n)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof Wd))return null;let i=jd(e.dom);if(i.length!=1)return null;t+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,e){return UB(this,t,e)}become(t){return!1}get type(){return Pi.Text}static find(t,e){for(let i=0,n=0;i<t.children.length;i++){let s=t.children[i],l=n+s.length;if(l>=e){if(s instanceof v0)return s;if(l>e)break}n=l+s.breakAfter}return null}},tv=class k0 extends Ei{constructor(t,e,i){super(),this.widget=t,this.length=e,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,n,s,l){return i&&(!(i instanceof k0)||!this.widget.compare(i.widget)||t>0&&s<=0||e<this.length&&l<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?En.before(this.dom):En.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new k0(this.widget,e,this.type);return i.breakAfter=this.breakAfter,i}get children(){return d$}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Me.empty}domBoundsAround(){return null}become(t){return t instanceof k0&&t.type==this.type&&t.widget.constructor==this.widget.constructor?(t.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},cj=class e_{constructor(t,e,i,n){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof tv&&t.type==Pi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ur),this.atCursorPos=!0),this.curLine}flushBuffer(t){this.pendingBuffer&&(this.curLine.append(cm(new Uw(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer([]),this.curLine=null,this.content.push(t)}finish(t){t?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:l,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,t--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(0,i)),this.getLine().append(cm(new Wd(this.text.slice(this.textOff,this.textOff+n)),e),i),this.atCursorPos=!0,this.textOff+=n,t-=n,i=0}}span(t,e,i,n){this.buildText(e-t,i,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,i,n,s,l){if(this.disallowBlockEffectsFor[l]&&i instanceof Yd){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(i instanceof Yd)if(i.block){let{type:a}=i;a==Pi.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new tv(i.widget||new zP("div"),o,a))}else{let a=p$.create(i.widget||new zP("span"),o,i.startSide),f=this.atCursorPos&&!a.isEditable&&s<=n.length&&(t<e||i.startSide>0),c=!a.isEditable&&(t<e||i.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!f&&(this.pendingBuffer=0),this.flushBuffer(n),f&&(p.append(cm(new Uw(1),n),s),s=n.length+Math.max(0,s-n.length)),p.append(cm(a,n),s),this.atCursorPos=c,this.pendingBuffer=c?t<e?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=s)}static build(t,e,i,n,s){let l=new e_(t,e,i,s);return l.openEnd=In.spans(n,e,i,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}};function cm(r,t){for(let e of t)r=new ch(e,[r],r.length);return r}let zP=class extends m1{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}};const i_=ye.define(),n_=ye.define(),r_=ye.define(),s_=ye.define(),ev=ye.define(),l_=ye.define(),o_=ye.define({combine:r=>r.some(t=>t)});let NP=class a_{constructor(t,e="nearest",i="nearest",n=5,s=5){this.range=t,this.y=e,this.x=i,this.yMargin=n,this.xMargin=s}map(t){return t.empty?this:new a_(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}};const LP=sn.define({map:(r,t)=>r.map(t)});function oh(r,t,e){let i=r.facet(s_);i.length?i[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const Cp=ye.define({combine:r=>r.length?r[0]:!0});let dj=0;const Ic=ye.define();let pj=class iv{constructor(t,e,i,n){this.id=t,this.create=e,this.domEventHandlers=i,this.extension=n(this)}static define(t,e){const{eventHandlers:i,provide:n,decorations:s}=e||{};return new iv(dj++,t,i,l=>{let o=[Ic.of(l)];return s&&o.push(Hd.of(a=>{let f=a.plugin(l);return f?s(f):Gi.none})),n&&o.push(n(l)),o})}static fromClass(t,e){return iv.define(i=>new t(i),e)}},Sx=class{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(i){if(oh(e.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){oh(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(i){oh(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const h_=ye.define(),u_=ye.define(),Hd=ye.define(),f_=ye.define(),c_=ye.define(),jc=ye.define();let Ud=class $0{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new $0(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(e.length==0)return t;let i=[];for(let n=0,s=0,l=0,o=0;;n++){let a=n==t.length?null:t[n],f=l-o,c=a?a.fromB:1e9;for(;s<e.length&&e[s]<c;){let p=e[s],m=e[s+1],O=Math.max(o,p),y=Math.min(c,m);if(O<=y&&new $0(O+f,y+f,O,y).addToSet(i),m>c)break;s+=2}if(!a)return i;new $0(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),l=a.toA,o=a.toB}}},ZP=class d_{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=rs.empty(this.startState.doc.length);for(let l of i)this.changes=this.changes.compose(l.changes);let n=[];this.changes.iterChangedRanges((l,o,a,f)=>n.push(new Ud(l,o,a,f))),this.changedRanges=n;let s=t.hasFocus;s!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=s,this.flags|=1)}static create(t,e,i){return new d_(t,e,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};var ln=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(ln||(ln={}));const nv=ln.LTR,gj=ln.RTL;function p_(r){let t=[];for(let e=0;e<r.length;e++)t.push(1<<+r[e]);return t}const mj=p_("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Oj=p_("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),rv=Object.create(null),fs=[];for(let r of["()","[]","{}"]){let t=r.charCodeAt(0),e=r.charCodeAt(1);rv[t]=e,rv[e]=-t}function yj(r){return r<=247?mj[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?Oj[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203||r==8204?256:1}const bj=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;let $u=class{constructor(t,e,i){this.from=t,this.to=e,this.level=i}get dir(){return this.level%2?gj:nv}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,i,n){let s=-1;for(let l=0;l<t.length;l++){let o=t[l];if(o.from<=e&&o.to>=e){if(o.level==i)return l;(s<0||(n!=0?n<0?o.from<e:o.to>e:t[s].level>o.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}};const ni=[];function xj(r,t){let e=r.length,i=t==nv?1:2,n=t==nv?2:1;if(!r||i==1&&!bj.test(r))return g_(e);for(let l=0,o=i,a=i;l<e;l++){let f=yj(r.charCodeAt(l));f==512?f=o:f==8&&a==4&&(f=16),ni[l]=f==4?2:f,f&7&&(a=f),o=f}for(let l=0,o=i,a=i;l<e;l++){let f=ni[l];if(f==128)l<e-1&&o==ni[l+1]&&o&24?f=ni[l]=o:ni[l]=256;else if(f==64){let c=l+1;for(;c<e&&ni[c]==64;)c++;let p=l&&o==8||c<e&&ni[c]==8?a==1?1:8:256;for(let m=l;m<c;m++)ni[m]=p;l=c-1}else f==8&&a==1&&(ni[l]=1);o=f,f&7&&(a=f)}for(let l=0,o=0,a=0,f,c,p;l<e;l++)if(c=rv[f=r.charCodeAt(l)])if(c<0){for(let m=o-3;m>=0;m-=3)if(fs[m+1]==-c){let O=fs[m+2],y=O&2?i:O&4?O&1?n:i:0;y&&(ni[l]=ni[fs[m]]=y),o=m;break}}else{if(fs.length==189)break;fs[o++]=l,fs[o++]=f,fs[o++]=a}else if((p=ni[l])==2||p==1){let m=p==i;a=m?0:1;for(let O=o-3;O>=0;O-=3){let y=fs[O+2];if(y&2)break;if(m)fs[O+2]|=2;else{if(y&4)break;fs[O+2]|=4}}}for(let l=0;l<e;l++)if(ni[l]==256){let o=l+1;for(;o<e&&ni[o]==256;)o++;let a=(l?ni[l-1]:i)==1,f=(o<e?ni[o]:i)==1,c=a==f?a?1:2:i;for(let p=l;p<o;p++)ni[p]=c;l=o-1}let s=[];if(i==1)for(let l=0;l<e;){let o=l,a=ni[l++]!=1;for(;l<e&&a==(ni[l]!=1);)l++;if(a)for(let f=l;f>o;){let c=f,p=ni[--f]!=2;for(;f>o&&p==(ni[f-1]!=2);)f--;s.push(new $u(f,c,p?2:1))}else s.push(new $u(o,l,0))}else for(let l=0;l<e;){let o=l,a=ni[l++]==2;for(;l<e&&a==(ni[l]==2);)l++;s.push(new $u(o,l,a?1:2))}return s}function g_(r){return[new $u(0,r,0)]}let m_="";function Sj(r,t,e,i,n){var s;let l=i.head-r.from,o=-1;if(l==0){if(!n||!r.length)return null;t[0].level!=e&&(l=t[0].side(!1,e),o=0)}else if(l==r.length){if(n)return null;let m=t[t.length-1];m.level!=e&&(l=m.side(!0,e),o=t.length-1)}o<0&&(o=$u.find(t,l,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let a=t[o];l==a.side(n,e)&&(a=t[o+=n?1:-1],l=a.side(!n,e));let f=n==(a.dir==e),c=ur(r.text,l,f);if(m_=r.text.slice(Math.min(l,c),Math.max(l,c)),c!=a.side(n,e))return Bt.cursor(c+r.from,f?-1:1,a.level);let p=o==(n?t.length-1:0)?null:t[o+(n?1:-1)];return!p&&a.level!=e?Bt.cursor(n?r.to:r.from,n?-1:1,e):p&&p.level<a.level?Bt.cursor(p.side(!n,e)+r.from,n?1:-1,p.level):Bt.cursor(c+r.from,n?-1:1,a.level)}const oa="";let O_=class{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Vn.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=oa}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n),this.readNode(n);let s=n.nextSibling;if(s==e)break;let l=Ei.get(n),o=Ei.get(s);(l&&o?l.breakAfter:(l?l.breakAfter:VP(n))||VP(s)&&(n.nodeName!="BR"||n.cmIgnore))&&this.lineBreak(),n=s}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,o;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,i),l=this.lineSeparator.length):(o=n.exec(e))&&(s=o.index,l=o[0].length),this.append(e.slice(i,s<0?e.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let a of this.points)a.node==t&&a.pos>this.text.length&&(a.pos-=l-1);i=s+l}}readNode(t){if(t.cmIgnore)return;let e=Ei.get(t),i=e&&e.overrideDOMText;if(i!=null){this.findPointInside(t,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(t.nodeType==3?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+Math.min(e,i.offset))}};function VP(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}let XP=class{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}},IP=class extends Ei{constructor(t){super(),this.view=t,this.compositionDeco=Gi.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Ur],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ud(0,0,0,t.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every(({fromA:l,toA:o})=>o<this.minWidthFrom||l>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Gi.none:(t.transactions.length||this.dirty)&&(this.compositionDeco=vj(this.view,t.changes)),(It.ie||It.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,n=this.updateDeco(),s=Cj(i,n,t.changes);return e=Ud.extendWithRanges(e,s),this.dirty==0&&e.length==0?!1:(this.updateInner(e,t.startState.doc.length),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=It.chrome||It.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(s),this.dirty=0,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof tv&&s.widget instanceof jP&&n.push(s.dom);i.updateGaps(n)}updateChildren(t,e){let i=this.childCursor(e);for(let n=t.length-1;;n--){let s=n>=0?t[n]:null;if(!s)break;let{fromA:l,toA:o,fromB:a,toB:f}=s,{content:c,breakAtStart:p,openStart:m,openEnd:O}=cj.build(this.view.state.doc,a,f,this.decorations,this.dynamicDecorationMap),{i:y,off:S}=i.findPos(o,1),{i:w,off:v}=i.findPos(l,-1);VB(this,w,v,y,S,c,p,m,O)}}updateSelection(t=!1,e=!1){if(t&&this.view.observer.readSelectionRange(),!(e||this.mayControlSelection())||It.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let n=this.view.state.selection.main,s=this.domAtPos(n.anchor),l=n.empty?s:this.domAtPos(n.head);if(It.gecko&&n.empty&&wj(s)){let a=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(a,s.node.childNodes[s.offset]||null)),s=l=new En(a,0),i=!0}let o=this.view.observer.selectionRange;(i||!o.focusNode||!SO(s.node,s.offset,o.anchorNode,o.anchorOffset)||!SO(l.node,l.offset,o.focusNode,o.focusOffset))&&(this.view.observer.ignore(()=>{It.android&&It.chrome&&this.dom.contains(o.focusNode)&&Tj(o.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=xO(this.root);if(n.empty){if(It.gecko){let f=$j(s.node,s.offset);if(f&&f!=3){let c=b_(s.node,s.offset,f==1?1:-1);c&&(s=new En(c,f==1?0:c.nodeValue.length))}}a.collapse(s.node,s.offset),n.bidiLevel!=null&&o.cursorBidiLevel!=null&&(o.cursorBidiLevel=n.bidiLevel)}else if(a.extend)a.collapse(s.node,s.offset),a.extend(l.node,l.offset);else{let f=document.createRange();n.anchor>n.head&&([s,l]=[l,s]),f.setEnd(l.node,l.offset),f.setStart(s.node,s.offset),a.removeAllRanges(),a.addRange(f)}}),this.view.observer.setSelectionRange(s,l)),this.impreciseAnchor=s.precise?null:new En(o.anchorNode,o.anchorOffset),this.impreciseHead=l.precise?null:new En(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let t=this.view.state.selection.main,e=xO(this.root);if(!t.empty||!t.assoc||!e.modify)return;let i=Ur.find(this,t.head);if(!i)return;let n=i.posAtStart;if(t.head==n||t.head==n+i.length)return;let s=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!s||!l||s.bottom>l.top)return;let o=this.domAtPos(t.head+t.assoc);e.collapse(o.node,o.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Cp)?this.root.activeElement==this.dom:Nw(this.dom,this.view.observer.selectionRange)}nearest(t){for(let e=t;e;){let i=Ei.get(e);if(i&&i.rootView==this)return i;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let n=this.children[e];if(i<n.length||n instanceof Ur)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){for(let i=this.length,n=this.children.length-1;;n--){let s=this.children[n],l=i-s.breakAfter-s.length;if(t>l||t==l&&s.type!=Pi.WidgetBefore&&s.type!=Pi.WidgetAfter&&(!n||e==2||this.children[n-1].breakAfter||this.children[n-1].type==Pi.WidgetBefore&&e>-2))return s.coordsAt(t-l,e);i=l}}measureVisibleLineHeights(t){let e=[],{from:i,to:n}=t,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==ln.LTR;for(let f=0,c=0;c<this.children.length;c++){let p=this.children[c],m=f+p.length;if(m>n)break;if(f>=i){let O=p.dom.getBoundingClientRect();if(e.push(O.height),l){let y=p.dom.lastChild,S=y?jd(y):[];if(S.length){let w=S[S.length-1],v=a?w.right-O.left:O.right-w.left;v>o&&(o=v,this.minWidth=s,this.minWidthFrom=f,this.minWidthTo=m)}}}f=m+p.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?ln.RTL:ln.LTR}measureTextSize(){for(let n of this.children)if(n instanceof Ur){let s=n.measureTextSize();if(s)return s}let t=document.createElement("div"),e,i;return t.className="cm-line",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let n=jd(t.firstChild)[0];e=t.getBoundingClientRect().height,i=n?n.width/27:7,t.remove()}),{lineHeight:e,charWidth:i}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new ZB(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,n=0;;n++){let s=n==e.viewports.length?null:e.viewports[n],l=s?s.from-1:this.length;if(l>i){let o=e.lineBlockAt(l).bottom-e.lineBlockAt(i).top;t.push(Gi.replace({widget:new jP(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,l))}if(!s)break;i=s.to+1}return Gi.set(t)}updateDeco(){let t=this.view.state.facet(Hd).map((e,i)=>(this.dynamicDecorationMap[i]=typeof e=="function")?e(this.view):e);for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){let{range:e}=t,i=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),n;if(!i)return;!e.empty&&(n=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=0,l=0,o=0,a=0;for(let c of this.view.state.facet(c_).map(p=>p(this.view)))if(c){let{left:p,right:m,top:O,bottom:y}=c;p!=null&&(s=Math.max(s,p)),m!=null&&(l=Math.max(l,m)),O!=null&&(o=Math.max(o,O)),y!=null&&(a=Math.max(a,y))}let f={left:i.left-s,top:i.top-o,right:i.right+l,bottom:i.bottom+a};sj(this.view.scrollDOM,f,e.head<e.anchor?-1:1,t.x,t.y,t.xMargin,t.yMargin,this.view.textDirection==ln.LTR)}};function wj(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}let jP=class extends m1{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}};function y_(r){let t=r.observer.selectionRange,e=t.focusNode&&b_(t.focusNode,t.focusOffset,0);if(!e)return null;let i=r.docView.nearest(e);if(!i)return null;if(i instanceof Ur){let n=e;for(;n.parentNode!=i.dom;)n=n.parentNode;let s=n.previousSibling;for(;s&&!Ei.get(s);)s=s.previousSibling;let l=s?Ei.get(s).posAtEnd:i.posAtStart;return{from:l,to:l,node:n,text:e}}else{for(;;){let{parent:s}=i;if(!s)return null;if(s instanceof Ur)break;i=s}let n=i.posAtStart;return{from:n,to:n+i.length,node:i.dom,text:e}}}function vj(r,t){let e=y_(r);if(!e)return Gi.none;let{from:i,to:n,node:s,text:l}=e,o=t.mapPos(i,1),a=Math.max(o,t.mapPos(n,-1)),{state:f}=r,c=s.nodeType==3?s.nodeValue:new O_([],f).readRange(s.firstChild,null).text;if(a-o<c.length)if(f.doc.sliceString(o,Math.min(f.doc.length,o+c.length),oa)==c)a=o+c.length;else if(f.doc.sliceString(Math.max(0,a-c.length),a,oa)==c)o=a-c.length;else return Gi.none;else if(f.doc.sliceString(o,a,oa)!=c)return Gi.none;let p=Ei.get(s);return p instanceof qB?p=p.widget.topView:p&&(p.parent=null),Gi.set(Gi.replace({widget:new kj(s,l,p),inclusive:!0}).range(o,a))}let kj=class extends m1{constructor(t,e,i){super(),this.top=t,this.text=e,this.topView=i}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return qB}};function b_(r,t,e){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&t>0&&e<=0)r=r.childNodes[t-1],t=wO(r);else if(r.nodeType==1&&t<r.childNodes.length&&e>=0)r=r.childNodes[t],t=0;else return null}}function $j(r,t){return r.nodeType!=1?0:(t&&r.childNodes[t-1].contentEditable=="false"?1:0)|(t<r.childNodes.length&&r.childNodes[t].contentEditable=="false"?2:0)}let Aj=class{constructor(){this.changes=[]}compareRange(t,e){Jw(t,e,this.changes)}comparePoint(t,e){Jw(t,e,this.changes)}};function Cj(r,t,e){let i=new Aj;return In.compare(r,t,e,i),i.changes}function Tj(r,t){for(let e=r;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function Qj(r,t,e=1){let i=r.charCategorizer(t),n=r.doc.lineAt(t),s=t-n.from;if(n.length==0)return Bt.cursor(t);s==0?e=1:s==n.length&&(e=-1);let l=s,o=s;e<0?l=ur(n.text,s,!1):o=ur(n.text,s);let a=i(n.text.slice(l,o));for(;l>0;){let f=ur(n.text,l,!1);if(i(n.text.slice(f,l))!=a)break;l=f}for(;o<n.length;){let f=ur(n.text,o);if(i(n.text.slice(o,f))!=a)break;o=f}return Bt.range(l+n.from,o+n.from)}function Pj(r,t){return t.left>r?t.left-r:Math.max(0,r-t.right)}function Mj(r,t){return t.top>r?t.top-r:Math.max(0,r-t.bottom)}function wx(r,t){return r.top<t.bottom-1&&r.bottom>t.top+1}function qP(r,t){return t<r.top?{top:t,left:r.left,right:r.right,bottom:r.bottom}:r}function WP(r,t){return t>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:t}:r}function sv(r,t,e){let i,n,s,l,o,a,f,c;for(let O=r.firstChild;O;O=O.nextSibling){let y=jd(O);for(let S=0;S<y.length;S++){let w=y[S];n&&wx(n,w)&&(w=qP(WP(w,n.bottom),n.top));let v=Pj(t,w),T=Mj(e,w);if(v==0&&T==0)return O.nodeType==3?YP(O,t,e):sv(O,t,e);(!i||l>T||l==T&&s>v)&&(i=O,n=w,s=v,l=T),v==0?e>w.bottom&&(!f||f.bottom<w.bottom)?(o=O,f=w):e<w.top&&(!c||c.top>w.top)&&(a=O,c=w):f&&wx(f,w)?f=WP(f,w.bottom):c&&wx(c,w)&&(c=qP(c,w.top))}}if(f&&f.bottom>=e?(i=o,n=f):c&&c.top<=e&&(i=a,n=c),!i)return{node:r,offset:0};let p=Math.max(n.left,Math.min(n.right,t));if(i.nodeType==3)return YP(i,p,e);if(!s&&i.contentEditable=="true")return sv(i,p,e);let m=Array.prototype.indexOf.call(r.childNodes,i)+(t>=(n.left+n.right)/2?1:0);return{node:r,offset:m}}function YP(r,t,e){let i=r.nodeValue.length,n=-1,s=1e9,l=0;for(let o=0;o<i;o++){let a=qd(r,o,o+1).getClientRects();for(let f=0;f<a.length;f++){let c=a[f];if(c.top==c.bottom)continue;l||(l=t-c.left);let p=(c.top>e?c.top-e:e-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&p<s){let m=t>=(c.left+c.right)/2,O=m;if((It.chrome||It.gecko)&&qd(r,o).getBoundingClientRect().left==c.right&&(O=!m),p<=0)return{node:r,offset:o+(O?1:0)};n=o+(O?1:0),s=p}}}return{node:r,offset:n>-1?n:l>0?r.nodeValue.length:0}}function x_(r,{x:t,y:e},i,n=-1){var s;let l=r.contentDOM.getBoundingClientRect(),o=l.top+r.viewState.paddingTop,a,{docHeight:f}=r.viewState,c=e-o;if(c<0)return 0;if(c>f)return r.state.doc.length;for(let v=r.defaultLineHeight/2,T=!1;a=r.elementAtHeight(c),a.type!=Pi.Text;)for(;c=n>0?a.bottom+v:a.top-v,!(c>=0&&c<=f);){if(T)return i?null:0;T=!0,n=-n}e=o+c;let p=a.from;if(p<r.viewport.from)return r.viewport.from==0?0:i?null:HP(r,l,a,t,e);if(p>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:i?null:HP(r,l,a,t,e);let m=r.dom.ownerDocument,O=r.root.elementFromPoint?r.root:m,y=O.elementFromPoint(t,e);y&&!r.contentDOM.contains(y)&&(y=null),y||(t=Math.max(l.left+1,Math.min(l.right-1,t)),y=O.elementFromPoint(t,e),y&&!r.contentDOM.contains(y)&&(y=null));let S,w=-1;if(y&&((s=r.docView.nearest(y))===null||s===void 0?void 0:s.isEditable)!=!1){if(m.caretPositionFromPoint){let v=m.caretPositionFromPoint(t,e);v&&({offsetNode:S,offset:w}=v)}else if(m.caretRangeFromPoint){let v=m.caretRangeFromPoint(t,e);v&&({startContainer:S,startOffset:w}=v,It.safari&&Rj(S,w,t)&&(S=void 0))}}if(!S||!r.docView.dom.contains(S)){let v=Ur.find(r.docView,p);if(!v)return c>a.top+a.height/2?a.to:a.from;({node:S,offset:w}=sv(v.dom,t,e))}return r.docView.posFromDOM(S,w)}function HP(r,t,e,i,n){let s=Math.round((i-t.left)*r.defaultCharacterWidth);if(r.lineWrapping&&e.height>r.defaultLineHeight*1.5){let o=Math.floor((n-e.top)/r.defaultLineHeight);s+=o*r.viewState.heightOracle.lineLength}let l=r.state.sliceDoc(e.from,e.to);return e.from+ij(l,s,r.state.tabSize)}function Rj(r,t,e){let i;if(r.nodeType!=3||t!=(i=r.nodeValue.length))return!1;for(let n=r.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return qd(r,i-1,i).getBoundingClientRect().left>e}function Ej(r,t,e,i){let n=r.state.doc.lineAt(t.head),s=!i||!r.lineWrapping?null:r.coordsAtPos(t.assoc<0&&t.head>n.from?t.head-1:t.head);if(s){let a=r.dom.getBoundingClientRect(),f=r.textDirectionAt(n.from),c=r.posAtCoords({x:e==(f==ln.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(c!=null)return Bt.cursor(c,e?-1:1)}let l=Ur.find(r.docView,t.head),o=l?e?l.posAtEnd:l.posAtStart:e?n.to:n.from;return Bt.cursor(o,e?-1:1)}function UP(r,t,e,i){let n=r.state.doc.lineAt(t.head),s=r.bidiSpans(n),l=r.textDirectionAt(n.from);for(let o=t,a=null;;){let f=Sj(n,s,l,o,e),c=m_;if(!f){if(n.number==(e?r.state.doc.lines:1))return o;c=`
`,n=r.state.doc.line(n.number+(e?1:-1)),s=r.bidiSpans(n),f=Bt.cursor(e?n.from:n.to)}if(a){if(!a(c))return o}else{if(!i)return f;a=i(c)}o=f}}function Dj(r,t,e){let i=r.state.charCategorizer(t),n=i(e);return s=>{let l=i(s);return n==Fl.Space&&(n=l),n==l}}function Bj(r,t,e,i){let n=t.head,s=e?1:-1;if(n==(e?r.state.doc.length:0))return Bt.cursor(n,t.assoc);let l=t.goalColumn,o,a=r.contentDOM.getBoundingClientRect(),f=r.coordsAtPos(n),c=r.documentTop;if(f)l==null&&(l=f.left-a.left),o=s<0?f.top:f.bottom;else{let O=r.viewState.lineBlockAt(n);l==null&&(l=Math.min(a.right-a.left,r.defaultCharacterWidth*(n-O.from))),o=(s<0?O.top:O.bottom)+c}let p=a.left+l,m=i??r.defaultLineHeight>>1;for(let O=0;;O+=10){let y=o+(m+O)*s,S=x_(r,{x:p,y},!1,s);if(y<a.top||y>a.bottom||(s<0?S<n:S>n))return Bt.cursor(S,t.assoc,void 0,l)}}function vx(r,t,e){let i=r.state.facet(f_).map(n=>n(r));for(;;){let n=!1;for(let s of i)s.between(e.from-1,e.from+1,(l,o,a)=>{e.from>l&&e.from<o&&(e=t.from>e.from?Bt.cursor(l,1):Bt.cursor(o,-1),n=!0)});if(!n)return e}}let _j=class{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let e in Zi){let i=Zi[e];t.contentDOM.addEventListener(e,n=>{!GP(t,n)||this.ignoreDuringComposition(n)||e=="keydown"&&this.keydown(t,n)||(this.mustFlushObserver(n)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,n)?n.preventDefault():i(t,n))}),this.registeredEvents.push(e)}It.chrome&&It.chrome_version>=102&&t.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=t.hasFocus,It.safari&&t.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t,e){var i;let n;this.customHandlers=[];for(let s of e)if(n=(i=s.update(t).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:n});for(let l in n)this.registeredEvents.indexOf(l)<0&&l!="scroll"&&(this.registeredEvents.push(l),t.contentDOM.addEventListener(l,o=>{GP(t,o)&&this.runCustomHandlers(l,t,o)&&o.preventDefault()}))}}runCustomHandlers(t,e,i){for(let n of this.customHandlers){let s=n.handlers[t];if(s)try{if(s.call(n.plugin,i,e)||i.defaultPrevented)return!0}catch(l){oh(e.state,l)}}return!1}runScrollHandlers(t,e){for(let i of this.customHandlers){let n=i.handlers.scroll;if(n)try{n.call(i.plugin,e,t)}catch(s){oh(t.state,s)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(It.android&&It.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return t.observer.delayAndroidKey(e.key,e.keyCode),!0;let i;return It.ios&&(i=S_.find(n=>n.keyCode==e.keyCode))&&!(e.ctrlKey||e.altKey||e.metaKey)&&!e.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(t),250),!0):!1}flushIOSKey(t){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Sd(t.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:It.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(t){return t.type=="keydown"&&t.keyCode!=229||t.type=="compositionend"&&!It.ios}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};const S_=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],zj=[16,17,18,20,91,92,224,225];let Nj=class{constructor(t,e,i,n){this.view=t,this.style=i,this.mustSelect=n,this.lastEvent=e;let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Vn.allowMultipleSelections)&&Lj(t,e),this.dragMove=Zj(t,e),this.dragging=Vj(t,e)&&O$(e)==1?null:!1,this.dragging===!1&&(e.preventDefault(),this.select(e))}move(t){if(t.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=t)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);(this.mustSelect||!e.eq(this.view.state.selection)||e.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:e,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}};function Lj(r,t){let e=r.state.facet(i_);return e.length?e[0](t):It.mac?t.metaKey:t.ctrlKey}function Zj(r,t){let e=r.state.facet(n_);return e.length?e[0](t):It.mac?!t.altKey:!t.ctrlKey}function Vj(r,t){let{main:e}=r.state.selection;if(e.empty)return!1;let i=xO(r.root);if(i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let l=n[s];if(l.left<=t.clientX&&l.right>=t.clientX&&l.top<=t.clientY&&l.bottom>=t.clientY)return!0}return!1}function GP(r,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,i;e!=r.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(i=Ei.get(e))&&i.ignoreEvent(t))return!1;return!0}const Zi=Object.create(null),w_=It.ie&&It.ie_version<15||It.ios&&It.webkit_version<604;function Xj(r){let t=r.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{r.focus(),e.remove(),v_(r,e.value)},50)}function v_(r,t){let{state:e}=r,i,n=1,s=e.toText(t),l=s.lines==e.selection.ranges.length;if(lv!=null&&e.selection.ranges.every(a=>a.empty)&&lv==s.toString()){let a=-1;i=e.changeByRange(f=>{let c=e.doc.lineAt(f.from);if(c.from==a)return{range:f};a=c.from;let p=e.toText((l?s.line(n++).text:t)+e.lineBreak);return{changes:{from:c.from,insert:p},range:Bt.cursor(f.from+p.length)}})}else l?i=e.changeByRange(a=>{let f=s.line(n++);return{changes:{from:a.from,to:a.to,insert:f.text},range:Bt.cursor(a.from+f.length)}}):i=e.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Zi.keydown=(r,t)=>{r.inputState.setSelectionOrigin("select"),t.keyCode==27?r.inputState.lastEscPress=Date.now():zj.indexOf(t.keyCode)<0&&(r.inputState.lastEscPress=0)};let k_=0;Zi.touchstart=(r,t)=>{k_=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Zi.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Zi.mousedown=(r,t)=>{if(r.observer.flush(),k_>Date.now()-2e3&&O$(t)==1)return;let e=null;for(let i of r.state.facet(r_))if(e=i(r,t),e)break;if(!e&&t.button==0&&(e=qj(r,t)),e){let i=r.root.activeElement!=r.contentDOM;i&&r.observer.ignore(()=>NB(r.contentDOM)),r.inputState.startMouseSelection(new Nj(r,t,e,i))}};function FP(r,t,e,i){if(i==1)return Bt.cursor(t,e);if(i==2)return Qj(r.state,t,e);{let n=Ur.find(r.docView,t),s=r.state.doc.lineAt(n?n.posAtEnd:t),l=n?n.posAtStart:s.from,o=n?n.posAtEnd:s.to;return o<r.state.doc.length&&o==s.to&&o++,Bt.range(l,o)}}let $_=(r,t)=>r>=t.top&&r<=t.bottom,KP=(r,t,e)=>$_(t,e)&&r>=e.left&&r<=e.right;function Ij(r,t,e,i){let n=Ur.find(r.docView,t);if(!n)return 1;let s=t-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let l=n.coordsAt(s,-1);if(l&&KP(e,i,l))return-1;let o=n.coordsAt(s,1);return o&&KP(e,i,o)?1:l&&$_(i,l)?-1:1}function JP(r,t){let e=r.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:Ij(r,e,t.clientX,t.clientY)}}const jj=It.ie&&It.ie_version<=11;let tM=null,eM=0,iM=0;function O$(r){if(!jj)return r.detail;let t=tM,e=iM;return tM=r,iM=Date.now(),eM=!t||e>Date.now()-400&&Math.abs(t.clientX-r.clientX)<2&&Math.abs(t.clientY-r.clientY)<2?(eM+1)%3:1}function qj(r,t){let e=JP(r,t),i=O$(t),n=r.state.selection,s=e,l=t;return{update(o){o.docChanged&&(e&&(e.pos=o.changes.mapPos(e.pos)),n=n.map(o.changes),l=null)},get(o,a,f){let c;if(l&&o.clientX==l.clientX&&o.clientY==l.clientY?c=s:(c=s=JP(r,o),l=o),!c||!e)return n;let p=FP(r,c.pos,c.bias,i);if(e.pos!=c.pos&&!a){let m=FP(r,e.pos,e.bias,i),O=Math.min(m.from,p.from),y=Math.max(m.to,p.to);p=O<p.from?Bt.range(O,y):Bt.range(y,O)}return a?n.replaceRange(n.main.extend(p.from,p.to)):f?n.addRange(p):Bt.create([p])}}}Zi.dragstart=(r,t)=>{let{selection:{main:e}}=r.state,{mouseSelection:i}=r.inputState;i&&(i.dragging=e),t.dataTransfer&&(t.dataTransfer.setData("Text",r.state.sliceDoc(e.from,e.to)),t.dataTransfer.effectAllowed="copyMove")};function nM(r,t,e,i){if(!e)return;let n=r.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:s}=r.inputState,l=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,o={from:n,insert:e},a=r.state.changes(l?[l,o]:o);r.focus(),r.dispatch({changes:a,selection:{anchor:a.mapPos(n,-1),head:a.mapPos(n,1)},userEvent:l?"move.drop":"input.drop"})}Zi.drop=(r,t)=>{if(!t.dataTransfer)return;if(r.state.readOnly)return t.preventDefault();let e=t.dataTransfer.files;if(e&&e.length){t.preventDefault();let i=Array(e.length),n=0,s=()=>{++n==e.length&&nM(r,t,i.filter(l=>l!=null).join(r.state.lineBreak),!1)};for(let l=0;l<e.length;l++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[l]=o.result),s()},o.readAsText(e[l])}}else nM(r,t,t.dataTransfer.getData("Text"),!0)};Zi.paste=(r,t)=>{if(r.state.readOnly)return t.preventDefault();r.observer.flush();let e=w_?null:t.clipboardData;e?(v_(r,e.getData("text/plain")),t.preventDefault()):Xj(r)};function Wj(r,t){let e=r.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function Yj(r){let t=[],e=[],i=!1;for(let n of r.selection.ranges)n.empty||(t.push(r.sliceDoc(n.from,n.to)),e.push(n));if(!t.length){let n=-1;for(let{from:s}of r.selection.ranges){let l=r.doc.lineAt(s);l.number>n&&(t.push(l.text),e.push({from:l.from,to:Math.min(r.doc.length,l.to+1)})),n=l.number}i=!0}return{text:t.join(r.lineBreak),ranges:e,linewise:i}}let lv=null;Zi.copy=Zi.cut=(r,t)=>{let{text:e,ranges:i,linewise:n}=Yj(r.state);if(!e&&!n)return;lv=n?e:null;let s=w_?null:t.clipboardData;s?(t.preventDefault(),s.clearData(),s.setData("text/plain",e)):Wj(r,e),t.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function A_(r){setTimeout(()=>{r.hasFocus!=r.inputState.notifiedFocused&&r.update([])},10)}Zi.focus=A_;Zi.blur=r=>{r.observer.clearSelectionRange(),A_(r)};function C_(r,t){if(r.docView.compositionDeco.size){r.inputState.rapidCompositionStart=t;try{r.update([])}finally{r.inputState.rapidCompositionStart=!1}}}Zi.compositionstart=Zi.compositionupdate=r=>{r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0,r.docView.compositionDeco.size&&(r.observer.flush(),C_(r,!0)))};Zi.compositionend=r=>{r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionFirstChange=null,setTimeout(()=>{r.inputState.composing<0&&C_(r,!1)},50)};Zi.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Zi.beforeinput=(r,t)=>{var e;let i;if(It.chrome&&It.android&&(i=S_.find(n=>n.inputType==t.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let n=((e=window.visualViewport)===null||e===void 0?void 0:e.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}};const rM=["pre-wrap","normal","pre-line","break-spaces"];let Hj=class{constructor(){this.doc=Me.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return rM.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(e=!0,this.heightSamples[Math.floor(n*10)]=!0)}return e}refresh(t,e,i,n,s){let l=rM.indexOf(t)>-1,o=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=e,this.charWidth=i,this.lineLength=n,o){this.heightSamples={};for(let a=0;a<s.length;a++){let f=s[a];f<0?a++:this.heightSamples[Math.floor(f*10)]=!0}}return o}},Uj=class{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}},mu=class T_{constructor(t,e,i,n,s){this.from=t,this.length=e,this.top=i,this.height=n,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new T_(this.from,this.length+t.length,this.top,this.height+t.height,e)}};var je=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(je||(je={}));const A0=.001;let el=class C0{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>A0&&(t.heightChanged=!0),this.height=e)}replace(t,e,i){return C0.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let s=this;for(let l=n.length-1;l>=0;l--){let{fromA:o,toA:a,fromB:f,toB:c}=n[l],p=s.lineAt(o,je.ByPosNoHeight,e,0,0),m=p.to>=a?p:s.lineAt(a,je.ByPosNoHeight,e,0,0);for(c+=m.to-a,a=m.to;l>0&&p.from<=n[l-1].toA;)o=n[l-1].fromA,f=n[l-1].fromB,l--,o<p.from&&(p=s.lineAt(o,je.ByPosNoHeight,e,0,0));f+=p.from-o,o=p.from;let O=Kj.build(i,t,f,c);s=s.replace(o,a,O)}return s.updateHeight(i,0)}static empty(){return new Xs(0,0)}static of(t){if(t.length==1)return t[0];let e=0,i=t.length,n=0,s=0;for(;;)if(e==i)if(n>s*2){let o=t[e-1];o.break?t.splice(--e,1,o.left,null,o.right):t.splice(--e,1,o.left,o.right),i+=1+o.break,n-=o.size}else if(s>n*2){let o=t[i];o.break?t.splice(i,1,o.left,null,o.right):t.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(n<s){let o=t[e++];o&&(n+=o.size)}else{let o=t[--i];o&&(s+=o.size)}let l=0;return t[e-1]==null?(l=1,e--):t[e]==null&&(l=1,i++),new Gj(C0.of(t.slice(0,e)),l,C0.of(t.slice(i)))}};el.prototype.size=1;let Q_=class extends el{constructor(t,e,i){super(t,e),this.type=i}blockAt(t,e,i,n){return new mu(n,this.length,i,this.height,this.type)}lineAt(t,e,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(t,e,i,n,s,l){t<=s+this.length&&e>=s&&l(this.blockAt(0,i,n,s))}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(t,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},Xs=class ov extends Q_{constructor(t,e){super(t,e,Pi.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,i){let n=i[0];return i.length==1&&(n instanceof ov||n instanceof Au&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Au?n=new ov(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):el.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setHeight(t,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Au=class Ir extends el{constructor(t){super(t,0)}lines(t,e){let i=t.lineAt(e).number,n=t.lineAt(e+this.length).number;return{firstLine:i,lastLine:n,lineHeight:this.height/(n-i+1)}}blockAt(t,e,i,n){let{firstLine:s,lastLine:l,lineHeight:o}=this.lines(e,n),a=Math.max(0,Math.min(l-s,Math.floor((t-i)/o))),{from:f,length:c}=e.line(s+a);return new mu(f,c,i+o*a,o,Pi.Text)}lineAt(t,e,i,n,s){if(e==je.ByHeight)return this.blockAt(t,i,n,s);if(e==je.ByPosNoHeight){let{from:p,to:m}=i.lineAt(t);return new mu(p,m-p,0,0,Pi.Text)}let{firstLine:l,lineHeight:o}=this.lines(i,s),{from:a,length:f,number:c}=i.lineAt(t);return new mu(a,f,n+o*(c-l),o,Pi.Text)}forEachLine(t,e,i,n,s,l){let{firstLine:o,lineHeight:a}=this.lines(i,s);for(let f=Math.max(t,s),c=Math.min(s+this.length,e);f<=c;){let p=i.lineAt(f);f==t&&(n+=a*(p.number-o)),l(new mu(p.from,p.length,n,a,Pi.Text)),n+=a,f=p.to+1}}replace(t,e,i){let n=this.length-e;if(n>0){let s=i[i.length-1];s instanceof Ir?i[i.length-1]=new Ir(s.length+n):i.push(null,new Ir(n-1))}if(t>0){let s=i[0];s instanceof Ir?i[0]=new Ir(t+s.length):i.unshift(new Ir(t-1),null)}return el.of(i)}decomposeLeft(t,e){e.push(new Ir(t-1),null)}decomposeRight(t,e){e.push(null,new Ir(this.length-t-1))}updateHeight(t,e=0,i=!1,n){let s=e+this.length;if(n&&n.from<=e+this.length&&n.more){let l=[],o=Math.max(e,n.from),a=-1,f=t.heightChanged;for(n.from>e&&l.push(new Ir(n.from-e-1).updateHeight(t,e));o<=s&&n.more;){let p=t.doc.lineAt(o).length;l.length&&l.push(null);let m=n.heights[n.index++];a==-1?a=m:Math.abs(m-a)>=A0&&(a=-2);let O=new Xs(p,m);O.outdated=!1,l.push(O),o+=p+1}o<=s&&l.push(null,new Ir(s-o).updateHeight(t,o));let c=el.of(l);return t.heightChanged=f||a<0||Math.abs(c.height-this.height)>=A0||Math.abs(a-this.lines(t.doc,e).lineHeight)>=A0,c}else(i||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},Gj=class extends el{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return this.flags&1}blockAt(t,e,i,n){let s=i+this.left.height;return t<s?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,s,n+this.left.length+this.break)}lineAt(t,e,i,n,s){let l=n+this.left.height,o=s+this.left.length+this.break,a=e==je.ByHeight?t<l:t<o,f=a?this.left.lineAt(t,e,i,n,s):this.right.lineAt(t,e,i,l,o);if(this.break||(a?f.to<o:f.from>o))return f;let c=e==je.ByPosNoHeight?je.ByPosNoHeight:je.ByPos;return a?f.join(this.right.lineAt(o,c,i,l,o)):this.left.lineAt(o,c,i,n,s).join(f)}forEachLine(t,e,i,n,s,l){let o=n+this.left.height,a=s+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,i,n,s,l),e>=a&&this.right.forEachLine(t,e,i,o,a,l);else{let f=this.lineAt(a,je.ByPos,i,n,s);t<f.from&&this.left.forEachLine(t,f.from-1,i,n,s,l),f.to>=t&&f.from<=e&&l(f),e>f.to&&this.right.forEachLine(f.to+1,e,i,o,a,l)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let s=[];t>0&&this.decomposeLeft(t,s);let l=s.length;for(let o of i)s.push(o);if(t>0&&sM(s,l-1),e<this.length){let o=s.length;this.decomposeRight(e,s),sM(s,o)}return el.of(s)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?el.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:s,right:l}=this,o=e+s.length+this.break,a=null;return n&&n.from<=e+s.length&&n.more?a=s=s.updateHeight(t,e,i,n):s.updateHeight(t,e,i),n&&n.from<=o+l.length&&n.more?a=l=l.updateHeight(t,o,i,n):l.updateHeight(t,o,i),a?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function sM(r,t){let e,i;r[t]==null&&(e=r[t-1])instanceof Au&&(i=r[t+1])instanceof Au&&r.splice(t-1,3,new Au(e.length+1+i.length))}const Fj=5;let Kj=class P_{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let i=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Xs?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Xs(i-this.pos,-1)),this.writtenTo=i,e>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0;n<0&&(n=this.oracle.lineHeight);let s=e-t;i.block?this.addBlock(new Q_(s,n,i.type)):(s||n>=Fj)&&this.addLineDeco(n,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Xs(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new Au(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Xs)return t;let e=new Xs(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type==Pi.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=Pi.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let i=this.ensureLine();i.length+=e,i.collapsed+=e,i.widgetHeight=Math.max(i.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof Xs)&&!this.isCovered?this.nodes.push(new Xs(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=t;for(let n of this.nodes)n instanceof Xs&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(t,e,i,n){let s=new P_(i,t);return In.spans(e,i,n,s,0),s.finish(i)}};function Jj(r,t,e){let i=new tq;return In.compare(r,t,e,i,0),i.changes}let tq=class{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,n){(t<e||i&&i.heightRelevant||n&&n.heightRelevant)&&Jw(t,e,this.changes,5)}};function eq(r,t){let e=r.getBoundingClientRect(),i=Math.max(0,e.left),n=Math.min(innerWidth,e.right),s=Math.max(0,e.top),l=Math.min(innerHeight,e.bottom),o=r.ownerDocument.body;for(let a=r.parentNode;a&&a!=o;)if(a.nodeType==1){let f=a,c=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&c.overflow!="visible"){let p=f.getBoundingClientRect();i=Math.max(i,p.left),n=Math.min(n,p.right),s=Math.max(s,p.top),l=Math.min(l,p.bottom)}a=c.position=="absolute"||c.position=="fixed"?f.offsetParent:f.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-e.left,right:Math.max(i,n)-e.left,top:s-(e.top+t),bottom:Math.max(s,l)-(e.top+t)}}function iq(r,t){let e=r.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}let kx=class{constructor(t,e,i){this.from=t,this.to=e,this.size=i}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],s=e[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(t){return Gi.replace({widget:new nq(this.size,t)}).range(this.from,this.to)}},nq=class extends m1{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}},lM=class{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Hj,this.scaler=hM,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ln.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=t.facet(Hd).filter(e=>typeof e!="function"),this.heightMap=el.empty().applyChanges(this.stateDeco,Me.empty,this.heightOracle.setDoc(t.doc),[new Ud(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Gi.set(this.lineGaps.map(e=>e.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let n=i?e.head:e.anchor;if(!t.some(({from:s,to:l})=>n>=s&&n<=l)){let{from:s,to:l}=this.lineBlockAt(n);t.push(new dm(s,l))}}this.viewports=t.sort((i,n)=>i.from-n.from),this.scaler=this.heightMap.height<=7e6?hM:new lq(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,t=>{this.viewportLines.push(this.scaler.scale==1?t:qc(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Hd).filter(f=>typeof f!="function");let n=t.changedRanges,s=Ud.extendWithRanges(n,Jj(i,this.stateDeco,t?t.changes:rs.empty(this.state.doc.length))),l=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=l&&(t.flags|=2);let o=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<o.from||e.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,e));let a=!t.changes.empty||t.flags&2||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?ln.RTL:ln.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),o=l||this.mustMeasureContent||this.contentDOMHeight!=e.clientHeight;this.contentDOMHeight=e.clientHeight,this.mustMeasureContent=!1;let a=0,f=0,c=parseInt(i.paddingTop)||0,p=parseInt(i.paddingBottom)||0;(this.paddingTop!=c||this.paddingBottom!=p)&&(this.paddingTop=c,this.paddingBottom=p,a|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(n.lineWrapping&&(o=!0),this.editorWidth=t.scrollDOM.clientWidth,a|=8);let m=(this.printing?iq:eq)(e,this.paddingTop),O=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(o=!0)),!this.inView)return 0;let w=e.clientWidth;if((this.contentDOMWidth!=w||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=w,this.editorHeight=t.scrollDOM.clientHeight,a|=8),o){let T=t.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(T)&&(l=!0),l||n.lineWrapping&&Math.abs(w-this.contentDOMWidth)>n.charWidth){let{lineHeight:M,charWidth:N}=t.docView.measureTextSize();l=n.refresh(s,M,N,w/N,T),l&&(t.docView.minWidth=0,a|=8)}O>0&&y>0?f=Math.max(O,y):O<0&&y<0&&(f=Math.min(O,y)),n.heightChanged=!1;for(let M of this.viewports){let N=M.from==this.viewport.from?T:t.docView.measureVisibleLineHeights(M);this.heightMap=this.heightMap.updateHeight(n,0,l,new Uj(M.from,N))}n.heightChanged&&(a|=2)}let v=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(this.viewport=this.getViewport(f,this.scrollTarget)),this.updateForViewport(),(a&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,s=this.state.doc,{visibleTop:l,visibleBottom:o}=this,a=new dm(n.lineAt(l-i*1e3,je.ByHeight,s,0,0).from,n.lineAt(o+(1-i)*1e3,je.ByHeight,s,0,0).to);if(e){let{head:f}=e.range;if(f<a.from||f>a.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=n.lineAt(f,je.ByPos,s,0,0),m;e.y=="center"?m=(p.top+p.bottom)/2-c/2:e.y=="start"||e.y=="nearest"&&f<a.from?m=p.top:m=p.bottom-c,a=new dm(n.lineAt(m-1e3/2,je.ByHeight,s,0,0).from,n.lineAt(m+c+1e3/2,je.ByHeight,s,0,0).to)}}return a}mapViewport(t,e){let i=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new dm(this.heightMap.lineAt(i,je.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(n,je.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,je.ByPos,this.state.doc,0,0),{bottom:s}=this.heightMap.lineAt(e,je.ByPos,this.state.doc,0,0),{visibleTop:l,visibleBottom:o}=this;return(t==0||n<=l-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>l-2*1e3&&s<o+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let n of t)e.touchesRange(n.from,n.to)||i.push(new kx(e.mapPos(n.from),e.mapPos(n.to),n.size));return i}ensureLineGaps(t){let e=[];if(this.defaultTextDirection!=ln.LTR)return e;for(let i of this.viewportLines){if(i.length<4e3)continue;let n=rq(i.from,i.to,this.stateDeco);if(n.total<4e3)continue;let s,l;if(this.heightOracle.lineWrapping){let f=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;s=pm(n,(this.visibleTop-i.top-f)/i.height),l=pm(n,(this.visibleBottom-i.top+f)/i.height)}else{let f=n.total*this.heightOracle.charWidth,c=2e3*this.heightOracle.charWidth;s=pm(n,(this.pixelViewport.left-c)/f),l=pm(n,(this.pixelViewport.right+c)/f)}let o=[];s>i.from&&o.push({from:i.from,to:s}),l<i.to&&o.push({from:l,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&aM(o,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&aM(o,a.to-10,a.to+10);for(let{from:f,to:c}of o)c-f>1e3&&e.push(sq(t,p=>p.from>=i.from&&p.to<=i.to&&Math.abs(p.from-f)<1e3&&Math.abs(p.to-c)<1e3)||new kx(f,c,this.gapSize(i,f,c,n)))}return e}gapSize(t,e,i,n){let s=oM(n,i)-oM(n,e);return this.heightOracle.lineWrapping?t.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(t){kx.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=Gi.set(t.map(e=>e.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];In.spans(t,this.viewport.from,this.viewport.to,{span(n,s){e.push({from:n,to:s})},point(){}},20);let i=e.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=e[s].from||n.to!=e[s].to);return this.visibleRanges=e,i?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||qc(this.heightMap.lineAt(t,je.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(t){return qc(this.heightMap.lineAt(this.scaler.fromDOM(t),je.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(t){return qc(this.heightMap.blockAt(this.scaler.fromDOM(t),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},dm=class{constructor(t,e){this.from=t,this.to=e}};function rq(r,t,e){let i=[],n=r,s=0;return In.spans(e,r,t,{span(){},point(l,o){l>n&&(i.push({from:n,to:l}),s+=l-n),n=o}},20),n<t&&(i.push({from:n,to:t}),s+=t-n),{total:s,ranges:i}}function pm({total:r,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let i=Math.floor(r*e);for(let n=0;;n++){let{from:s,to:l}=t[n],o=l-s;if(i<=o)return s+i;i-=o}}function oM(r,t){let e=0;for(let{from:i,to:n}of r.ranges){if(t<=n){e+=t-i;break}e+=n-i}return e/r.total}function aM(r,t,e){for(let i=0;i<r.length;i++){let n=r[i];if(n.from<e&&n.to>t){let s=[];n.from<t&&s.push({from:n.from,to:t}),n.to>e&&s.push({from:e,to:n.to}),r.splice(i,1,...s),i+=s.length-1}}}function sq(r,t){for(let e of r)if(t(e))return e}const hM={toDOM(r){return r},fromDOM(r){return r},scale:1};let lq=class{constructor(t,e,i){let n=0,s=0,l=0;this.viewports=i.map(({from:o,to:a})=>{let f=e.lineAt(o,je.ByPos,t,0,0).top,c=e.lineAt(a,je.ByPos,t,0,0).bottom;return n+=c-f,{from:o,to:a,top:f,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(e.height-n);for(let o of this.viewports)o.domTop=l+(o.top-s)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.top)return n+(t-i)*this.scale;if(t<=s.bottom)return s.domTop+(t-s.top);i=s.bottom,n=s.domBottom}}fromDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.domTop)return i+(t-n)/this.scale;if(t<=s.domBottom)return s.top+(t-s.domTop);i=s.bottom,n=s.domBottom}}};function qc(r,t){if(t.scale==1)return r;let e=t.toDOM(r.top),i=t.toDOM(r.bottom);return new mu(r.from,r.length,e,i-e,Array.isArray(r.type)?r.type.map(n=>qc(n,t)):r.type)}const gm=ye.define({combine:r=>r.join(" ")}),av=ye.define({combine:r=>r.indexOf(!0)>-1}),hv=Ce.newName(),M_=Ce.newName(),R_=Ce.newName(),E_={"&light":"."+M_,"&dark":"."+R_};function uv(r,t,e){return new Ce(t,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!e||!e[n])throw new RangeError(`Unsupported selector: ${n}`);return e[n]}):r+" "+i}})}const oq=uv("."+hv,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},E_),aq={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},$x=It.ie&&It.ie_version<=11;let hq=class{constructor(t,e,i){this.view=t,this.onChange=e,this.onScrollChanged=i,this.active=!1,this.selectionRange=new lj,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(n=>{for(let s of n)this.queue.push(s);(It.ie&&It.ie_version<=11||It.ios&&t.composing)&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),$x&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(t.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:e}=this,i=this.selectionRange;if(e.state.facet(Cp)?e.root.activeElement!=this.dom:!Nw(e.dom,i))return;let n=i.anchorNode&&e.docView.nearest(i.anchorNode);n&&n.ignoreEvent(t)||((It.ie&&It.ie_version<=11||It.android&&It.chrome)&&!e.state.selection.main.empty&&i.focusNode&&SO(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:t}=this.view,e=xO(t),i=It.safari&&t.nodeType==11&&nj()==this.view.contentDOM&&uq(this.view)||e;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(i.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=e)i.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,aq),$x&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),$x&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Sd(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let t=this.queue;for(let s of this.observer.takeRecords())t.push(s);t.length&&(this.queue=[]);let e=-1,i=-1,n=!1;for(let s of t){let l=this.readMutation(s);l&&(l.typeOver&&(n=!0),e==-1?{from:e,to:i}=l:(e=Math.min(l.from,e),i=Math.max(l.to,i)))}return{from:e,to:i,typeOver:n}}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;t&&this.readSelectionRange();let{from:e,to:i,typeOver:n}=this.processRecords(),s=this.selectionChanged&&Nw(this.dom,this.selectionRange);if(e<0&&!s)return;this.selectionChanged=!1;let l=this.view.state,o=this.onChange(e,i,n);return this.view.state==l&&this.view.update([]),o}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.dirty|=4),t.type=="childList"){let i=uM(e,t.previousSibling||t.target.previousSibling,-1),n=uM(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}destroy(){var t,e,i;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}};function uM(r,t,e){for(;t;){let i=Ei.get(t);if(i&&i.parent==r)return i;let n=t.parentNode;t=n!=r.dom?n:e>0?t.nextSibling:t.previousSibling}return null}function uq(r){let t=null;function e(a){a.preventDefault(),a.stopImmediatePropagation(),t=a.getTargetRanges()[0]}if(r.contentDOM.addEventListener("beforeinput",e,!0),document.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",e,!0),!t)return null;let i=t.startContainer,n=t.startOffset,s=t.endContainer,l=t.endOffset,o=r.docView.domAtPos(r.state.selection.main.anchor);return SO(o.node,o.offset,s,l)&&([i,n,s,l]=[s,l,i,n]),{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:l}}function fq(r,t,e,i){let n,s,l=r.state.selection.main;if(t>-1){let o=r.docView.domBoundsAround(t,e,0);if(!o||r.state.readOnly)return!1;let{from:a,to:f}=o,c=r.docView.impreciseHead||r.docView.impreciseAnchor?[]:dq(r),p=new O_(c,r.state);p.readRange(o.startDOM,o.endDOM);let m=l.from,O=null;(r.inputState.lastKeyCode===8&&r.inputState.lastKeyTime>Date.now()-100||It.android&&p.text.length<f-a)&&(m=l.to,O="end");let y=cq(r.state.doc.sliceString(a,f,oa),p.text,m-a,O);y&&(It.chrome&&r.inputState.lastKeyCode==13&&y.toB==y.from+2&&p.text.slice(y.from,y.toB)==oa+oa&&y.toB--,n={from:a+y.from,to:a+y.toA,insert:Me.of(p.text.slice(y.from,y.toB).split(oa))}),s=pq(c,a)}else if(r.hasFocus||!r.state.facet(Cp)){let o=r.observer.selectionRange,{impreciseHead:a,impreciseAnchor:f}=r.docView,c=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!Iu(r.contentDOM,o.focusNode)?r.state.selection.main.head:r.docView.posFromDOM(o.focusNode,o.focusOffset),p=f&&f.node==o.anchorNode&&f.offset==o.anchorOffset||!Iu(r.contentDOM,o.anchorNode)?r.state.selection.main.anchor:r.docView.posFromDOM(o.anchorNode,o.anchorOffset);(c!=l.head||p!=l.anchor)&&(s=Bt.single(p,c))}if(!n&&!s)return!1;if(!n&&i&&!l.empty&&s&&s.main.empty?n={from:l.from,to:l.to,insert:r.state.doc.slice(l.from,l.to)}:n&&n.from>=l.from&&n.to<=l.to&&(n.from!=l.from||n.to!=l.to)&&l.to-l.from-(n.to-n.from)<=4?n={from:l.from,to:l.to,insert:r.state.doc.slice(l.from,n.from).append(n.insert).append(r.state.doc.slice(n.to,l.to))}:(It.mac||It.android)&&n&&n.from==n.to&&n.from==l.head-1&&n.insert.toString()=="."&&(n={from:l.from,to:l.to,insert:Me.of([" "])}),n){let o=r.state;if(It.ios&&r.inputState.flushIOSKey(r)||It.android&&(n.from==l.from&&n.to==l.to&&n.insert.length==1&&n.insert.lines==2&&Sd(r.contentDOM,"Enter",13)||n.from==l.from-1&&n.to==l.to&&n.insert.length==0&&Sd(r.contentDOM,"Backspace",8)||n.from==l.from&&n.to==l.to+1&&n.insert.length==0&&Sd(r.contentDOM,"Delete",46)))return!0;let a=n.insert.toString();if(r.state.facet(l_).some(p=>p(r,n.from,n.to,a)))return!0;r.inputState.composing>=0&&r.inputState.composing++;let f;if(n.from>=l.from&&n.to<=l.to&&n.to-n.from>=(l.to-l.from)/3&&(!s||s.main.empty&&s.main.from==n.from+n.insert.length)&&r.inputState.composing<0){let p=l.from<n.from?o.sliceDoc(l.from,n.from):"",m=l.to>n.to?o.sliceDoc(n.to,l.to):"";f=o.replaceSelection(r.state.toText(p+n.insert.sliceString(0,void 0,r.state.lineBreak)+m))}else{let p=o.changes(n),m=s&&!o.selection.main.eq(s.main)&&s.main.to<=p.newLength?s.main:void 0;if(o.selection.ranges.length>1&&r.inputState.composing>=0&&n.to<=l.to&&n.to>=l.to-10){let O=r.state.sliceDoc(n.from,n.to),y=y_(r)||r.state.doc.lineAt(l.head),S=l.to-n.to,w=l.to-l.from;f=o.changeByRange(v=>{if(v.from==l.from&&v.to==l.to)return{changes:p,range:m||v.map(p)};let T=v.to-S,M=T-O.length;if(v.to-v.from!=w||r.state.sliceDoc(M,T)!=O||y&&v.to>=y.from&&v.from<=y.to)return{range:v};let N=o.changes({from:M,to:T,insert:n.insert}),P=v.to-l.to;return{changes:N,range:m?Bt.range(Math.max(0,m.anchor+P),Math.max(0,m.head+P)):v.map(N)}})}else f={changes:p,selection:m&&o.selection.replaceRange(m)}}let c="input.type";return r.composing&&(c+=".compose",r.inputState.compositionFirstChange&&(c+=".start",r.inputState.compositionFirstChange=!1)),r.dispatch(f,{scrollIntoView:!0,userEvent:c}),!0}else if(s&&!s.main.eq(l)){let o=!1,a="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),a=r.inputState.lastSelectionOrigin),r.dispatch({selection:s,scrollIntoView:o,userEvent:a}),!0}else return!1}function cq(r,t,e,i){let n=Math.min(r.length,t.length),s=0;for(;s<n&&r.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==n&&r.length==t.length)return null;let l=r.length,o=t.length;for(;l>0&&o>0&&r.charCodeAt(l-1)==t.charCodeAt(o-1);)l--,o--;if(i=="end"){let a=Math.max(0,s-Math.min(l,o));e-=l+a-s}if(l<s&&r.length<t.length){let a=e<=s&&e>=l?s-e:0;s-=a,o=s+(o-l),l=s}else if(o<s){let a=e<=s&&e>=o?s-e:0;s-=a,l=s+(l-o),o=s}return{from:s,toA:l,toB:o}}function dq(r){let t=[];if(r.root.activeElement!=r.contentDOM)return t;let{anchorNode:e,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return e&&(t.push(new XP(e,i)),(n!=e||s!=i)&&t.push(new XP(n,s))),t}function pq(r,t){if(r.length==0)return null;let e=r[0].pos,i=r.length==2?r[1].pos:e;return e>-1&&i>-1?Bt.single(e+t,i+t):null}let mi=class D_{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=t.root||oj(t.parent)||document,this.viewState=new lM(t.state||Vn.create()),this.plugins=this.state.facet(Ic).map(e=>new Sx(e));for(let e of this.plugins)e.update(this);this.observer=new hq(this,(e,i,n)=>fq(this,e,i,n),e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()}),this.inputState=new _j(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new IP(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...t){this._dispatch(t.length==1&&t[0]instanceof Zn?t[0]:this.state.update(...t))}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,i=!1,n,s=this.state;for(let o of t){if(o.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=o.state}if(this.destroyed){this.viewState.state=s;return}if(this.observer.clear(),s.facet(Vn.phrases)!=this.state.facet(Vn.phrases))return this.setState(s);n=ZP.create(this,s,t);let l=this.viewState.scrollTarget;try{this.updateState=2;for(let o of t){if(l&&(l=l.map(o.changes)),o.scrollIntoView){let{main:a}=o.state.selection;l=new NP(a.empty?a:Bt.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of o.effects)a.is(LP)&&(l=a.value)}this.viewState.update(n,l),this.bidiCache=cM.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),e=this.docView.update(n),this.state.facet(jc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(o=>o.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(gm)!=n.state.facet(gm)&&(this.viewState.mustMeasureContent=!0),(e||i||l||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let o of this.state.facet(ev))o(n)}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new lM(t),this.plugins=t.facet(Ic).map(i=>new Sx(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new IP(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Ic),i=t.state.facet(Ic);if(e!=i){let n=[];for(let s of i){let l=e.indexOf(s);if(l<0)n.push(new Sx(s));else{let o=this.plugins[l];o.mustUpdate=t,n.push(o)}}for(let s of this.plugins)s.mustUpdate!=t&&s.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let n of this.plugins)n.mustUpdate=t;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.flush();let e=null;try{for(let i=0;;i++){this.updateState=1;let n=this.viewport,s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];s&4||([this.measureRequests,l]=[l,this.measureRequests]);let o=l.map(p=>{try{return p.read(this)}catch(m){return oh(this.state,m),fM}}),a=ZP.create(this,this.state,[]),f=!1,c=!1;a.flags|=s,e?e.flags|=s:e=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),f=this.docView.update(a));for(let p=0;p<l.length;p++)if(o[p]!=fM)try{let m=l[p];m.write&&m.write(o[p],this)}catch(m){oh(this.state,m)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=!0),f&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!c&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let i of this.state.facet(ev))i(e)}get themeClasses(){return hv+" "+(this.state.facet(av)?R_:M_)+" "+this.state.facet(gm)}updateAttrs(){let t=dM(this,h_,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Cp)?"true":"false",class:"cm-content",style:`${It.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),dM(this,u_,e);let i=this.observer.ignore(()=>{let n=Kw(this.contentDOM,this.contentAttrs,e),s=Kw(this.dom,this.editorAttrs,t);return n||s});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let n of i.effects)if(n.is(D_.announce)){e&&(this.announceDOM.textContent=""),e=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(jc),Ce.mount(this.root,this.styleModules.concat(oq).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),t){if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(i=>i.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return vx(this,t,UP(this,t,e,i))}moveByGroup(t,e){return vx(this,t,UP(this,t,e,i=>Dj(this,t.head,i)))}moveToLineBoundary(t,e,i=!0){return Ej(this,t,e,i)}moveVertically(t,e,i){return vx(this,t,Bj(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),x_(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(t),s=this.bidiSpans(n),l=s[$u.find(s,t-n.from,-1,e)];return p1(i,l.dir==ln.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(o_)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>gq)return g_(t.length);let e=this.textDirectionAt(t.from);for(let n of this.bidiCache)if(n.from==t.from&&n.dir==e)return n.order;let i=xj(t.text,e);return this.bidiCache.push(new cM(t.from,t.to,e,i)),i}get hasFocus(){var t;return(document.hasFocus()||It.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{NB(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return LP.of(new NP(typeof t=="number"?Bt.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}static domEventHandlers(t){return pj.define(()=>({}),{eventHandlers:t})}static theme(t,e){let i=Ce.newName(),n=[gm.of(i),jc.of(uv(`.${i}`,t))];return e&&e.dark&&n.push(av.of(!0)),n}static baseTheme(t){return XI.lowest(jc.of(uv("."+hv,t,E_)))}};mi.styleModule=jc;mi.inputHandler=l_;mi.perLineTextDirection=o_;mi.exceptionSink=s_;mi.updateListener=ev;mi.editable=Cp;mi.mouseSelectionStyle=r_;mi.dragMovesSelection=n_;mi.clickAddsSelectionRange=i_;mi.decorations=Hd;mi.atomicRanges=f_;mi.scrollMargins=c_;mi.darkTheme=av;mi.contentAttributes=u_;mi.editorAttributes=h_;mi.lineWrapping=mi.contentAttributes.of({class:"cm-lineWrapping"});mi.announce=sn.define();const gq=4096,fM={};let cM=class B_{constructor(t,e,i,n){this.from=t,this.to=e,this.dir=i,this.order=n}static update(t,e){if(e.empty)return t;let i=[],n=t.length?t[t.length-1].dir:ln.LTR;for(let s=Math.max(0,t.length-10);s<t.length;s++){let l=t[s];l.dir==n&&!e.touchesRange(l.from,l.to)&&i.push(new B_(e.mapPos(l.from,1),e.mapPos(l.to,-1),l.dir,l.order))}return i}};function dM(r,t,e){for(let i=r.state.facet(t),n=i.length-1;n>=0;n--){let s=i[n],l=typeof s=="function"?s(r):s;l&&Fw(l,e)}return e}const mq=!It.ios,Oq={".cm-line":{}};mq&&(Oq[".cm-line"].caretColor="transparent !important");let ju=class extends Xu{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}};ju.prototype.elementClass="";ju.prototype.toDOM=void 0;ju.prototype.mapMode=lr.TrackBefore;ju.prototype.startSide=ju.prototype.endSide=-1;ju.prototype.point=!0;const yq=1024;let bq=0,Ax=class{constructor(t,e){this.from=t,this.to=e}},ge=class{constructor(t={}){this.id=bq++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=ll.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}};ge.closedBy=new ge({deserialize:r=>r.split(" ")});ge.openedBy=new ge({deserialize:r=>r.split(" ")});ge.group=new ge({deserialize:r=>r.split(" ")});ge.contextHash=new ge({perNode:!0});ge.lookAhead=new ge({perNode:!0});ge.mounted=new ge({perNode:!0});const xq=Object.create(null);let ll=class __{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):xq,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new __(t.name||"",e,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(ge.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return i=>{for(let n=i.prop(ge.group),s=-1;s<(n?n.length:0);s++){let l=e[s<0?i.name:n[s]];if(l)return l}}}};ll.none=new ll("",Object.create(null),0,8);const mm=new WeakMap,pM=new WeakMap;var rn;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(rn||(rn={}));let fr=class fv{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let t=this.prop(ge.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let n=i.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new $O(this.topNode,t)}cursorAt(t,e=0,i=0){let n=mm.get(this)||this.topNode,s=new $O(n);return s.moveTo(t,e),mm.set(this,s._tree),s}get topNode(){return new Gd(this,0,0,null)}resolve(t,e=0){let i=qu(mm.get(this)||this.topNode,t,e,!1);return mm.set(this,i),i}resolveInner(t,e=0){let i=qu(pM.get(this)||this.topNode,t,e,!0);return pM.set(this,i),i}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t;for(let l=this.cursor((t.mode||0)|rn.IncludeAnonymous);;){let o=!1;if(l.from<=s&&l.to>=n&&(l.type.isAnonymous||e(l)!==!1)){if(l.firstChild())continue;o=!0}for(;o&&i&&!l.type.isAnonymous&&i(l),!l.nextSibling();){if(!l.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:b$(ll.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,n)=>new fv(this.type,e,i,n,this.propValues),t.makeTree||((e,i,n)=>new fv(ll.none,e,i,n)))}static build(t){return vq(t)}};fr.empty=new fr(ll.none,[],[],0);let Sq=class z_{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new z_(this.buffer,this.index)}},Tp=class N_{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return ll.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let l=[];for(;t<i;)l.push(this.childString(t)),t=this.buffer[t+3];return s+"("+l.join(",")+")"}findChild(t,e,i,n,s){let{buffer:l}=this,o=-1;for(let a=t;a!=e&&!(L_(s,n,l[a+1],l[a+2])&&(o=a,i>0));a=l[a+3]);return o}slice(t,e,i,n){let s=this.buffer,l=new Uint16Array(e-t);for(let o=t,a=0;o<e;)l[a++]=s[o++],l[a++]=s[o++]-i,l[a++]=s[o++]-i,l[a++]=s[o++]-t;return new N_(l,n-i,this.set)}};function L_(r,t,e,i){switch(r){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function Z_(r,t){let e=r.childBefore(t);for(;e;){let i=e.lastChild;if(!i||i.to!=e.to)break;i.type.isError&&i.from==i.to?(r=e,e=i.prevSibling):e=i}return r}function qu(r,t,e,i){for(var n;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let l=!i&&r instanceof Gd&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=i?0:rn.IgnoreOverlays;if(i)for(let l=r,o=l.parent;o;l=o,o=l.parent)l instanceof Gd&&l.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=l.from&&(r=o);for(;;){let l=r.enter(t,e,s);if(!l)return r;r=l}}let Gd=class T0{constructor(t,e,i,n){this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,s=0){for(let l=this;;){for(let{children:o,positions:a}=l._tree,f=e>0?o.length:-1;t!=f;t+=e){let c=o[t],p=a[t]+l.from;if(L_(n,i,p,p+c.length)){if(c instanceof Tp){if(s&rn.ExcludeBuffers)continue;let m=c.findChild(0,c.buffer.length,e,i-p,n);if(m>-1)return new cv(new wq(l,c,t,p),null,m)}else if(s&rn.IncludeAnonymous||!c.type.isAnonymous||y$(c)){let m;if(!(s&rn.IgnoreMounts)&&c.props&&(m=c.prop(ge.mounted))&&!m.overlay)return new T0(m.tree,p,t,l);let O=new T0(c,p,t,l);return s&rn.IncludeAnonymous||!O.type.isAnonymous?O:O.nextChild(e<0?c.children.length-1:0,e,i,n)}}}if(s&rn.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?t=l.index+e:t=e<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,i=0){let n;if(!(i&rn.IgnoreOverlays)&&(n=this._tree.prop(ge.mounted))&&n.overlay){let s=t-this.from;for(let{from:l,to:o}of n.overlay)if((e>0?l<=s:l<s)&&(e<0?o>=s:o>s))return new T0(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(t=0){return new $O(this,t)}get tree(){return this._tree}toTree(){return this._tree}resolve(t,e=0){return qu(this,t,e,!1)}resolveInner(t,e=0){return qu(this,t,e,!0)}enterUnfinishedNodesBefore(t){return Z_(this,t)}getChild(t,e=null,i=null){let n=vO(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return vO(this,t,e,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(t){return kO(this,t)}};function vO(r,t,e,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(;!n.type.is(e);)if(!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function kO(r,t,e=t.length-1){for(let i=r.parent;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}let wq=class{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}},cv=class Wc{constructor(t,e,i){this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new Wc(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,i=0){if(i&rn.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new Wc(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Wc(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Wc(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}cursor(t=0){return new $O(this,t)}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let l=i.buffer[this.index+1],o=i.buffer[this.index+2];t.push(i.slice(n,s,l,o)),e.push(0)}return new fr(this.type,t,e,this.to-this.from)}resolve(t,e=0){return qu(this,t,e,!1)}resolveInner(t,e=0){return qu(this,t,e,!0)}enterUnfinishedNodesBefore(t){return Z_(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,i=null){let n=vO(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return vO(this,t,e,i)}get node(){return this}matchContext(t){return kO(this,t)}},$O=class{constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Gd)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}get name(){return this.type.name}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return t?t instanceof Gd?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&rn.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&rn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&rn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let s=e+t,l=t<0?-1:i._tree.children.length;s!=l;s+=t){let o=i._tree.children[s];if(this.mode&rn.IncludeAnonymous||o instanceof Tp||!o.type.isAnonymous||y$(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let l=t;l;l=l._parent)if(l.index==n){if(n==this.index)return l;e=l,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new cv(this.buffer,e,this.stack[n]);return this.bufferNode=new cv(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;n&&e&&e(this),n=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return kO(this.node,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return kO(this.node,t,n);let l=i[e.buffer[this.stack[s]]];if(!l.isAnonymous){if(t[n]&&t[n]!=l.name)return!1;n--}}return!0}};function y$(r){return r.children.some(t=>t instanceof Tp||!t.type.isAnonymous||y$(t))}function vq(r){var t;let{buffer:e,nodeSet:i,maxBufferLength:n=yq,reused:s=[],minRepeatType:l=i.types.length}=r,o=Array.isArray(e)?new Sq(e,e.length):e,a=i.types,f=0,c=0;function p(N,P,E,A,V){let{id:D,start:Z,end:z,size:k}=o,L=c;for(;k<0;)if(o.next(),k==-1){let st=s[D];E.push(st),A.push(Z-N);return}else if(k==-3){f=D;return}else if(k==-4){c=D;return}else throw new RangeError(`Unrecognized record size: ${k}`);let $=a[D],j,W,X=Z-N;if(z-Z<=n&&(W=S(o.pos-P,V))){let st=new Uint16Array(W.size-W.skip),F=o.pos-W.size,pt=st.length;for(;o.pos>F;)pt=w(W.start,st,pt);j=new Tp(st,z-W.start,i),X=W.start-N}else{let st=o.pos-k;o.next();let F=[],pt=[],R=D>=l?D:-1,B=0,H=z;for(;o.pos>st;)R>=0&&o.id==R&&o.size>=0?(o.end<=H-n&&(O(F,pt,Z,B,o.end,H,R,L),B=F.length,H=o.end),o.next()):p(Z,st,F,pt,R);if(R>=0&&B>0&&B<F.length&&O(F,pt,Z,B,Z,H,R,L),F.reverse(),pt.reverse(),R>-1&&B>0){let G=m($);j=b$($,F,pt,0,F.length,0,z-Z,G,G)}else j=y($,F,pt,z-Z,L-z)}E.push(j),A.push(X)}function m(N){return(P,E,A)=>{let V=0,D=P.length-1,Z,z;if(D>=0&&(Z=P[D])instanceof fr){if(!D&&Z.type==N&&Z.length==A)return Z;(z=Z.prop(ge.lookAhead))&&(V=E[D]+Z.length+z)}return y(N,P,E,A,V)}}function O(N,P,E,A,V,D,Z,z){let k=[],L=[];for(;N.length>A;)k.push(N.pop()),L.push(P.pop()+E-V);N.push(y(i.types[Z],k,L,D-V,z-D)),P.push(V-E)}function y(N,P,E,A,V=0,D){if(f){let Z=[ge.contextHash,f];D=D?[Z].concat(D):[Z]}if(V>25){let Z=[ge.lookAhead,V];D=D?[Z].concat(D):[Z]}return new fr(N,P,E,A,D)}function S(N,P){let E=o.fork(),A=0,V=0,D=0,Z=E.end-n,z={size:0,start:0,skip:0};t:for(let k=E.pos-N;E.pos>k;){let L=E.size;if(E.id==P&&L>=0){z.size=A,z.start=V,z.skip=D,D+=4,A+=4,E.next();continue}let $=E.pos-L;if(L<0||$<k||E.start<Z)break;let j=E.id>=l?4:0,W=E.start;for(E.next();E.pos>$;){if(E.size<0)if(E.size==-3)j+=4;else break t;else E.id>=l&&(j+=4);E.next()}V=W,A+=L,D+=j}return(P<0||A==N)&&(z.size=A,z.start=V,z.skip=D),z.size>4?z:void 0}function w(N,P,E){let{id:A,start:V,end:D,size:Z}=o;if(o.next(),Z>=0&&A<l){let z=E;if(Z>4){let k=o.pos-(Z-4);for(;o.pos>k;)E=w(N,P,E)}P[--E]=z,P[--E]=D-N,P[--E]=V-N,P[--E]=A}else Z==-3?f=A:Z==-4&&(c=A);return E}let v=[],T=[];for(;o.pos>0;)p(r.start||0,r.bufferStart||0,v,T,-1);let M=(t=r.length)!==null&&t!==void 0?t:v.length?T[0]+v[0].length:0;return new fr(a[r.topID],v.reverse(),T.reverse(),M)}const gM=new WeakMap;function Q0(r,t){if(!r.isAnonymous||t instanceof Tp||t.type!=r)return 1;let e=gM.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=r||!(i instanceof fr)){e=1;break}e+=Q0(r,i)}gM.set(t,e)}return e}function b$(r,t,e,i,n,s,l,o,a){let f=0;for(let y=i;y<n;y++)f+=Q0(r,t[y]);let c=Math.ceil(f*1.5/8),p=[],m=[];function O(y,S,w,v,T){for(let M=w;M<v;){let N=M,P=S[M],E=Q0(r,y[M]);for(M++;M<v;M++){let A=Q0(r,y[M]);if(E+A>=c)break;E+=A}if(M==N+1){if(E>c){let A=y[N];O(A.children,A.positions,0,A.children.length,S[N]+T);continue}p.push(y[N])}else{let A=S[M-1]+y[M-1].length-P;p.push(b$(r,y,S,N,M,P,A,null,a))}m.push(P+T-s)}}return O(t,e,i,n,0),(o||a)(p,m,l)}let P0=class dv{constructor(t,e,i,n,s=!1,l=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let n=[new dv(0,t.length,t,0,!1,i)];for(let s of e)s.to>t.length&&n.push(s);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],s=1,l=t.length?t[0]:null;for(let o=0,a=0,f=0;;o++){let c=o<e.length?e[o]:null,p=c?c.fromA:1e9;if(p-a>=i)for(;l&&l.from<p;){let m=l;if(a>=m.from||p<=m.to||f){let O=Math.max(m.from,a)-f,y=Math.min(m.to,p)-f;m=O>=y?null:new dv(O,y,m.tree,m.offset+f,o>0,!!c)}if(m&&n.push(m),l.to>p)break;l=s<t.length?t[s++]:null}if(!c)break;a=c.toA,f=c.toA-c.toB}return n}},kq=class{startParse(t,e,i){return typeof t=="string"&&(t=new $q(t)),i=i?i.length?i.map(n=>new Ax(n.from,n.to)):[new Ax(0,0)]:[new Ax(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let s=n.advance();if(s)return s}}},$q=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};new ge({perNode:!0});let He=class V_{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){let n=[];return this.decompose(0,t,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(e,this.length,n,1),M0.from(n,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let i=[];return this.decompose(t,e,i,0),M0.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),n=new wd(this),s=new wd(t);for(let l=e,o=e;;){if(n.next(l),s.next(l),l=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(t=1){return new wd(this,t)}iterRange(t,e=this.length){return new X_(this,t,e)}iterLines(t,e){let i;if(t==null)i=this.iter();else{e==null&&(e=this.lines+1);let n=this.line(t).from;i=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new I_(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?V_.empty:t.length<=32?new Gr(t):M0.from(Gr.split(t,[]))}},Gr=class Rs extends He{constructor(t,e=Aq(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,n){for(let s=0;;s++){let l=this.text[s],o=n+l.length;if((e?i:o)>=t)return new Cq(n,o,i,l);n=o+1,i++}}decompose(t,e,i,n){let s=t<=0&&e>=this.length?this:new Rs(mM(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(n&1){let l=i.pop(),o=R0(s.text,l.text.slice(),0,s.length);if(o.length<=32)i.push(new Rs(o,l.length+s.length));else{let a=o.length>>1;i.push(new Rs(o.slice(0,a)),new Rs(o.slice(a)))}}else i.push(s)}replace(t,e,i){if(!(i instanceof Rs))return super.replace(t,e,i);let n=R0(this.text,R0(i.text,mM(this.text,0,t)),e),s=this.length+i.length-(e-t);return n.length<=32?new Rs(n,s):M0.from(Rs.split(n,[]),s)}sliceString(t,e=this.length,i=`
`){let n="";for(let s=0,l=0;s<=e&&l<this.text.length;l++){let o=this.text[l],a=s+o.length;s>t&&l&&(n+=i),t<a&&e>s&&(n+=o.slice(Math.max(0,t-s),e-s)),s=a+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],n=-1;for(let s of t)i.push(s),n+=s.length+1,i.length==32&&(e.push(new Rs(i,n)),i=[],n=-1);return n>-1&&e.push(new Rs(i,n)),e}},M0=class uu extends He{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,n){for(let s=0;;s++){let l=this.children[s],o=n+l.length,a=i+l.lines-1;if((e?a:o)>=t)return l.lineInner(t,e,i,n);n=o+1,i=a+1}}decompose(t,e,i,n){for(let s=0,l=0;l<=e&&s<this.children.length;s++){let o=this.children[s],a=l+o.length;if(t<=a&&e>=l){let f=n&((l<=t?1:0)|(a>=e?2:0));l>=t&&a<=e&&!f?i.push(o):o.decompose(t-l,e-l,i,f)}l=a+1}}replace(t,e,i){if(i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let l=this.children[n],o=s+l.length;if(t>=s&&e<=o){let a=l.replace(t-s,e-s,i),f=this.lines-l.lines+a.lines;if(a.lines<f>>4&&a.lines>f>>6){let c=this.children.slice();return c[n]=a,new uu(c,this.length-(e-t)+i.length)}return super.replace(s,o,a)}s=o+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i=`
`){let n="";for(let s=0,l=0;s<this.children.length&&l<=e;s++){let o=this.children[s],a=l+o.length;l>t&&s&&(n+=i),t<a&&e>l&&(n+=o.sliceString(t-l,e-l,i)),l=a+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof uu))return 0;let i=0,[n,s,l,o]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,s+=e){if(n==l||s==o)return i;let a=this.children[n],f=t.children[s];if(a!=f)return i+a.scanIdentical(f,e);i+=a.length+1}}static from(t,e=t.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let O of t)i+=O.lines;if(i<32){let O=[];for(let y of t)y.flatten(O);return new Gr(O,e)}let n=Math.max(32,i>>5),s=n<<1,l=n>>1,o=[],a=0,f=-1,c=[];function p(O){let y;if(O.lines>s&&O instanceof uu)for(let S of O.children)p(S);else O.lines>l&&(a>l||!a)?(m(),o.push(O)):O instanceof Gr&&a&&(y=c[c.length-1])instanceof Gr&&O.lines+y.lines<=32?(a+=O.lines,f+=O.length+1,c[c.length-1]=new Gr(y.text.concat(O.text),y.length+1+O.length)):(a+O.lines>n&&m(),a+=O.lines,f+=O.length+1,c.push(O))}function m(){a!=0&&(o.push(c.length==1?c[0]:uu.from(c,f)),f=-1,a=c.length=0)}for(let O of t)p(O);return m(),o.length==1?o[0]:new uu(o,e)}};He.empty=new Gr([""],0);function Aq(r){let t=-1;for(let e of r)t+=e.length+1;return t}function R0(r,t,e=0,i=1e9){for(let n=0,s=0,l=!0;s<r.length&&n<=i;s++){let o=r[s],a=n+o.length;a>=e&&(a>i&&(o=o.slice(0,i-n)),n<e&&(o=o.slice(e-n)),l?(t[t.length-1]+=o,l=!1):t.push(o)),n=a+1}return t}function mM(r,t,e){return R0(r,[""],t,e)}let wd=class{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof Gr?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],l=s>>1,o=n instanceof Gr?n.text.length:n.children.length;if(l==(e>0?o:0)){if(i==0)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(e>0?0:1)){if(this.offsets[i]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(n instanceof Gr){let a=n.text[l+(e<0?-1:0)];if(this.offsets[i]+=e,a.length>Math.max(0,t))return this.value=t==0?a:e>0?a.slice(t):a.slice(0,a.length-t),this;t-=a.length}else{let a=n.children[l+(e<0?-1:0)];t>a.length?(t-=a.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(e>0?1:(a instanceof Gr?a.text.length:a.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}},X_=class{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new wd(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=i?n:e<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},I_=class{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:n}=this.inner.next(t);return e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(He.prototype[Symbol.iterator]=function(){return this.iter()},wd.prototype[Symbol.iterator]=X_.prototype[Symbol.iterator]=I_.prototype[Symbol.iterator]=function(){return this});let Cq=class{constructor(t,e,i,n){this.from=t,this.to=e,this.number=i,this.text=n}get length(){return this.to-this.from}},Cu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<Cu.length;r++)Cu[r]+=Cu[r-1];function Tq(r){for(let t=1;t<Cu.length;t+=2)if(Cu[t]>r)return Cu[t-1]<=r;return!1}function OM(r){return r>=127462&&r<=127487}const yM=8205;function Kl(r,t,e=!0,i=!0){return(e?j_:Qq)(r,t,i)}function j_(r,t,e){if(t==r.length)return t;t&&q_(r.charCodeAt(t))&&W_(r.charCodeAt(t-1))&&t--;let i=Cx(r,t);for(t+=bM(i);t<r.length;){let n=Cx(r,t);if(i==yM||n==yM||e&&Tq(n))t+=bM(n),i=n;else if(OM(n)){let s=0,l=t-2;for(;l>=0&&OM(Cx(r,l));)s++,l-=2;if(s%2==0)break;t+=2}else break}return t}function Qq(r,t,e){for(;t>0;){let i=j_(r,t-2,e);if(i<t)return i;t--}return 0}function q_(r){return r>=56320&&r<57344}function W_(r){return r>=55296&&r<56320}function Cx(r,t){let e=r.charCodeAt(t);if(!W_(e)||t+1==r.length)return e;let i=r.charCodeAt(t+1);return q_(i)?(e-55296<<10)+(i-56320)+65536:e}function bM(r){return r<65536?1:2}const pv=/\r\n?|\n/;var or=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(or||(or={}));let vd=class E0{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,n=0;e<this.sections.length;){let s=this.sections[e++],l=this.sections[e++];l<0?(t(i,n,s),n+=s):n+=l,i+=s}}iterChangedRanges(t,e=!1){gv(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];n<0?t.push(i,n):t.push(n,i)}return new E0(t)}composeDesc(t){return this.empty?t:t.empty?this:Y_(this,t)}mapDesc(t,e=!1){return t.empty?this:mv(this,t,e)}mapPos(t,e=-1,i=or.Simple){let n=0,s=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],a=this.sections[l++],f=n+o;if(a<0){if(f>t)return s+(t-n);s+=o}else{if(i!=or.Simple&&f>=t&&(i==or.TrackDel&&n<t&&f>t||i==or.TrackBefore&&n<t||i==or.TrackAfter&&f>t))return null;if(f>t||f==t&&e<0&&!o)return t==n||e<0?s:s+a;s+=a}n=f}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return s}touchesRange(t,e=t){for(let i=0,n=0;i<this.sections.length&&n<=e;){let s=this.sections[i++],l=this.sections[i++],o=n+s;if(l>=0&&n<=e&&o>=t)return n<t&&o>e?"cover":!0;n=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+i+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new E0(t)}static create(t){return new E0(t)}},ol=class No extends vd{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return gv(this,(e,i,n,s,l)=>t=t.replace(n,n+(i-e),l),!1),t}mapDesc(t,e=!1){return mv(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let n=0,s=0;n<e.length;n+=2){let l=e[n],o=e[n+1];if(o>=0){e[n]=o,e[n+1]=l;let a=n>>1;for(;i.length<a;)i.push(He.empty);i.push(l?t.slice(s,s+l):He.empty)}s+=l}return new No(e,i)}compose(t){return this.empty?t:t.empty?this:Y_(this,t,!0)}map(t,e=!1){return t.empty?this:mv(this,t,e,!0)}iterChanges(t,e=!1){gv(this,t,e)}get desc(){return vd.create(this.sections)}filter(t){let e=[],i=[],n=[],s=new Fd(this);t:for(let l=0,o=0;;){let a=l==t.length?1e9:t[l++];for(;o<a||o==a&&s.len==0;){if(s.done)break t;let c=Math.min(s.len,a-o);cn(n,c,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;cn(e,c,p),p>0&&nh(i,e,s.text),s.forward(c),o+=c}let f=t[l++];for(;o<f;){if(s.done)break t;let c=Math.min(s.len,f-o);cn(e,c,-1),cn(n,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),o+=c}}return{changes:new No(e,i),filtered:vd.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],n=this.sections[e+1];n<0?t.push(i):n==0?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let n=[],s=[],l=0,o=null;function a(c=!1){if(!c&&!n.length)return;l<e&&cn(n,e-l,-1);let p=new No(n,s);o=o?o.compose(p.map(o)):p,n=[],s=[],l=0}function f(c){if(Array.isArray(c))for(let p of c)f(p);else if(c instanceof No){if(c.length!=e)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${e})`);a(),o=o?o.compose(c.map(o)):c}else{let{from:p,to:m=p,insert:O}=c;if(p>m||p<0||m>e)throw new RangeError(`Invalid change range ${p} to ${m} (in doc of length ${e})`);let y=O?typeof O=="string"?He.of(O.split(i||pv)):O:He.empty,S=y.length;if(p==m&&S==0)return;p<l&&a(),p>l&&cn(n,p-l,-1),cn(n,m-p,S),nh(s,n,y),l=m}}return f(t),a(!o),o}static empty(t){return new No(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let n=0;n<t.length;n++){let s=t[n];if(typeof s=="number")e.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)e.push(s[0],0);else{for(;i.length<n;)i.push(He.empty);i[n]=He.of(s.slice(1)),e.push(s[0],i[n].length)}}}return new No(e,i)}static createSet(t,e){return new No(t,e)}};function cn(r,t,e,i=!1){if(t==0&&e<=0)return;let n=r.length-2;n>=0&&e<=0&&e==r[n+1]?r[n]+=t:t==0&&r[n]==0?r[n+1]+=e:i?(r[n]+=t,r[n+1]+=e):r.push(t,e)}function nh(r,t,e){if(e.length==0)return;let i=t.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(e);else{for(;r.length<i;)r.push(He.empty);r.push(e)}}function gv(r,t,e){let i=r.inserted;for(let n=0,s=0,l=0;l<r.sections.length;){let o=r.sections[l++],a=r.sections[l++];if(a<0)n+=o,s+=o;else{let f=n,c=s,p=He.empty;for(;f+=o,c+=a,a&&i&&(p=p.append(i[l-2>>1])),!(e||l==r.sections.length||r.sections[l+1]<0);)o=r.sections[l++],a=r.sections[l++];t(n,f,s,c,p),n=f,s=c}}}function mv(r,t,e,i=!1){let n=[],s=i?[]:null,l=new Fd(r),o=new Fd(t);for(let a=0,f=0;;)if(l.ins==-1)a+=l.len,l.next();else if(o.ins==-1&&f<a){let c=Math.min(o.len,a-f);o.forward(c),cn(n,c,-1),f+=c}else if(o.ins>=0&&(l.done||f<a||f==a&&(o.len<l.len||o.len==l.len&&!e))){for(cn(n,o.ins,-1);a>f&&!l.done&&a+l.len<f+o.len;)a+=l.len,l.next();f+=o.len,o.next()}else if(l.ins>=0){let c=0,p=a+l.len;for(;;)if(o.ins>=0&&f>a&&f+o.len<p)c+=o.ins,f+=o.len,o.next();else if(o.ins==-1&&f<p){let m=Math.min(o.len,p-f);c+=m,o.forward(m),f+=m}else break;cn(n,c,l.ins),s&&nh(s,n,l.text),a=p,l.next()}else{if(l.done&&o.done)return s?ol.createSet(n,s):vd.create(n);throw new Error("Mismatched change set lengths")}}function Y_(r,t,e=!1){let i=[],n=e?[]:null,s=new Fd(r),l=new Fd(t);for(let o=!1;;){if(s.done&&l.done)return n?ol.createSet(i,n):vd.create(i);if(s.ins==0)cn(i,s.len,0,o),s.next();else if(l.len==0&&!l.done)cn(i,0,l.ins,o),n&&nh(n,i,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,l.len),f=i.length;if(s.ins==-1){let c=l.ins==-1?-1:l.off?0:l.ins;cn(i,a,c,o),n&&c&&nh(n,i,l.text)}else l.ins==-1?(cn(i,s.off?0:s.len,a,o),n&&nh(n,i,s.textBit(a))):(cn(i,s.off?0:s.len,l.off?0:l.ins,o),n&&!l.off&&nh(n,i,l.text));o=(s.ins>a||l.ins>=0&&l.len>a)&&(o||i.length>f),s.forward2(a),l.forward(a)}}}}let Fd=class{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?He.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?He.empty:e[i].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}},Om=class Ov{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let t=this.flags&3;return t==3?null:t}get goalColumn(){let t=this.flags>>5;return t==33554431?void 0:t}map(t,e=-1){let i,n;return this.empty?i=n=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new Ov(i,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return oe.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return oe.range(this.anchor,i)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return oe.range(t.anchor,t.head)}static create(t,e,i){return new Ov(t,e,i)}},oe=class rr{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:rr.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new rr([this.main],0)}addRange(t,e=!0){return rr.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,rr.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new rr(t.ranges.map(e=>Om.fromJSON(e)),t.main)}static single(t,e=t){return new rr([rr.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<t.length;n++){let s=t[n];if(s.empty?s.from<=i:s.from<i)return rr.normalized(t.slice(),e);i=s.to}return new rr(t,e)}static cursor(t,e=0,i,n){return Om.create(t,t,(e==0?0:e<0?4:8)|(i==null?3:Math.min(2,i))|(n??33554431)<<5)}static range(t,e,i){let n=(i??33554431)<<5;return e<t?Om.create(e,t,16|n|8):Om.create(t,e,n|(e>t?4:0))}static normalized(t,e=0){let i=t[e];t.sort((n,s)=>n.from-s.from),e=t.indexOf(i);for(let n=1;n<t.length;n++){let s=t[n],l=t[n-1];if(s.empty?s.from<=l.to:s.from<l.to){let o=l.from,a=Math.max(s.to,l.to);n<=e&&e--,t.splice(--n,2,s.anchor>s.head?rr.range(a,o):rr.range(o,a))}}return new rr(t,e)}};function H_(r,t){for(let e of r.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let x$=0,fe=class U_{constructor(t,e,i,n,s){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=n,this.extensions=s,this.id=x$++,this.default=t([])}static define(t={}){return new U_(t.combine||(e=>e),t.compareInput||((e,i)=>e===i),t.compare||(t.combine?(e,i)=>e===i:S$),!!t.static,t.enables)}of(t){return new D0([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new D0(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new D0(t,this,2,e)}from(t,e){return e||(e=i=>i),this.compute([t],i=>e(i.field(t)))}};function S$(r,t){return r==t||r.length==t.length&&r.every((e,i)=>e===t[i])}let D0=class{constructor(t,e,i,n){this.dependencies=t,this.facet=e,this.type=i,this.value=n,this.id=x$++}dynamicSlot(t){var e;let i=this.value,n=this.facet.compareInput,s=this.id,l=t[s]>>1,o=this.type==2,a=!1,f=!1,c=[];for(let p of this.dependencies)p=="doc"?a=!0:p=="selection"?f=!0:(((e=t[p.id])!==null&&e!==void 0?e:1)&1)==0&&c.push(t[p.id]);return{create(p){return p.values[l]=i(p),1},update(p,m){if(a&&m.docChanged||f&&(m.docChanged||m.selection)||yv(p,c)){let O=i(p);if(o?!xM(O,p.values[l],n):!n(O,p.values[l]))return p.values[l]=O,1}return 0},reconfigure:(p,m)=>{let O=i(p),y=m.config.address[s];if(y!=null){let S=AO(m,y);if(this.dependencies.every(w=>w instanceof fe?m.facet(w)===p.facet(w):w instanceof gf?m.field(w,!1)==p.field(w,!1):!0)||(o?xM(O,S,n):n(O,S)))return p.values[l]=S,0}return p.values[l]=O,1}}}};function xM(r,t,e){if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(!e(r[i],t[i]))return!1;return!0}function yv(r,t){let e=!1;for(let i of t)kd(r,i)&1&&(e=!0);return e}function Pq(r,t,e){let i=e.map(a=>r[a.id]),n=e.map(a=>a.type),s=i.filter(a=>!(a&1)),l=r[t.id]>>1;function o(a){let f=[];for(let c=0;c<i.length;c++){let p=AO(a,i[c]);if(n[c]==2)for(let m of p)f.push(m);else f.push(p)}return t.combine(f)}return{create(a){for(let f of i)kd(a,f);return a.values[l]=o(a),1},update(a,f){if(!yv(a,s))return 0;let c=o(a);return t.compare(c,a.values[l])?0:(a.values[l]=c,1)},reconfigure(a,f){let c=yv(a,i),p=f.config.facets[t.id],m=f.facet(t);if(p&&!c&&S$(e,p))return a.values[l]=m,0;let O=o(a);return t.compare(O,m)?(a.values[l]=m,0):(a.values[l]=O,1)}}}const SM=fe.define({static:!0});let gf=class G_{constructor(t,e,i,n,s){this.id=t,this.createF=e,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(t){let e=new G_(x$++,t.create,t.update,t.compare||((i,n)=>i===n),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(SM).find(i=>i.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:i=>(i.values[e]=this.create(i),1),update:(i,n)=>{let s=i.values[e],l=this.updateF(s,n);return this.compareF(s,l)?0:(i.values[e]=l,1)},reconfigure:(i,n)=>n.config.address[this.id]!=null?(i.values[e]=n.field(this),0):(i.values[e]=this.create(i),1)}}init(t){return[this,SM.of({field:this,create:t})]}get extension(){return this}};const fu={lowest:4,low:3,default:2,high:1,highest:0};function gc(r){return t=>new K_(t,r)}const F_={highest:gc(fu.highest),high:gc(fu.high),default:gc(fu.default),low:gc(fu.low),lowest:gc(fu.lowest)};let K_=class{constructor(t,e){this.inner=t,this.prec=e}},J_=class tz{of(t){return new bv(this,t)}reconfigure(t){return tz.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}},bv=class{constructor(t,e){this.compartment=t,this.inner=e}},wM=class ez{constructor(t,e,i,n,s,l){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let n=[],s=Object.create(null),l=new Map;for(let m of Mq(t,e,l))m instanceof gf?n.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let o=Object.create(null),a=[],f=[];for(let m of n)o[m.id]=f.length<<1,f.push(O=>m.slot(O));let c=i?.config.facets;for(let m in s){let O=s[m],y=O[0].facet,S=c&&c[m]||[];if(O.every(w=>w.type==0))if(o[y.id]=a.length<<1|1,S$(S,O))a.push(i.facet(y));else{let w=y.combine(O.map(v=>v.value));a.push(i&&y.compare(w,i.facet(y))?i.facet(y):w)}else{for(let w of O)w.type==0?(o[w.id]=a.length<<1|1,a.push(w.value)):(o[w.id]=f.length<<1,f.push(v=>w.dynamicSlot(v)));o[y.id]=f.length<<1,f.push(w=>Pq(w,y,O))}}let p=f.map(m=>m(o));return new ez(t,l,p,o,a,s)}};function Mq(r,t,e){let i=[[],[],[],[],[]],n=new Map;function s(l,o){let a=n.get(l);if(a!=null){if(a<=o)return;let f=i[a].indexOf(l);f>-1&&i[a].splice(f,1),l instanceof bv&&e.delete(l.compartment)}if(n.set(l,o),Array.isArray(l))for(let f of l)s(f,o);else if(l instanceof bv){if(e.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=t.get(l.compartment)||l.inner;e.set(l.compartment,f),s(f,o)}else if(l instanceof K_)s(l.inner,l.prec);else if(l instanceof gf)i[o].push(l),l.provides&&s(l.provides,o);else if(l instanceof D0)i[o].push(l),l.facet.extensions&&s(l.facet.extensions,o);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,o)}}return s(r,fu.default),i.reduce((l,o)=>l.concat(o))}function kd(r,t){if(t&1)return 2;let e=t>>1,i=r.status[e];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[e]=4;let n=r.computeSlot(r,r.config.dynamicSlots[e]);return r.status[e]=2|n}function AO(r,t){return t&1?r.config.staticValues[t>>1]:r.values[t>>1]}const iz=fe.define(),nz=fe.define({combine:r=>r.some(t=>t),static:!0}),rz=fe.define({combine:r=>r.length?r[0]:void 0,static:!0}),sz=fe.define(),lz=fe.define(),oz=fe.define(),az=fe.define({combine:r=>r.length?r[0]:!1});let Qp=class{constructor(t,e){this.type=t,this.value=e}static define(){return new Rq}},Rq=class{of(t){return new Qp(this,t)}},Eq=class{constructor(t){this.map=t}of(t){return new on(this,t)}},on=class hz{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new hz(this.type,e)}is(t){return this.type==t}static define(t={}){return new Eq(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let n of t){let s=n.map(e);s&&i.push(s)}return i}};on.reconfigure=on.define();on.appendConfig=on.define();let es=class Yc{constructor(t,e,i,n,s,l){this.startState=t,this.changes=e,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,i&&H_(i,e.newLength),s.some(o=>o.type==Yc.time)||(this.annotations=s.concat(Yc.time.of(Date.now())))}static create(t,e,i,n,s,l){return new Yc(t,e,i,n,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Yc.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}};es.time=Qp.define();es.userEvent=Qp.define();es.addToHistory=Qp.define();es.remote=Qp.define();function Dq(r,t){let e=[];for(let i=0,n=0;;){let s,l;if(i<r.length&&(n==t.length||t[n]>=r[i]))s=r[i++],l=r[i++];else if(n<t.length)s=t[n++],l=t[n++];else return e;!e.length||e[e.length-1]<s?e.push(s,l):e[e.length-1]<l&&(e[e.length-1]=l)}}function uz(r,t,e){var i;let n,s,l;return e?(n=t.changes,s=ol.empty(t.changes.length),l=r.changes.compose(t.changes)):(n=t.changes.map(r.changes),s=r.changes.mapDesc(t.changes,!0),l=r.changes.compose(n)),{changes:l,selection:t.selection?t.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:on.mapEffects(r.effects,n).concat(on.mapEffects(t.effects,s)),annotations:r.annotations.length?r.annotations.concat(t.annotations):t.annotations,scrollIntoView:r.scrollIntoView||t.scrollIntoView}}function xv(r,t,e){let i=t.selection,n=Tu(t.annotations);return t.userEvent&&(n=n.concat(es.userEvent.of(t.userEvent))),{changes:t.changes instanceof ol?t.changes:ol.of(t.changes||[],e,r.facet(rz)),selection:i&&(i instanceof oe?i:oe.single(i.anchor,i.head)),effects:Tu(t.effects),annotations:n,scrollIntoView:!!t.scrollIntoView}}function fz(r,t,e){let i=xv(r,t.length?t[0]:{},r.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let s=1;s<t.length;s++){t[s].filter===!1&&(e=!1);let l=!!t[s].sequential;i=uz(i,xv(r,t[s],l?i.changes.newLength:r.doc.length),l)}let n=es.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return _q(e?Bq(n):n)}function Bq(r){let t=r.startState,e=!0;for(let n of t.facet(sz)){let s=n(r);if(s===!1){e=!1;break}Array.isArray(s)&&(e=e===!0?s:Dq(e,s))}if(e!==!0){let n,s;if(e===!1)s=r.changes.invertedDesc,n=ol.empty(t.doc.length);else{let l=r.changes.filter(e);n=l.changes,s=l.filtered.invertedDesc}r=es.create(t,n,r.selection&&r.selection.map(s),on.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=t.facet(lz);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof es?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof es?r=s[0]:r=fz(t,Tu(s),!1)}return r}function _q(r){let t=r.startState,e=t.facet(oz),i=r;for(let n=e.length-1;n>=0;n--){let s=e[n](r);s&&Object.keys(s).length&&(i=uz(r,xv(t,s,r.changes.newLength),!0))}return i==r?r:es.create(t,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const zq=[];function Tu(r){return r==null?zq:Array.isArray(r)?r:[r]}var Jl=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(Jl||(Jl={}));const Nq=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Sv;try{Sv=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Lq(r){if(Sv)return Sv.test(r);for(let t=0;t<r.length;t++){let e=r[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Nq.test(e)))return!0}return!1}function Zq(r){return t=>{if(!/\S/.test(t))return Jl.Space;if(Lq(t))return Jl.Word;for(let e=0;e<r.length;e++)if(t.indexOf(r[e])>-1)return Jl.Word;return Jl.Other}}let Di=class jr{constructor(t,e,i,n,s,l){this.config=t,this.doc=e,this.selection=i,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)kd(this,o<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(i==null){if(e)throw new RangeError("Field is not present in this state");return}return kd(this,i),AO(this,i)}update(...t){return fz(this,t,!0)}applyTransaction(t){let e=this.config,{base:i,compartments:n}=e;for(let l of t.effects)l.is(J_.reconfigure)?(e&&(n=new Map,e.compartments.forEach((o,a)=>n.set(a,o)),e=null),n.set(l.value.compartment,l.value.extension)):l.is(on.reconfigure)?(e=null,i=l.value):l.is(on.appendConfig)&&(e=null,i=Tu(i).concat(l.value));let s;e?s=t.startState.values.slice():(e=wM.resolve(i,n,this),s=new jr(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(o,a)=>a.reconfigure(o,this),null).values),new jr(e,t.newDoc,t.newSelection,s,(l,o)=>o.update(l,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:oe.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),n=this.changes(i.changes),s=[i.range],l=Tu(i.effects);for(let o=1;o<e.ranges.length;o++){let a=t(e.ranges[o]),f=this.changes(a.changes),c=f.map(n);for(let m=0;m<o;m++)s[m]=s[m].map(c);let p=n.mapDesc(f,!0);s.push(a.range.map(p)),n=n.compose(c),l=on.mapEffects(l,c).concat(on.mapEffects(Tu(a.effects),p))}return{changes:n,selection:oe.create(s,e.mainIndex),effects:l}}changes(t=[]){return t instanceof ol?t:ol.of(t,this.doc.length,this.facet(jr.lineSeparator))}toText(t){return He.of(t.split(this.facet(jr.lineSeparator)||pv))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(kd(this,e),AO(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let n=t[i];n instanceof gf&&(e[i]=n.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i)for(let s in i){let l=i[s],o=t[s];n.push(l.init(a=>l.spec.fromJSON(o,a)))}return jr.create({doc:t.doc,selection:oe.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=wM.resolve(t.extensions||[],new Map),i=t.doc instanceof He?t.doc:He.of((t.doc||"").split(e.staticFacet(jr.lineSeparator)||pv)),n=t.selection?t.selection instanceof oe?t.selection:oe.single(t.selection.anchor,t.selection.head):oe.single(0);return H_(n,i.length),e.staticFacet(nz)||(n=n.asSingle()),new jr(e,i,n,e.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(jr.tabSize)}get lineBreak(){return this.facet(jr.lineSeparator)||`
`}get readOnly(){return this.facet(az)}phrase(t,...e){for(let i of this.facet(jr.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return s>e.length?i:e[s-1]})),t}languageDataAt(t,e,i=-1){let n=[];for(let s of this.facet(iz))for(let l of s(this,e,i))Object.prototype.hasOwnProperty.call(l,t)&&n.push(l[t]);return n}charCategorizer(t){return Zq(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:n}=this.doc.lineAt(t),s=this.charCategorizer(t),l=t-i,o=t-i;for(;l>0;){let a=Kl(e,l,!1);if(s(e.slice(a,l))!=Jl.Word)break;l=a}for(;o<n;){let a=Kl(e,o);if(s(e.slice(o,a))!=Jl.Word)break;o=a}return l==o?null:oe.range(l+i,o+i)}};Di.allowMultipleSelections=nz;Di.tabSize=fe.define({combine:r=>r.length?r[0]:4});Di.lineSeparator=rz;Di.readOnly=az;Di.phrases=fe.define({compare(r,t){let e=Object.keys(r),i=Object.keys(t);return e.length==i.length&&e.every(n=>r[n]==t[n])}});Di.languageData=iz;Di.changeFilter=sz;Di.transactionFilter=lz;Di.transactionExtender=oz;J_.reconfigure=on.define();function Vq(r,t,e={}){let i={};for(let n of r)for(let s of Object.keys(n)){let l=n[s],o=i[s];if(o===void 0)i[s]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(e,s))i[s]=e[s](o,l);else throw new Error("Config merge conflict for field "+s)}for(let n in t)i[n]===void 0&&(i[n]=t[n]);return i}let Wu=class{eq(t){return this==t}range(t,e=t){return wv.create(t,e,this)}};Wu.prototype.startSide=Wu.prototype.endSide=0;Wu.prototype.point=!1;Wu.prototype.mapMode=or.TrackDel;let wv=class cz{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new cz(t,e,i)}};function vv(r,t){return r.from-t.from||r.value.startSide-t.value.startSide}let Xq=class dz{constructor(t,e,i,n){this.from=t,this.to=e,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,n=0){let s=i?this.to:this.from;for(let l=n,o=s.length;;){if(l==o)return l;let a=l+o>>1,f=s[a]-t||(i?this.value[a].endSide:this.value[a].startSide)-e;if(a==l)return f>=0?l:o;f>=0?o=a:l=a+1}}between(t,e,i,n){for(let s=this.findIndex(e,-1e9,!0),l=this.findIndex(i,1e9,!1,s);s<l;s++)if(n(this.from[s]+t,this.to[s]+t,this.value[s])===!1)return!1}map(t,e){let i=[],n=[],s=[],l=-1,o=-1;for(let a=0;a<this.value.length;a++){let f=this.value[a],c=this.from[a]+t,p=this.to[a]+t,m,O;if(c==p){let y=e.mapPos(c,f.startSide,f.mapMode);if(y==null||(m=O=y,f.startSide!=f.endSide&&(O=e.mapPos(c,f.endSide),O<m)))continue}else if(m=e.mapPos(c,f.startSide),O=e.mapPos(p,f.endSide),m>O||m==O&&f.startSide>0&&f.endSide<=0)continue;(O-m||f.endSide-f.startSide)<0||(l<0&&(l=m),f.point&&(o=Math.max(o,O-m)),i.push(f),n.push(m-l),s.push(O-l))}return{mapped:i.length?new dz(n,s,i,o):null,pos:l}}},jn=class cu{constructor(t,e,i,n){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=n}static create(t,e,i,n){return new cu(t,e,i,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=t,l=t.filter;if(e.length==0&&!l)return this;if(i&&(e=e.slice().sort(vv)),this.isEmpty)return e.length?cu.of(e):this;let o=new gz(this,null,-1).goto(0),a=0,f=[],c=new kv;for(;o.value||a<e.length;)if(a<e.length&&(o.from-e[a].from||o.startSide-e[a].value.startSide)>=0){let p=e[a++];c.addInner(p.from,p.to,p.value)||f.push(p)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(o.chunkIndex)<e[a].from)&&(!l||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||n>o.to||s<o.from||l(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||f.push(wv.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!f.length?cu.empty:this.nextLayer.update({add:f,filter:l,filterFrom:n,filterTo:s}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],n=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],a=this.chunk[l],f=t.touchesRange(o,o+a.length);if(f===!1)n=Math.max(n,a.maxPoint),e.push(a),i.push(t.mapPos(o));else if(f===!0){let{mapped:c,pos:p}=a.map(o,t);c&&(n=Math.max(n,c.maxPoint),e.push(c),i.push(p))}}let s=this.nextLayer.map(t);return e.length==0?s:new cu(i,e,s||cu.empty,n)}between(t,e,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],l=this.chunk[n];if(e>=s&&t<=s+l.length&&l.between(s,t-s,e-s,i)===!1)return}this.nextLayer.between(t,e,i)}}iter(t=0){return $v.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return $v.from(t).goto(e)}static compare(t,e,i,n,s=-1){let l=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),a=vM(l,o,i),f=new mc(l,a,s),c=new mc(o,a,s);i.iterGaps((p,m,O)=>kM(f,p,c,m,O,n)),i.empty&&i.length==0&&kM(f,0,c,0,0,n)}static eq(t,e,i=0,n){n==null&&(n=1e9);let s=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0),l=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let o=vM(s,l),a=new mc(s,o,0).goto(i),f=new mc(l,o,0).goto(i);for(;;){if(a.to!=f.to||!Av(a.active,f.active)||a.point&&(!f.point||!a.point.eq(f.point)))return!1;if(a.to>n)return!0;a.next(),f.next()}}static spans(t,e,i,n,s=-1){let l=new mc(t,null,s).goto(e),o=e,a=l.openStart;for(;;){let f=Math.min(l.to,i);if(l.point?(n.point(o,f,l.point,l.activeForPoint(l.to),a,l.pointRank),a=l.openEnd(f)+(l.to>f?1:0)):f>o&&(n.span(o,f,l.active,a),a=l.openEnd(f)),l.to>i)break;o=l.to,l.next()}return a}static of(t,e=!1){let i=new kv;for(let n of t instanceof wv?[t]:e?Iq(t):t)i.add(n.from,n.to,n.value);return i.finish()}};jn.empty=new jn([],[],null,-1);function Iq(r){if(r.length>1)for(let t=r[0],e=1;e<r.length;e++){let i=r[e];if(vv(t,i)>0)return r.slice().sort(vv);t=i}return r}jn.empty.nextLayer=jn.empty;let kv=class pz{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new Xq(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new pz)).add(t,e,i)}addInner(t,e,i){let n=t-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(jn.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=jn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}};function vM(r,t,e){let i=new Map;for(let s of r)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&i.set(s.chunk[l],s.chunkPos[l]);let n=new Set;for(let s of t)for(let l=0;l<s.chunk.length;l++){let o=i.get(s.chunk[l]);o!=null&&(e?e.mapPos(o):o)==s.chunkPos[l]&&!e?.touchesRange(o,o+s.chunk[l].length)&&n.add(s.chunk[l])}return n}let gz=class{constructor(t,e,i,n=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<t||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}},$v=class mz{constructor(t){this.heap=t}static from(t,e=null,i=-1){let n=[];for(let s=0;s<t.length;s++)for(let l=t[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=i&&n.push(new gz(l,e,i,s));return n.length==1?n[0]:new mz(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)Tx(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)Tx(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Tx(this.heap,0)}}};function Tx(r,t){for(let e=r[t];;){let i=(t<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),e.compare(n)<0)break;r[i]=e,r[t]=n,t=i}}let mc=class{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=$v.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){ym(this.active,t),ym(this.activeTo,t),ym(this.activeRank,t),this.minActive=$M(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:n,rank:s}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=s;)e++;bm(this.active,e,i),bm(this.activeTo,e,n),bm(this.activeRank,e,s),t&&bm(t,e,this.cursor.from),this.minActive=$M(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null,n=0;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>t){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&ym(i,s)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(i),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.from<t&&(n=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){let s=0;for(;s<i.length&&i[s]<t;)s++;this.openStart=s+n}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}};function kM(r,t,e,i,n,s){r.goto(t),e.goto(i);let l=i+n,o=i,a=i-t;for(;;){let f=r.to+a-e.to||r.endSide-e.endSide,c=f<0?r.to+a:e.to,p=Math.min(c,l);if(r.point||e.point?r.point&&e.point&&(r.point==e.point||r.point.eq(e.point))&&Av(r.activeForPoint(r.to+a),e.activeForPoint(e.to))||s.comparePoint(o,p,r.point,e.point):p>o&&!Av(r.active,e.active)&&s.compareRange(o,p,r.active,e.active),c>l)break;o=c,f<=0&&r.next(),f>=0&&e.next()}}function Av(r,t){if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!=t[e]&&!r[e].eq(t[e]))return!1;return!0}function ym(r,t){for(let e=t,i=r.length-1;e<i;e++)r[e]=r[e+1];r.pop()}function bm(r,t,e){for(let i=r.length-1;i>=t;i--)r[i+1]=r[i];r[t]=e}function $M(r,t){let e=-1,i=1e9;for(let n=0;n<t.length;n++)(t[n]-i||r[n].endSide-r[e].endSide)<0&&(e=n,i=t[n]);return e}function jq(r,t,e=r.length){let i=0;for(let n=0;n<e;)r.charCodeAt(n)==9?(i+=t-i%t,n++):(i++,n=Kl(r,n));return i}function qq(r,t,e,i){for(let n=0,s=0;;){if(s>=t)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?e-s%e:1,n=Kl(r,n)}return r.length}function CO(r){let t;return r.nodeType==11?t=r.getSelection?r:r.ownerDocument:t=r,t.getSelection()}function Yu(r,t){return t?r==t||r.contains(t.nodeType!=1?t.parentNode:t):!1}function Wq(){let r=document.activeElement;for(;r&&r.shadowRoot;)r=r.shadowRoot.activeElement;return r}function Cv(r,t){if(!t.anchorNode)return!1;try{return Yu(r,t.anchorNode)}catch{return!1}}function Kd(r){return r.nodeType==3?Jd(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function TO(r,t,e,i){return e?AM(r,t,e,i,-1)||AM(r,t,e,i,1):!1}function Tv(r){for(var t=0;;t++)if(r=r.previousSibling,!r)return t}function AM(r,t,e,i,n){for(;;){if(r==e&&t==i)return!0;if(t==(n<0?0:QO(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;t=Tv(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[t+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;t=n<0?QO(r):0}else return!1}}function QO(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}const Oz={left:0,right:0,top:0,bottom:0};function O1(r,t){let e=t?r.left:r.right;return{left:e,right:e,top:r.top,bottom:r.bottom}}function Yq(r){return{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function Hq(r,t,e,i,n,s,l,o){let a=r.ownerDocument,f=a.defaultView;for(let c=r;c;)if(c.nodeType==1){let p,m=c==a.body;if(m)p=Yq(f);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let S=c.getBoundingClientRect();p={left:S.left,right:S.left+c.clientWidth,top:S.top,bottom:S.top+c.clientHeight}}let O=0,y=0;if(n=="nearest")t.top<p.top?(y=-(p.top-t.top+l),e>0&&t.bottom>p.bottom+y&&(y=t.bottom-p.bottom+y+l)):t.bottom>p.bottom&&(y=t.bottom-p.bottom+l,e<0&&t.top-y<p.top&&(y=-(p.top+y-t.top+l)));else{let S=t.bottom-t.top,w=p.bottom-p.top;y=(n=="center"&&S<=w?t.top+S/2-w/2:n=="start"||n=="center"&&e<0?t.top-l:t.bottom-w+l)-p.top}if(i=="nearest"?t.left<p.left?(O=-(p.left-t.left+s),e>0&&t.right>p.right+O&&(O=t.right-p.right+O+s)):t.right>p.right&&(O=t.right-p.right+s,e<0&&t.left<p.left+O&&(O=-(p.left+O-t.left+s))):O=(i=="center"?t.left+(t.right-t.left)/2-(p.right-p.left)/2:i=="start"==o?t.left-s:t.right-(p.right-p.left)+s)-p.left,O||y)if(m)f.scrollBy(O,y);else{if(y){let S=c.scrollTop;c.scrollTop+=y,y=c.scrollTop-S}if(O){let S=c.scrollLeft;c.scrollLeft+=O,O=c.scrollLeft-S}t={left:t.left-O,top:t.top-y,right:t.right-O,bottom:t.bottom-y}}if(m)break;c=c.assignedSlot||c.parentNode,i=n="nearest"}else if(c.nodeType==11)c=c.host;else break}let Uq=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){this.set(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)}set(t,e,i,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=n}},ru=null;function yz(r){if(r.setActive)return r.setActive();if(ru)return r.focus(ru);let t=[];for(let e=r;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(r.focus(ru==null?{get preventScroll(){return ru={preventScroll:!0},!0}}:void 0),!ru){ru=!1;for(let e=0;e<t.length;){let i=t[e++],n=t[e++],s=t[e++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let CM;function Jd(r,t,e=t){let i=CM||(CM=document.createRange());return i.setEnd(r,e),i.setStart(r,t),i}function $d(r,t,e){let i={key:t,code:t,keyCode:e,which:e,cancelable:!0},n=new KeyboardEvent("keydown",i);n.synthetic=!0,r.dispatchEvent(n);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,r.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function Gq(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function bz(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}let Dn=class Qv{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new Qv(t.parentNode,Tv(t),e)}static after(t,e){return new Qv(t.parentNode,Tv(t)+1,e)}};const w$=[];let Bi=class Pv{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){if(this.dirty&2){let e=this.dom,i=null,n;for(let s of this.children){if(s.dirty){if(!s.dom&&(n=i?i.nextSibling:e.firstChild)){let l=Pv.get(n);(!l||!l.parent&&l.constructor==s.constructor)&&s.reuseDOM(n)}s.sync(t),s.dirty=0}if(n=i?i.nextSibling:e.firstChild,t&&!t.written&&t.node==e&&n!=s.dom&&(t.written=!0),s.dom.parentNode==e)for(;n&&n!=s.dom;)n=TM(n);else e.insertBefore(s.dom,n);i=s.dom}for(n=i?i.nextSibling:e.firstChild,n&&t&&t.node==e&&(t.written=!0);n;)n=TM(n)}else if(this.dirty&1)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let n=QO(t)==0?0:e==0?-1:1;for(;;){let s=t.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(t==s.firstChild?n=-1:n=1),t=s}n<0?i=t:i=t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Pv.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let l=this.children[n];if(l.dom==i)return s;s+=l.length+l.breakAfter}}domBoundsAround(t,e,i=0){let n=-1,s=-1,l=-1,o=-1;for(let a=0,f=i,c=i;a<this.children.length;a++){let p=this.children[a],m=f+p.length;if(f<t&&m>e)return p.domBoundsAround(t,e,f);if(m>=t&&n==-1&&(n=a,s=f),f>e&&p.dom.parentNode==this.dom){l=a,o=c;break}c=m,f=m+p.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),e.dirty&1)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=w$){this.markDirty();for(let n=t;n<e;n++){let s=this.children[n];s.parent==this&&s.destroy()}this.children.splice(t,e-t,...i);for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new xz(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}merge(t,e,i,n,s,l){return!1}become(t){return!1}getSide(){return 0}destroy(){this.parent=null}};Bi.prototype.breakAfter=0;function TM(r){let t=r.nextSibling;return r.parentNode.removeChild(r),t}let xz=class{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function Sz(r,t,e,i,n,s,l,o,a){let{children:f}=r,c=f.length?f[t]:null,p=s.length?s[s.length-1]:null,m=p?p.breakAfter:l;if(!(t==i&&c&&!l&&!m&&s.length<2&&c.merge(e,n,s.length?p:null,e==0,o,a))){if(i<f.length){let O=f[i];O&&n<O.length?(t==i&&(O=O.split(n),n=0),!m&&p&&O.merge(0,n,p,!0,0,a)?s[s.length-1]=O:(n&&O.merge(0,n,null,!1,0,a),s.push(O))):O?.breakAfter&&(p?p.breakAfter=1:l=1),i++}for(c&&(c.breakAfter=l,e>0&&(!l&&s.length&&c.merge(e,c.length,s[0],!1,o,0)?c.breakAfter=s.shift().breakAfter:(e<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(e,c.length,null,!1,o,0),t++));t<i&&s.length;)if(f[i-1].become(s[s.length-1]))i--,s.pop(),a=s.length?0:o;else if(f[t].become(s[0]))t++,s.shift(),o=s.length?0:a;else break;!s.length&&t&&i<f.length&&!f[t-1].breakAfter&&f[i].merge(0,0,f[t-1],!1,o,a)&&t--,(t<i||s.length)&&r.replaceChildren(t,i,s)}}function wz(r,t,e,i,n,s){let l=r.childCursor(),{i:o,off:a}=l.findPos(e,1),{i:f,off:c}=l.findPos(t,-1),p=t-e;for(let m of i)p+=m.length;r.length+=p,Sz(r,f,c,o,a,i,0,n,s)}let is=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Mv=typeof document<"u"?document:{documentElement:{style:{}}};const Rv=/Edge\/(\d+)/.exec(is.userAgent),vz=/MSIE \d/.test(is.userAgent),Ev=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(is.userAgent),y1=!!(vz||Ev||Rv),QM=!y1&&/gecko\/(\d+)/i.test(is.userAgent),Qx=!y1&&/Chrome\/(\d+)/.exec(is.userAgent),Fq="webkitFontSmoothing"in Mv.documentElement.style,kz=!y1&&/Apple Computer/.test(is.vendor),PM=kz&&(/Mobile\/\w+/.test(is.userAgent)||is.maxTouchPoints>2);var jt={mac:PM||/Mac/.test(is.platform),ie:y1,ie_version:vz?Mv.documentMode||6:Ev?+Ev[1]:Rv?+Rv[1]:0,gecko:QM,gecko_version:QM?+(/Firefox\/(\d+)/.exec(is.userAgent)||[0,0])[1]:0,chrome:!!Qx,chrome_version:Qx?+Qx[1]:0,ios:PM,android:/Android\b/.test(is.userAgent),safari:kz,webkit_version:Fq?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Mv.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Kq=256;let tp=class Dv extends Bi{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,i){return i&&(!(i instanceof Dv)||this.length-(e-t)+i.length>Kq)?!1:(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new Dv(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Dn(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return _v(this.dom,t,e)}},dh=class Bv extends Bi{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let n of e)n.setParent(this)}setAttrs(t){if(bz(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.dirty|=6)}sync(t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t)}merge(t,e,i,n,s,l){return i&&(!(i instanceof Bv&&i.mark.eq(this.mark))||t&&s<=0||e<this.length&&l<=0)?!1:(wz(this,t,e,i?i.children:[],s-1,l-1),this.markDirty(),!0)}split(t){let e=[],i=0,n=-1,s=0;for(let o of this.children){let a=i+o.length;a>t&&e.push(i<t?o.split(t-i):o),n<0&&i>=t&&(n=s),i=a,s++}let l=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new Bv(this.mark,e,l)}domAtPos(t){return Cz(this.dom,this.children,t)}coordsAt(t,e){return Qz(this,t,e)}};function _v(r,t,e){let i=r.nodeValue.length;t>i&&(t=i);let n=t,s=t,l=0;t==0&&e<0||t==i&&e>=0?jt.chrome||jt.gecko||(t?(n--,l=1):s<i&&(s++,l=-1)):e<0?n--:s<i&&s++;let o=Jd(r,n,s).getClientRects();if(!o.length)return Oz;let a=o[(l?l<0:e>=0)?0:o.length-1];return jt.safari&&!l&&a.width==0&&(a=Array.prototype.find.call(o,f=>f.width)||a),l?O1(a,l<0):a||null}let v$=class Hc extends Bi{constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}static create(t,e,i){return new(t.customView||Hc)(t,e,i)}split(t){let e=Hc.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,i,n,s,l){return i&&(!(i instanceof Hc)||!this.widget.compare(i.widget)||t>0&&s<=0||e<this.length&&l<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}become(t){return t.length==this.length&&t instanceof Hc&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.eq(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return He.empty;let t=this;for(;t.parent;)t=t.parent;let e=t.editorView,i=e&&e.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):He.empty}domAtPos(t){return t==0?Dn.before(this.dom):Dn.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.dom.getClientRects(),n=null;if(!i.length)return Oz;for(let s=t>0?i.length-1:0;n=i[s],!(t>0?s==0:s==i.length-1||n.top<n.bottom);s+=t>0?-1:1);return t==0&&e>0||t==this.length&&e<=0?n:O1(n,t==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},$z=class extends v${domAtPos(t){let{topView:e,text:i}=this.widget;return e?zv(t,0,e,i,(n,s)=>n.domAtPos(s),n=>new Dn(i,Math.min(n,i.nodeValue.length))):new Dn(i,Math.min(t,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){let{topView:i,text:n}=this.widget;return i?Az(t,e,i,n):Math.min(e,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){let{topView:i,text:n}=this.widget;return i?zv(t,e,i,n,(s,l,o)=>s.coordsAt(l,o),(s,l)=>_v(n,s,l)):_v(n,t,e)}destroy(){var t;super.destroy(),(t=this.widget.topView)===null||t===void 0||t.destroy()}get isEditable(){return!0}};function zv(r,t,e,i,n,s){if(e instanceof dh){for(let l of e.children){let o=Yu(l.dom,i),a=o?i.nodeValue.length:l.length;if(r<a||r==a&&l.getSide()<=0)return o?zv(r,t,l,i,n,s):n(l,r,t);r-=a}return n(e,e.length,-1)}else return e.dom==i?s(r,t):n(e,r,t)}function Az(r,t,e,i){if(e instanceof dh)for(let n of e.children){let s=0,l=Yu(n.dom,i);if(Yu(n.dom,r))return s+(l?Az(r,t,n,i):n.localPosFromDOM(r,t));s+=l?i.nodeValue.length:n.length}else if(e.dom==i)return Math.min(t,i.nodeValue.length);return e.localPosFromDOM(r,t)}let Nv=class Lv extends Bi{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Lv&&t.side==this.side}split(){return new Lv(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return Dn.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){let e=this.dom.getBoundingClientRect(),i=Jq(this,this.side>0?-1:1);return i&&i.top<e.bottom&&i.bottom>e.top?{left:e.left,right:e.right,top:i.top,bottom:i.bottom}:e}get overrideDOMText(){return He.empty}};tp.prototype.children=v$.prototype.children=Nv.prototype.children=w$;function Jq(r,t){let e=r.parent,i=e?e.children.indexOf(r):-1;for(;e&&i>=0;)if(t<0?i>0:i<e.children.length){let n=e.children[i+t];if(n instanceof tp){let s=n.coordsAt(t<0?n.length:0,t);if(s)return s}i+=t}else if(e instanceof dh&&e.parent)i=e.parent.children.indexOf(e)+(t<0?0:1),e=e.parent;else{let n=e.dom.lastChild;if(n&&n.nodeName=="BR")return n.getClientRects()[0];break}}function Cz(r,t,e){let i=0;for(let n=0;i<t.length;i++){let s=t[i],l=n+s.length;if(!(l==n&&s.getSide()<=0)){if(e>n&&e<l&&s.dom.parentNode==r)return s.domAtPos(e-n);if(e<=n)break;n=l}}for(;i>0;i--){let n=t[i-1].dom;if(n.parentNode==r)return Dn.after(n)}return new Dn(r,0)}function Tz(r,t,e){let i,{children:n}=r;e>0&&t instanceof dh&&n.length&&(i=n[n.length-1])instanceof dh&&i.mark.eq(t.mark)?Tz(i,t.children[0],e-1):(n.push(t),t.setParent(r)),r.length+=t.length}function Qz(r,t,e){for(let s=0,l=0;l<r.children.length;l++){let o=r.children[l],a=s+o.length,f;if((e<=0||a==r.length||o.getSide()>0?a>=t:a>t)&&(t<a||l+1==r.children.length||(f=r.children[l+1]).length||f.getSide()>0)){let c=0;if(a==s){if(o.getSide()<=0)continue;c=e=-o.getSide()}let p=o.coordsAt(Math.max(0,t-s),e);return c&&p?O1(p,e<0):p}s=a}let i=r.dom.lastChild;if(!i)return r.dom.getBoundingClientRect();let n=Kd(i);return n[n.length-1]||null}function Zv(r,t){for(let e in r)e=="class"&&t.class?t.class+=" "+r.class:e=="style"&&t.style?t.style+=";"+r.style:t[e]=r[e];return t}function k$(r,t){if(r==t)return!0;if(!r||!t)return!1;let e=Object.keys(r),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n of e)if(i.indexOf(n)==-1||r[n]!==t[n])return!1;return!0}function Vv(r,t,e){let i=null;if(t)for(let n in t)e&&n in e||r.removeAttribute(i=n);if(e)for(let n in e)t&&t[n]==e[n]||r.setAttribute(i=n,e[n]);return!!i}let b1=class{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}destroy(t){}};var Mi=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(Mi||(Mi={}));let li=class extends Wu{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(t){return new Pz(t)}static widget(t){let e=t.side||0,i=!!t.block;return e+=i?e>0?3e8:-4e8:e>0?1e8:-1e8,new ep(t,e,e,i,t.widget||null,!1)}static replace(t){let e=!!t.block,i,n;if(t.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:l}=Dz(t,e);i=(s?e?-3e8:-1:5e8)-1,n=(l?e?2e8:1:-6e8)+1}return new ep(t,i,n,e,t.widget||null,!0)}static line(t){return new $$(t)}static set(t,e=!1){return jn.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};li.none=jn.empty;let Pz=class Mz extends li{constructor(t){let{start:e,end:i}=Dz(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof Mz&&this.tagName==t.tagName&&this.class==t.class&&k$(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}};Pz.prototype.point=!1;let $$=class Rz extends li{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Rz&&k$(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}};$$.prototype.mapMode=or.TrackBefore;$$.prototype.point=!0;let ep=class Ez extends li{constructor(t,e,i,n,s,l){super(e,i,s,t),this.block=n,this.isReplace=l,this.mapMode=n?e<=0?or.TrackBefore:or.TrackAfter:or.TrackDel}get type(){return this.startSide<this.endSide?Mi.WidgetRange:this.startSide<=0?Mi.WidgetBefore:Mi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof Ez&&tW(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}};ep.prototype.point=!0;function Dz(r,t=!1){let{inclusiveStart:e,inclusiveEnd:i}=r;return e==null&&(e=r.inclusive),i==null&&(i=r.inclusive),{start:e??t,end:i??t}}function tW(r,t){return r==t||!!(r&&t&&r.compare(t))}function Xv(r,t,e,i=0){let n=e.length-1;n>=0&&e[n]+i>=r?e[n]=Math.max(e[n],t):e.push(r,t)}let Fr=class B0 extends Bi{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,n,s,l){if(i){if(!(i instanceof B0))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),wz(this,t,e,i?i.children:[],s,l),!0}split(t){let e=new B0;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i,off:n}=this.childPos(t);n&&(e.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)e.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){k$(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){Tz(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=Zv(e,this.attrs||{})),i&&(this.attrs=Zv({class:i},this.attrs||{}))}domAtPos(t){return Cz(this.dom,this.children,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.dirty|=6)}sync(t){var e;this.dom?this.dirty&4&&(bz(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Vv(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t);let i=this.dom.lastChild;for(;i&&Bi.get(i)instanceof dh;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((e=Bi.get(i))===null||e===void 0?void 0:e.isEditable)==!1&&(!jt.ios||!this.children.some(n=>n instanceof tp))){let n=document.createElement("BR");n.cmIgnore=!0,this.dom.appendChild(n)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof tp))return null;let i=Kd(e.dom);if(i.length!=1)return null;t+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,e){return Qz(this,t,e)}become(t){return!1}get type(){return Mi.Text}static find(t,e){for(let i=0,n=0;i<t.children.length;i++){let s=t.children[i],l=n+s.length;if(l>=e){if(s instanceof B0)return s;if(l>e)break}n=l+s.breakAfter}return null}},Iv=class _0 extends Bi{constructor(t,e,i){super(),this.widget=t,this.length=e,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,n,s,l){return i&&(!(i instanceof _0)||!this.widget.compare(i.widget)||t>0&&s<=0||e<this.length&&l<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?Dn.before(this.dom):Dn.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new _0(this.widget,e,this.type);return i.breakAfter=this.breakAfter,i}get children(){return w$}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):He.empty}domBoundsAround(){return null}become(t){return t instanceof _0&&t.type==this.type&&t.widget.constructor==this.widget.constructor?(t.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},eW=class Bz{constructor(t,e,i,n){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof Iv&&t.type==Mi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Fr),this.atCursorPos=!0),this.curLine}flushBuffer(t){this.pendingBuffer&&(this.curLine.append(xm(new Nv(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer([]),this.curLine=null,this.content.push(t)}finish(t){t?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:l,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,t--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(0,i)),this.getLine().append(xm(new tp(this.text.slice(this.textOff,this.textOff+n)),e),i),this.atCursorPos=!0,this.textOff+=n,t-=n,i=0}}span(t,e,i,n){this.buildText(e-t,i,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,i,n,s,l){if(this.disallowBlockEffectsFor[l]&&i instanceof ep){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(i instanceof ep)if(i.block){let{type:a}=i;a==Mi.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Iv(i.widget||new MM("div"),o,a))}else{let a=v$.create(i.widget||new MM("span"),o,i.startSide),f=this.atCursorPos&&!a.isEditable&&s<=n.length&&(t<e||i.startSide>0),c=!a.isEditable&&(t<e||i.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!f&&(this.pendingBuffer=0),this.flushBuffer(n),f&&(p.append(xm(new Nv(1),n),s),s=n.length+Math.max(0,s-n.length)),p.append(xm(a,n),s),this.atCursorPos=c,this.pendingBuffer=c?t<e?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=s)}static build(t,e,i,n,s){let l=new Bz(t,e,i,s);return l.openEnd=jn.spans(n,e,i,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}};function xm(r,t){for(let e of t)r=new dh(e,[r],r.length);return r}let MM=class extends b1{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}};const _z=fe.define(),zz=fe.define(),Nz=fe.define(),Lz=fe.define(),jv=fe.define(),Zz=fe.define(),Vz=fe.define({combine:r=>r.some(t=>t)});let RM=class Xz{constructor(t,e="nearest",i="nearest",n=5,s=5){this.range=t,this.y=e,this.x=i,this.yMargin=n,this.xMargin=s}map(t){return t.empty?this:new Xz(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}};const EM=on.define({map:(r,t)=>r.map(t)});function pa(r,t,e){let i=r.facet(Lz);i.length?i[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const Pp=fe.define({combine:r=>r.length?r[0]:!0});let iW=0;const Uc=fe.define();let A$=class qv{constructor(t,e,i,n){this.id=t,this.create=e,this.domEventHandlers=i,this.extension=n(this)}static define(t,e){const{eventHandlers:i,provide:n,decorations:s}=e||{};return new qv(iW++,t,i,l=>{let o=[Uc.of(l)];return s&&o.push(ip.of(a=>{let f=a.plugin(l);return f?s(f):li.none})),n&&o.push(n(l)),o})}static fromClass(t,e){return qv.define(i=>new t(i),e)}},Px=class{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(i){if(pa(e.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){pa(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(i){pa(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const Iz=fe.define(),jz=fe.define(),ip=fe.define(),qz=fe.define(),Wz=fe.define(),Gc=fe.define();let np=class z0{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new z0(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(e.length==0)return t;let i=[];for(let n=0,s=0,l=0,o=0;;n++){let a=n==t.length?null:t[n],f=l-o,c=a?a.fromB:1e9;for(;s<e.length&&e[s]<c;){let p=e[s],m=e[s+1],O=Math.max(o,p),y=Math.min(c,m);if(O<=y&&new z0(O+f,y+f,O,y).addToSet(i),m>c)break;s+=2}if(!a)return i;new z0(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),l=a.toA,o=a.toB}}},DM=class Yz{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=ol.empty(this.startState.doc.length);for(let l of i)this.changes=this.changes.compose(l.changes);let n=[];this.changes.iterChangedRanges((l,o,a,f)=>n.push(new np(l,o,a,f))),this.changedRanges=n;let s=t.hasFocus;s!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=s,this.flags|=1)}static create(t,e,i){return new Yz(t,e,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};var gn=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(gn||(gn={}));const Wv=gn.LTR,nW=gn.RTL;function Hz(r){let t=[];for(let e=0;e<r.length;e++)t.push(1<<+r[e]);return t}const rW=Hz("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),sW=Hz("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Yv=Object.create(null),cs=[];for(let r of["()","[]","{}"]){let t=r.charCodeAt(0),e=r.charCodeAt(1);Yv[t]=e,Yv[e]=-t}function lW(r){return r<=247?rW[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?sW[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203||r==8204?256:1}const oW=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;let Qu=class{constructor(t,e,i){this.from=t,this.to=e,this.level=i}get dir(){return this.level%2?nW:Wv}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,i,n){let s=-1;for(let l=0;l<t.length;l++){let o=t[l];if(o.from<=e&&o.to>=e){if(o.level==i)return l;(s<0||(n!=0?n<0?o.from<e:o.to>e:t[s].level>o.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}};const ri=[];function aW(r,t){let e=r.length,i=t==Wv?1:2,n=t==Wv?2:1;if(!r||i==1&&!oW.test(r))return Uz(e);for(let l=0,o=i,a=i;l<e;l++){let f=lW(r.charCodeAt(l));f==512?f=o:f==8&&a==4&&(f=16),ri[l]=f==4?2:f,f&7&&(a=f),o=f}for(let l=0,o=i,a=i;l<e;l++){let f=ri[l];if(f==128)l<e-1&&o==ri[l+1]&&o&24?f=ri[l]=o:ri[l]=256;else if(f==64){let c=l+1;for(;c<e&&ri[c]==64;)c++;let p=l&&o==8||c<e&&ri[c]==8?a==1?1:8:256;for(let m=l;m<c;m++)ri[m]=p;l=c-1}else f==8&&a==1&&(ri[l]=1);o=f,f&7&&(a=f)}for(let l=0,o=0,a=0,f,c,p;l<e;l++)if(c=Yv[f=r.charCodeAt(l)])if(c<0){for(let m=o-3;m>=0;m-=3)if(cs[m+1]==-c){let O=cs[m+2],y=O&2?i:O&4?O&1?n:i:0;y&&(ri[l]=ri[cs[m]]=y),o=m;break}}else{if(cs.length==189)break;cs[o++]=l,cs[o++]=f,cs[o++]=a}else if((p=ri[l])==2||p==1){let m=p==i;a=m?0:1;for(let O=o-3;O>=0;O-=3){let y=cs[O+2];if(y&2)break;if(m)cs[O+2]|=2;else{if(y&4)break;cs[O+2]|=4}}}for(let l=0;l<e;l++)if(ri[l]==256){let o=l+1;for(;o<e&&ri[o]==256;)o++;let a=(l?ri[l-1]:i)==1,f=(o<e?ri[o]:i)==1,c=a==f?a?1:2:i;for(let p=l;p<o;p++)ri[p]=c;l=o-1}let s=[];if(i==1)for(let l=0;l<e;){let o=l,a=ri[l++]!=1;for(;l<e&&a==(ri[l]!=1);)l++;if(a)for(let f=l;f>o;){let c=f,p=ri[--f]!=2;for(;f>o&&p==(ri[f-1]!=2);)f--;s.push(new Qu(f,c,p?2:1))}else s.push(new Qu(o,l,0))}else for(let l=0;l<e;){let o=l,a=ri[l++]==2;for(;l<e&&a==(ri[l]==2);)l++;s.push(new Qu(o,l,a?1:2))}return s}function Uz(r){return[new Qu(0,r,0)]}let Gz="";function hW(r,t,e,i,n){var s;let l=i.head-r.from,o=-1;if(l==0){if(!n||!r.length)return null;t[0].level!=e&&(l=t[0].side(!1,e),o=0)}else if(l==r.length){if(n)return null;let m=t[t.length-1];m.level!=e&&(l=m.side(!0,e),o=t.length-1)}o<0&&(o=Qu.find(t,l,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let a=t[o];l==a.side(n,e)&&(a=t[o+=n?1:-1],l=a.side(!n,e));let f=n==(a.dir==e),c=Kl(r.text,l,f);if(Gz=r.text.slice(Math.min(l,c),Math.max(l,c)),c!=a.side(n,e))return oe.cursor(c+r.from,f?-1:1,a.level);let p=o==(n?t.length-1:0)?null:t[o+(n?1:-1)];return!p&&a.level!=e?oe.cursor(n?r.to:r.from,n?-1:1,e):p&&p.level<a.level?oe.cursor(p.side(!n,e)+r.from,n?1:-1,p.level):oe.cursor(c+r.from,n?-1:1,a.level)}const aa="";let Fz=class{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Di.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=aa}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n),this.readNode(n);let s=n.nextSibling;if(s==e)break;let l=Bi.get(n),o=Bi.get(s);(l&&o?l.breakAfter:(l?l.breakAfter:BM(n))||BM(s)&&(n.nodeName!="BR"||n.cmIgnore))&&this.lineBreak(),n=s}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,o;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,i),l=this.lineSeparator.length):(o=n.exec(e))&&(s=o.index,l=o[0].length),this.append(e.slice(i,s<0?e.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let a of this.points)a.node==t&&a.pos>this.text.length&&(a.pos-=l-1);i=s+l}}readNode(t){if(t.cmIgnore)return;let e=Bi.get(t),i=e&&e.overrideDOMText;if(i!=null){this.findPointInside(t,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(t.nodeType==3?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+Math.min(e,i.offset))}};function BM(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}let _M=class{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}},zM=class extends Bi{constructor(t){super(),this.view=t,this.compositionDeco=li.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Fr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new np(0,0,0,t.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every(({fromA:l,toA:o})=>o<this.minWidthFrom||l>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=li.none:(t.transactions.length||this.dirty)&&(this.compositionDeco=fW(this.view,t.changes)),(jt.ie||jt.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,n=this.updateDeco(),s=gW(i,n,t.changes);return e=np.extendWithRanges(e,s),this.dirty==0&&e.length==0?!1:(this.updateInner(e,t.startState.doc.length),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=jt.chrome||jt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(s),this.dirty=0,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Iv&&s.widget instanceof NM&&n.push(s.dom);i.updateGaps(n)}updateChildren(t,e){let i=this.childCursor(e);for(let n=t.length-1;;n--){let s=n>=0?t[n]:null;if(!s)break;let{fromA:l,toA:o,fromB:a,toB:f}=s,{content:c,breakAtStart:p,openStart:m,openEnd:O}=eW.build(this.view.state.doc,a,f,this.decorations,this.dynamicDecorationMap),{i:y,off:S}=i.findPos(o,1),{i:w,off:v}=i.findPos(l,-1);Sz(this,w,v,y,S,c,p,m,O)}}updateSelection(t=!1,e=!1){if(t&&this.view.observer.readSelectionRange(),!(e||this.mayControlSelection())||jt.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let n=this.view.state.selection.main,s=this.domAtPos(n.anchor),l=n.empty?s:this.domAtPos(n.head);if(jt.gecko&&n.empty&&uW(s)){let a=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(a,s.node.childNodes[s.offset]||null)),s=l=new Dn(a,0),i=!0}let o=this.view.observer.selectionRange;(i||!o.focusNode||!TO(s.node,s.offset,o.anchorNode,o.anchorOffset)||!TO(l.node,l.offset,o.focusNode,o.focusOffset))&&(this.view.observer.ignore(()=>{jt.android&&jt.chrome&&this.dom.contains(o.focusNode)&&mW(o.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=CO(this.root);if(n.empty){if(jt.gecko){let f=dW(s.node,s.offset);if(f&&f!=3){let c=Jz(s.node,s.offset,f==1?1:-1);c&&(s=new Dn(c,f==1?0:c.nodeValue.length))}}a.collapse(s.node,s.offset),n.bidiLevel!=null&&o.cursorBidiLevel!=null&&(o.cursorBidiLevel=n.bidiLevel)}else if(a.extend)a.collapse(s.node,s.offset),a.extend(l.node,l.offset);else{let f=document.createRange();n.anchor>n.head&&([s,l]=[l,s]),f.setEnd(l.node,l.offset),f.setStart(s.node,s.offset),a.removeAllRanges(),a.addRange(f)}}),this.view.observer.setSelectionRange(s,l)),this.impreciseAnchor=s.precise?null:new Dn(o.anchorNode,o.anchorOffset),this.impreciseHead=l.precise?null:new Dn(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let t=this.view.state.selection.main,e=CO(this.root);if(!t.empty||!t.assoc||!e.modify)return;let i=Fr.find(this,t.head);if(!i)return;let n=i.posAtStart;if(t.head==n||t.head==n+i.length)return;let s=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!s||!l||s.bottom>l.top)return;let o=this.domAtPos(t.head+t.assoc);e.collapse(o.node,o.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Pp)?this.root.activeElement==this.dom:Cv(this.dom,this.view.observer.selectionRange)}nearest(t){for(let e=t;e;){let i=Bi.get(e);if(i&&i.rootView==this)return i;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let n=this.children[e];if(i<n.length||n instanceof Fr)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){for(let i=this.length,n=this.children.length-1;;n--){let s=this.children[n],l=i-s.breakAfter-s.length;if(t>l||t==l&&s.type!=Mi.WidgetBefore&&s.type!=Mi.WidgetAfter&&(!n||e==2||this.children[n-1].breakAfter||this.children[n-1].type==Mi.WidgetBefore&&e>-2))return s.coordsAt(t-l,e);i=l}}measureVisibleLineHeights(t){let e=[],{from:i,to:n}=t,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==gn.LTR;for(let f=0,c=0;c<this.children.length;c++){let p=this.children[c],m=f+p.length;if(m>n)break;if(f>=i){let O=p.dom.getBoundingClientRect();if(e.push(O.height),l){let y=p.dom.lastChild,S=y?Kd(y):[];if(S.length){let w=S[S.length-1],v=a?w.right-O.left:O.right-w.left;v>o&&(o=v,this.minWidth=s,this.minWidthFrom=f,this.minWidthTo=m)}}}f=m+p.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?gn.RTL:gn.LTR}measureTextSize(){for(let n of this.children)if(n instanceof Fr){let s=n.measureTextSize();if(s)return s}let t=document.createElement("div"),e,i;return t.className="cm-line",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let n=Kd(t.firstChild)[0];e=t.getBoundingClientRect().height,i=n?n.width/27:7,t.remove()}),{lineHeight:e,charWidth:i}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new xz(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,n=0;;n++){let s=n==e.viewports.length?null:e.viewports[n],l=s?s.from-1:this.length;if(l>i){let o=e.lineBlockAt(l).bottom-e.lineBlockAt(i).top;t.push(li.replace({widget:new NM(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,l))}if(!s)break;i=s.to+1}return li.set(t)}updateDeco(){let t=this.view.state.facet(ip).map((e,i)=>(this.dynamicDecorationMap[i]=typeof e=="function")?e(this.view):e);for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){let{range:e}=t,i=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),n;if(!i)return;!e.empty&&(n=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=0,l=0,o=0,a=0;for(let c of this.view.state.facet(Wz).map(p=>p(this.view)))if(c){let{left:p,right:m,top:O,bottom:y}=c;p!=null&&(s=Math.max(s,p)),m!=null&&(l=Math.max(l,m)),O!=null&&(o=Math.max(o,O)),y!=null&&(a=Math.max(a,y))}let f={left:i.left-s,top:i.top-o,right:i.right+l,bottom:i.bottom+a};Hq(this.view.scrollDOM,f,e.head<e.anchor?-1:1,t.x,t.y,t.xMargin,t.yMargin,this.view.textDirection==gn.LTR)}};function uW(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}let NM=class extends b1{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}};function Kz(r){let t=r.observer.selectionRange,e=t.focusNode&&Jz(t.focusNode,t.focusOffset,0);if(!e)return null;let i=r.docView.nearest(e);if(!i)return null;if(i instanceof Fr){let n=e;for(;n.parentNode!=i.dom;)n=n.parentNode;let s=n.previousSibling;for(;s&&!Bi.get(s);)s=s.previousSibling;let l=s?Bi.get(s).posAtEnd:i.posAtStart;return{from:l,to:l,node:n,text:e}}else{for(;;){let{parent:s}=i;if(!s)return null;if(s instanceof Fr)break;i=s}let n=i.posAtStart;return{from:n,to:n+i.length,node:i.dom,text:e}}}function fW(r,t){let e=Kz(r);if(!e)return li.none;let{from:i,to:n,node:s,text:l}=e,o=t.mapPos(i,1),a=Math.max(o,t.mapPos(n,-1)),{state:f}=r,c=s.nodeType==3?s.nodeValue:new Fz([],f).readRange(s.firstChild,null).text;if(a-o<c.length)if(f.doc.sliceString(o,Math.min(f.doc.length,o+c.length),aa)==c)a=o+c.length;else if(f.doc.sliceString(Math.max(0,a-c.length),a,aa)==c)o=a-c.length;else return li.none;else if(f.doc.sliceString(o,a,aa)!=c)return li.none;let p=Bi.get(s);return p instanceof $z?p=p.widget.topView:p&&(p.parent=null),li.set(li.replace({widget:new cW(s,l,p),inclusive:!0}).range(o,a))}let cW=class extends b1{constructor(t,e,i){super(),this.top=t,this.text=e,this.topView=i}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return $z}};function Jz(r,t,e){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&t>0&&e<=0)r=r.childNodes[t-1],t=QO(r);else if(r.nodeType==1&&t<r.childNodes.length&&e>=0)r=r.childNodes[t],t=0;else return null}}function dW(r,t){return r.nodeType!=1?0:(t&&r.childNodes[t-1].contentEditable=="false"?1:0)|(t<r.childNodes.length&&r.childNodes[t].contentEditable=="false"?2:0)}let pW=class{constructor(){this.changes=[]}compareRange(t,e){Xv(t,e,this.changes)}comparePoint(t,e){Xv(t,e,this.changes)}};function gW(r,t,e){let i=new pW;return jn.compare(r,t,e,i),i.changes}function mW(r,t){for(let e=r;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function OW(r,t,e=1){let i=r.charCategorizer(t),n=r.doc.lineAt(t),s=t-n.from;if(n.length==0)return oe.cursor(t);s==0?e=1:s==n.length&&(e=-1);let l=s,o=s;e<0?l=Kl(n.text,s,!1):o=Kl(n.text,s);let a=i(n.text.slice(l,o));for(;l>0;){let f=Kl(n.text,l,!1);if(i(n.text.slice(f,l))!=a)break;l=f}for(;o<n.length;){let f=Kl(n.text,o);if(i(n.text.slice(o,f))!=a)break;o=f}return oe.range(l+n.from,o+n.from)}function yW(r,t){return t.left>r?t.left-r:Math.max(0,r-t.right)}function bW(r,t){return t.top>r?t.top-r:Math.max(0,r-t.bottom)}function Mx(r,t){return r.top<t.bottom-1&&r.bottom>t.top+1}function LM(r,t){return t<r.top?{top:t,left:r.left,right:r.right,bottom:r.bottom}:r}function ZM(r,t){return t>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:t}:r}function Hv(r,t,e){let i,n,s,l,o,a,f,c;for(let O=r.firstChild;O;O=O.nextSibling){let y=Kd(O);for(let S=0;S<y.length;S++){let w=y[S];n&&Mx(n,w)&&(w=LM(ZM(w,n.bottom),n.top));let v=yW(t,w),T=bW(e,w);if(v==0&&T==0)return O.nodeType==3?VM(O,t,e):Hv(O,t,e);(!i||l>T||l==T&&s>v)&&(i=O,n=w,s=v,l=T),v==0?e>w.bottom&&(!f||f.bottom<w.bottom)?(o=O,f=w):e<w.top&&(!c||c.top>w.top)&&(a=O,c=w):f&&Mx(f,w)?f=ZM(f,w.bottom):c&&Mx(c,w)&&(c=LM(c,w.top))}}if(f&&f.bottom>=e?(i=o,n=f):c&&c.top<=e&&(i=a,n=c),!i)return{node:r,offset:0};let p=Math.max(n.left,Math.min(n.right,t));if(i.nodeType==3)return VM(i,p,e);if(!s&&i.contentEditable=="true")return Hv(i,p,e);let m=Array.prototype.indexOf.call(r.childNodes,i)+(t>=(n.left+n.right)/2?1:0);return{node:r,offset:m}}function VM(r,t,e){let i=r.nodeValue.length,n=-1,s=1e9,l=0;for(let o=0;o<i;o++){let a=Jd(r,o,o+1).getClientRects();for(let f=0;f<a.length;f++){let c=a[f];if(c.top==c.bottom)continue;l||(l=t-c.left);let p=(c.top>e?c.top-e:e-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&p<s){let m=t>=(c.left+c.right)/2,O=m;if((jt.chrome||jt.gecko)&&Jd(r,o).getBoundingClientRect().left==c.right&&(O=!m),p<=0)return{node:r,offset:o+(O?1:0)};n=o+(O?1:0),s=p}}}return{node:r,offset:n>-1?n:l>0?r.nodeValue.length:0}}function tN(r,{x:t,y:e},i,n=-1){var s;let l=r.contentDOM.getBoundingClientRect(),o=l.top+r.viewState.paddingTop,a,{docHeight:f}=r.viewState,c=e-o;if(c<0)return 0;if(c>f)return r.state.doc.length;for(let v=r.defaultLineHeight/2,T=!1;a=r.elementAtHeight(c),a.type!=Mi.Text;)for(;c=n>0?a.bottom+v:a.top-v,!(c>=0&&c<=f);){if(T)return i?null:0;T=!0,n=-n}e=o+c;let p=a.from;if(p<r.viewport.from)return r.viewport.from==0?0:i?null:XM(r,l,a,t,e);if(p>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:i?null:XM(r,l,a,t,e);let m=r.dom.ownerDocument,O=r.root.elementFromPoint?r.root:m,y=O.elementFromPoint(t,e);y&&!r.contentDOM.contains(y)&&(y=null),y||(t=Math.max(l.left+1,Math.min(l.right-1,t)),y=O.elementFromPoint(t,e),y&&!r.contentDOM.contains(y)&&(y=null));let S,w=-1;if(y&&((s=r.docView.nearest(y))===null||s===void 0?void 0:s.isEditable)!=!1){if(m.caretPositionFromPoint){let v=m.caretPositionFromPoint(t,e);v&&({offsetNode:S,offset:w}=v)}else if(m.caretRangeFromPoint){let v=m.caretRangeFromPoint(t,e);v&&({startContainer:S,startOffset:w}=v,jt.safari&&xW(S,w,t)&&(S=void 0))}}if(!S||!r.docView.dom.contains(S)){let v=Fr.find(r.docView,p);if(!v)return c>a.top+a.height/2?a.to:a.from;({node:S,offset:w}=Hv(v.dom,t,e))}return r.docView.posFromDOM(S,w)}function XM(r,t,e,i,n){let s=Math.round((i-t.left)*r.defaultCharacterWidth);if(r.lineWrapping&&e.height>r.defaultLineHeight*1.5){let o=Math.floor((n-e.top)/r.defaultLineHeight);s+=o*r.viewState.heightOracle.lineLength}let l=r.state.sliceDoc(e.from,e.to);return e.from+qq(l,s,r.state.tabSize)}function xW(r,t,e){let i;if(r.nodeType!=3||t!=(i=r.nodeValue.length))return!1;for(let n=r.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return Jd(r,i-1,i).getBoundingClientRect().left>e}function SW(r,t,e,i){let n=r.state.doc.lineAt(t.head),s=!i||!r.lineWrapping?null:r.coordsAtPos(t.assoc<0&&t.head>n.from?t.head-1:t.head);if(s){let a=r.dom.getBoundingClientRect(),f=r.textDirectionAt(n.from),c=r.posAtCoords({x:e==(f==gn.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(c!=null)return oe.cursor(c,e?-1:1)}let l=Fr.find(r.docView,t.head),o=l?e?l.posAtEnd:l.posAtStart:e?n.to:n.from;return oe.cursor(o,e?-1:1)}function IM(r,t,e,i){let n=r.state.doc.lineAt(t.head),s=r.bidiSpans(n),l=r.textDirectionAt(n.from);for(let o=t,a=null;;){let f=hW(n,s,l,o,e),c=Gz;if(!f){if(n.number==(e?r.state.doc.lines:1))return o;c=`
`,n=r.state.doc.line(n.number+(e?1:-1)),s=r.bidiSpans(n),f=oe.cursor(e?n.from:n.to)}if(a){if(!a(c))return o}else{if(!i)return f;a=i(c)}o=f}}function wW(r,t,e){let i=r.state.charCategorizer(t),n=i(e);return s=>{let l=i(s);return n==Jl.Space&&(n=l),n==l}}function vW(r,t,e,i){let n=t.head,s=e?1:-1;if(n==(e?r.state.doc.length:0))return oe.cursor(n,t.assoc);let l=t.goalColumn,o,a=r.contentDOM.getBoundingClientRect(),f=r.coordsAtPos(n),c=r.documentTop;if(f)l==null&&(l=f.left-a.left),o=s<0?f.top:f.bottom;else{let O=r.viewState.lineBlockAt(n);l==null&&(l=Math.min(a.right-a.left,r.defaultCharacterWidth*(n-O.from))),o=(s<0?O.top:O.bottom)+c}let p=a.left+l,m=i??r.defaultLineHeight>>1;for(let O=0;;O+=10){let y=o+(m+O)*s,S=tN(r,{x:p,y},!1,s);if(y<a.top||y>a.bottom||(s<0?S<n:S>n))return oe.cursor(S,t.assoc,void 0,l)}}function Rx(r,t,e){let i=r.state.facet(qz).map(n=>n(r));for(;;){let n=!1;for(let s of i)s.between(e.from-1,e.from+1,(l,o,a)=>{e.from>l&&e.from<o&&(e=t.from>e.from?oe.cursor(l,1):oe.cursor(o,-1),n=!0)});if(!n)return e}}let kW=class{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let e in Vi){let i=Vi[e];t.contentDOM.addEventListener(e,n=>{!jM(t,n)||this.ignoreDuringComposition(n)||e=="keydown"&&this.keydown(t,n)||(this.mustFlushObserver(n)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,n)?n.preventDefault():i(t,n))}),this.registeredEvents.push(e)}jt.chrome&&jt.chrome_version>=102&&t.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=t.hasFocus,jt.safari&&t.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t,e){var i;let n;this.customHandlers=[];for(let s of e)if(n=(i=s.update(t).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:n});for(let l in n)this.registeredEvents.indexOf(l)<0&&l!="scroll"&&(this.registeredEvents.push(l),t.contentDOM.addEventListener(l,o=>{jM(t,o)&&this.runCustomHandlers(l,t,o)&&o.preventDefault()}))}}runCustomHandlers(t,e,i){for(let n of this.customHandlers){let s=n.handlers[t];if(s)try{if(s.call(n.plugin,i,e)||i.defaultPrevented)return!0}catch(l){pa(e.state,l)}}return!1}runScrollHandlers(t,e){for(let i of this.customHandlers){let n=i.handlers.scroll;if(n)try{n.call(i.plugin,e,t)}catch(s){pa(t.state,s)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(jt.android&&jt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return t.observer.delayAndroidKey(e.key,e.keyCode),!0;let i;return jt.ios&&(i=eN.find(n=>n.keyCode==e.keyCode))&&!(e.ctrlKey||e.altKey||e.metaKey)&&!e.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(t),250),!0):!1}flushIOSKey(t){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,$d(t.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:jt.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(t){return t.type=="keydown"&&t.keyCode!=229||t.type=="compositionend"&&!jt.ios}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};const eN=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],$W=[16,17,18,20,91,92,224,225];let AW=class{constructor(t,e,i,n){this.view=t,this.style=i,this.mustSelect=n,this.lastEvent=e;let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Di.allowMultipleSelections)&&CW(t,e),this.dragMove=TW(t,e),this.dragging=QW(t,e)&&C$(e)==1?null:!1,this.dragging===!1&&(e.preventDefault(),this.select(e))}move(t){if(t.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=t)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);(this.mustSelect||!e.eq(this.view.state.selection)||e.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:e,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}};function CW(r,t){let e=r.state.facet(_z);return e.length?e[0](t):jt.mac?t.metaKey:t.ctrlKey}function TW(r,t){let e=r.state.facet(zz);return e.length?e[0](t):jt.mac?!t.altKey:!t.ctrlKey}function QW(r,t){let{main:e}=r.state.selection;if(e.empty)return!1;let i=CO(r.root);if(i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let l=n[s];if(l.left<=t.clientX&&l.right>=t.clientX&&l.top<=t.clientY&&l.bottom>=t.clientY)return!0}return!1}function jM(r,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,i;e!=r.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(i=Bi.get(e))&&i.ignoreEvent(t))return!1;return!0}const Vi=Object.create(null),iN=jt.ie&&jt.ie_version<15||jt.ios&&jt.webkit_version<604;function PW(r){let t=r.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{r.focus(),e.remove(),nN(r,e.value)},50)}function nN(r,t){let{state:e}=r,i,n=1,s=e.toText(t),l=s.lines==e.selection.ranges.length;if(Uv!=null&&e.selection.ranges.every(a=>a.empty)&&Uv==s.toString()){let a=-1;i=e.changeByRange(f=>{let c=e.doc.lineAt(f.from);if(c.from==a)return{range:f};a=c.from;let p=e.toText((l?s.line(n++).text:t)+e.lineBreak);return{changes:{from:c.from,insert:p},range:oe.cursor(f.from+p.length)}})}else l?i=e.changeByRange(a=>{let f=s.line(n++);return{changes:{from:a.from,to:a.to,insert:f.text},range:oe.cursor(a.from+f.length)}}):i=e.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Vi.keydown=(r,t)=>{r.inputState.setSelectionOrigin("select"),t.keyCode==27?r.inputState.lastEscPress=Date.now():$W.indexOf(t.keyCode)<0&&(r.inputState.lastEscPress=0)};let rN=0;Vi.touchstart=(r,t)=>{rN=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Vi.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Vi.mousedown=(r,t)=>{if(r.observer.flush(),rN>Date.now()-2e3&&C$(t)==1)return;let e=null;for(let i of r.state.facet(Nz))if(e=i(r,t),e)break;if(!e&&t.button==0&&(e=EW(r,t)),e){let i=r.root.activeElement!=r.contentDOM;i&&r.observer.ignore(()=>yz(r.contentDOM)),r.inputState.startMouseSelection(new AW(r,t,e,i))}};function qM(r,t,e,i){if(i==1)return oe.cursor(t,e);if(i==2)return OW(r.state,t,e);{let n=Fr.find(r.docView,t),s=r.state.doc.lineAt(n?n.posAtEnd:t),l=n?n.posAtStart:s.from,o=n?n.posAtEnd:s.to;return o<r.state.doc.length&&o==s.to&&o++,oe.range(l,o)}}let sN=(r,t)=>r>=t.top&&r<=t.bottom,WM=(r,t,e)=>sN(t,e)&&r>=e.left&&r<=e.right;function MW(r,t,e,i){let n=Fr.find(r.docView,t);if(!n)return 1;let s=t-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let l=n.coordsAt(s,-1);if(l&&WM(e,i,l))return-1;let o=n.coordsAt(s,1);return o&&WM(e,i,o)?1:l&&sN(i,l)?-1:1}function YM(r,t){let e=r.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:MW(r,e,t.clientX,t.clientY)}}const RW=jt.ie&&jt.ie_version<=11;let HM=null,UM=0,GM=0;function C$(r){if(!RW)return r.detail;let t=HM,e=GM;return HM=r,GM=Date.now(),UM=!t||e>Date.now()-400&&Math.abs(t.clientX-r.clientX)<2&&Math.abs(t.clientY-r.clientY)<2?(UM+1)%3:1}function EW(r,t){let e=YM(r,t),i=C$(t),n=r.state.selection,s=e,l=t;return{update(o){o.docChanged&&(e&&(e.pos=o.changes.mapPos(e.pos)),n=n.map(o.changes),l=null)},get(o,a,f){let c;if(l&&o.clientX==l.clientX&&o.clientY==l.clientY?c=s:(c=s=YM(r,o),l=o),!c||!e)return n;let p=qM(r,c.pos,c.bias,i);if(e.pos!=c.pos&&!a){let m=qM(r,e.pos,e.bias,i),O=Math.min(m.from,p.from),y=Math.max(m.to,p.to);p=O<p.from?oe.range(O,y):oe.range(y,O)}return a?n.replaceRange(n.main.extend(p.from,p.to)):f?n.addRange(p):oe.create([p])}}}Vi.dragstart=(r,t)=>{let{selection:{main:e}}=r.state,{mouseSelection:i}=r.inputState;i&&(i.dragging=e),t.dataTransfer&&(t.dataTransfer.setData("Text",r.state.sliceDoc(e.from,e.to)),t.dataTransfer.effectAllowed="copyMove")};function FM(r,t,e,i){if(!e)return;let n=r.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:s}=r.inputState,l=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,o={from:n,insert:e},a=r.state.changes(l?[l,o]:o);r.focus(),r.dispatch({changes:a,selection:{anchor:a.mapPos(n,-1),head:a.mapPos(n,1)},userEvent:l?"move.drop":"input.drop"})}Vi.drop=(r,t)=>{if(!t.dataTransfer)return;if(r.state.readOnly)return t.preventDefault();let e=t.dataTransfer.files;if(e&&e.length){t.preventDefault();let i=Array(e.length),n=0,s=()=>{++n==e.length&&FM(r,t,i.filter(l=>l!=null).join(r.state.lineBreak),!1)};for(let l=0;l<e.length;l++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[l]=o.result),s()},o.readAsText(e[l])}}else FM(r,t,t.dataTransfer.getData("Text"),!0)};Vi.paste=(r,t)=>{if(r.state.readOnly)return t.preventDefault();r.observer.flush();let e=iN?null:t.clipboardData;e?(nN(r,e.getData("text/plain")),t.preventDefault()):PW(r)};function DW(r,t){let e=r.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function BW(r){let t=[],e=[],i=!1;for(let n of r.selection.ranges)n.empty||(t.push(r.sliceDoc(n.from,n.to)),e.push(n));if(!t.length){let n=-1;for(let{from:s}of r.selection.ranges){let l=r.doc.lineAt(s);l.number>n&&(t.push(l.text),e.push({from:l.from,to:Math.min(r.doc.length,l.to+1)})),n=l.number}i=!0}return{text:t.join(r.lineBreak),ranges:e,linewise:i}}let Uv=null;Vi.copy=Vi.cut=(r,t)=>{let{text:e,ranges:i,linewise:n}=BW(r.state);if(!e&&!n)return;Uv=n?e:null;let s=iN?null:t.clipboardData;s?(t.preventDefault(),s.clearData(),s.setData("text/plain",e)):DW(r,e),t.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function lN(r){setTimeout(()=>{r.hasFocus!=r.inputState.notifiedFocused&&r.update([])},10)}Vi.focus=lN;Vi.blur=r=>{r.observer.clearSelectionRange(),lN(r)};function oN(r,t){if(r.docView.compositionDeco.size){r.inputState.rapidCompositionStart=t;try{r.update([])}finally{r.inputState.rapidCompositionStart=!1}}}Vi.compositionstart=Vi.compositionupdate=r=>{r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0,r.docView.compositionDeco.size&&(r.observer.flush(),oN(r,!0)))};Vi.compositionend=r=>{r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionFirstChange=null,setTimeout(()=>{r.inputState.composing<0&&oN(r,!1)},50)};Vi.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Vi.beforeinput=(r,t)=>{var e;let i;if(jt.chrome&&jt.android&&(i=eN.find(n=>n.inputType==t.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let n=((e=window.visualViewport)===null||e===void 0?void 0:e.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}};const KM=["pre-wrap","normal","pre-line","break-spaces"];let _W=class{constructor(){this.doc=He.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return KM.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(e=!0,this.heightSamples[Math.floor(n*10)]=!0)}return e}refresh(t,e,i,n,s){let l=KM.indexOf(t)>-1,o=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=e,this.charWidth=i,this.lineLength=n,o){this.heightSamples={};for(let a=0;a<s.length;a++){let f=s[a];f<0?a++:this.heightSamples[Math.floor(f*10)]=!0}}return o}},zW=class{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}},Ou=class aN{constructor(t,e,i,n,s){this.from=t,this.length=e,this.top=i,this.height=n,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new aN(this.from,this.length+t.length,this.top,this.height+t.height,e)}};var qe=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(qe||(qe={}));const N0=.001;let il=class L0{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>N0&&(t.heightChanged=!0),this.height=e)}replace(t,e,i){return L0.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let s=this;for(let l=n.length-1;l>=0;l--){let{fromA:o,toA:a,fromB:f,toB:c}=n[l],p=s.lineAt(o,qe.ByPosNoHeight,e,0,0),m=p.to>=a?p:s.lineAt(a,qe.ByPosNoHeight,e,0,0);for(c+=m.to-a,a=m.to;l>0&&p.from<=n[l-1].toA;)o=n[l-1].fromA,f=n[l-1].fromB,l--,o<p.from&&(p=s.lineAt(o,qe.ByPosNoHeight,e,0,0));f+=p.from-o,o=p.from;let O=ZW.build(i,t,f,c);s=s.replace(o,a,O)}return s.updateHeight(i,0)}static empty(){return new Is(0,0)}static of(t){if(t.length==1)return t[0];let e=0,i=t.length,n=0,s=0;for(;;)if(e==i)if(n>s*2){let o=t[e-1];o.break?t.splice(--e,1,o.left,null,o.right):t.splice(--e,1,o.left,o.right),i+=1+o.break,n-=o.size}else if(s>n*2){let o=t[i];o.break?t.splice(i,1,o.left,null,o.right):t.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(n<s){let o=t[e++];o&&(n+=o.size)}else{let o=t[--i];o&&(s+=o.size)}let l=0;return t[e-1]==null?(l=1,e--):t[e]==null&&(l=1,i++),new NW(L0.of(t.slice(0,e)),l,L0.of(t.slice(i)))}};il.prototype.size=1;let hN=class extends il{constructor(t,e,i){super(t,e),this.type=i}blockAt(t,e,i,n){return new Ou(n,this.length,i,this.height,this.type)}lineAt(t,e,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(t,e,i,n,s,l){t<=s+this.length&&e>=s&&l(this.blockAt(0,i,n,s))}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(t,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},Is=class Gv extends hN{constructor(t,e){super(t,e,Mi.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,i){let n=i[0];return i.length==1&&(n instanceof Gv||n instanceof Pu&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Pu?n=new Gv(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):il.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setHeight(t,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Pu=class qr extends il{constructor(t){super(t,0)}lines(t,e){let i=t.lineAt(e).number,n=t.lineAt(e+this.length).number;return{firstLine:i,lastLine:n,lineHeight:this.height/(n-i+1)}}blockAt(t,e,i,n){let{firstLine:s,lastLine:l,lineHeight:o}=this.lines(e,n),a=Math.max(0,Math.min(l-s,Math.floor((t-i)/o))),{from:f,length:c}=e.line(s+a);return new Ou(f,c,i+o*a,o,Mi.Text)}lineAt(t,e,i,n,s){if(e==qe.ByHeight)return this.blockAt(t,i,n,s);if(e==qe.ByPosNoHeight){let{from:p,to:m}=i.lineAt(t);return new Ou(p,m-p,0,0,Mi.Text)}let{firstLine:l,lineHeight:o}=this.lines(i,s),{from:a,length:f,number:c}=i.lineAt(t);return new Ou(a,f,n+o*(c-l),o,Mi.Text)}forEachLine(t,e,i,n,s,l){let{firstLine:o,lineHeight:a}=this.lines(i,s);for(let f=Math.max(t,s),c=Math.min(s+this.length,e);f<=c;){let p=i.lineAt(f);f==t&&(n+=a*(p.number-o)),l(new Ou(p.from,p.length,n,a,Mi.Text)),n+=a,f=p.to+1}}replace(t,e,i){let n=this.length-e;if(n>0){let s=i[i.length-1];s instanceof qr?i[i.length-1]=new qr(s.length+n):i.push(null,new qr(n-1))}if(t>0){let s=i[0];s instanceof qr?i[0]=new qr(t+s.length):i.unshift(new qr(t-1),null)}return il.of(i)}decomposeLeft(t,e){e.push(new qr(t-1),null)}decomposeRight(t,e){e.push(null,new qr(this.length-t-1))}updateHeight(t,e=0,i=!1,n){let s=e+this.length;if(n&&n.from<=e+this.length&&n.more){let l=[],o=Math.max(e,n.from),a=-1,f=t.heightChanged;for(n.from>e&&l.push(new qr(n.from-e-1).updateHeight(t,e));o<=s&&n.more;){let p=t.doc.lineAt(o).length;l.length&&l.push(null);let m=n.heights[n.index++];a==-1?a=m:Math.abs(m-a)>=N0&&(a=-2);let O=new Is(p,m);O.outdated=!1,l.push(O),o+=p+1}o<=s&&l.push(null,new qr(s-o).updateHeight(t,o));let c=il.of(l);return t.heightChanged=f||a<0||Math.abs(c.height-this.height)>=N0||Math.abs(a-this.lines(t.doc,e).lineHeight)>=N0,c}else(i||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},NW=class extends il{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return this.flags&1}blockAt(t,e,i,n){let s=i+this.left.height;return t<s?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,s,n+this.left.length+this.break)}lineAt(t,e,i,n,s){let l=n+this.left.height,o=s+this.left.length+this.break,a=e==qe.ByHeight?t<l:t<o,f=a?this.left.lineAt(t,e,i,n,s):this.right.lineAt(t,e,i,l,o);if(this.break||(a?f.to<o:f.from>o))return f;let c=e==qe.ByPosNoHeight?qe.ByPosNoHeight:qe.ByPos;return a?f.join(this.right.lineAt(o,c,i,l,o)):this.left.lineAt(o,c,i,n,s).join(f)}forEachLine(t,e,i,n,s,l){let o=n+this.left.height,a=s+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,i,n,s,l),e>=a&&this.right.forEachLine(t,e,i,o,a,l);else{let f=this.lineAt(a,qe.ByPos,i,n,s);t<f.from&&this.left.forEachLine(t,f.from-1,i,n,s,l),f.to>=t&&f.from<=e&&l(f),e>f.to&&this.right.forEachLine(f.to+1,e,i,o,a,l)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let s=[];t>0&&this.decomposeLeft(t,s);let l=s.length;for(let o of i)s.push(o);if(t>0&&JM(s,l-1),e<this.length){let o=s.length;this.decomposeRight(e,s),JM(s,o)}return il.of(s)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?il.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:s,right:l}=this,o=e+s.length+this.break,a=null;return n&&n.from<=e+s.length&&n.more?a=s=s.updateHeight(t,e,i,n):s.updateHeight(t,e,i),n&&n.from<=o+l.length&&n.more?a=l=l.updateHeight(t,o,i,n):l.updateHeight(t,o,i),a?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function JM(r,t){let e,i;r[t]==null&&(e=r[t-1])instanceof Pu&&(i=r[t+1])instanceof Pu&&r.splice(t-1,3,new Pu(e.length+1+i.length))}const LW=5;let ZW=class uN{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let i=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Is?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Is(i-this.pos,-1)),this.writtenTo=i,e>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0;n<0&&(n=this.oracle.lineHeight);let s=e-t;i.block?this.addBlock(new hN(s,n,i.type)):(s||n>=LW)&&this.addLineDeco(n,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Is(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new Pu(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Is)return t;let e=new Is(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type==Mi.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=Mi.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let i=this.ensureLine();i.length+=e,i.collapsed+=e,i.widgetHeight=Math.max(i.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof Is)&&!this.isCovered?this.nodes.push(new Is(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=t;for(let n of this.nodes)n instanceof Is&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(t,e,i,n){let s=new uN(i,t);return jn.spans(e,i,n,s,0),s.finish(i)}};function VW(r,t,e){let i=new XW;return jn.compare(r,t,e,i,0),i.changes}let XW=class{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,n){(t<e||i&&i.heightRelevant||n&&n.heightRelevant)&&Xv(t,e,this.changes,5)}};function IW(r,t){let e=r.getBoundingClientRect(),i=Math.max(0,e.left),n=Math.min(innerWidth,e.right),s=Math.max(0,e.top),l=Math.min(innerHeight,e.bottom),o=r.ownerDocument.body;for(let a=r.parentNode;a&&a!=o;)if(a.nodeType==1){let f=a,c=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&c.overflow!="visible"){let p=f.getBoundingClientRect();i=Math.max(i,p.left),n=Math.min(n,p.right),s=Math.max(s,p.top),l=Math.min(l,p.bottom)}a=c.position=="absolute"||c.position=="fixed"?f.offsetParent:f.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-e.left,right:Math.max(i,n)-e.left,top:s-(e.top+t),bottom:Math.max(s,l)-(e.top+t)}}function jW(r,t){let e=r.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}let Ex=class{constructor(t,e,i){this.from=t,this.to=e,this.size=i}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],s=e[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(t){return li.replace({widget:new qW(this.size,t)}).range(this.from,this.to)}},qW=class extends b1{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}},t5=class{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new _W,this.scaler=n5,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=gn.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=t.facet(ip).filter(e=>typeof e!="function"),this.heightMap=il.empty().applyChanges(this.stateDeco,He.empty,this.heightOracle.setDoc(t.doc),[new np(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=li.set(this.lineGaps.map(e=>e.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let n=i?e.head:e.anchor;if(!t.some(({from:s,to:l})=>n>=s&&n<=l)){let{from:s,to:l}=this.lineBlockAt(n);t.push(new Sm(s,l))}}this.viewports=t.sort((i,n)=>i.from-n.from),this.scaler=this.heightMap.height<=7e6?n5:new HW(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,t=>{this.viewportLines.push(this.scaler.scale==1?t:Fc(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(ip).filter(f=>typeof f!="function");let n=t.changedRanges,s=np.extendWithRanges(n,VW(i,this.stateDeco,t?t.changes:ol.empty(this.state.doc.length))),l=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=l&&(t.flags|=2);let o=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<o.from||e.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,e));let a=!t.changes.empty||t.flags&2||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?gn.RTL:gn.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),o=l||this.mustMeasureContent||this.contentDOMHeight!=e.clientHeight;this.contentDOMHeight=e.clientHeight,this.mustMeasureContent=!1;let a=0,f=0,c=parseInt(i.paddingTop)||0,p=parseInt(i.paddingBottom)||0;(this.paddingTop!=c||this.paddingBottom!=p)&&(this.paddingTop=c,this.paddingBottom=p,a|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(n.lineWrapping&&(o=!0),this.editorWidth=t.scrollDOM.clientWidth,a|=8);let m=(this.printing?jW:IW)(e,this.paddingTop),O=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(o=!0)),!this.inView)return 0;let w=e.clientWidth;if((this.contentDOMWidth!=w||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=w,this.editorHeight=t.scrollDOM.clientHeight,a|=8),o){let T=t.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(T)&&(l=!0),l||n.lineWrapping&&Math.abs(w-this.contentDOMWidth)>n.charWidth){let{lineHeight:M,charWidth:N}=t.docView.measureTextSize();l=n.refresh(s,M,N,w/N,T),l&&(t.docView.minWidth=0,a|=8)}O>0&&y>0?f=Math.max(O,y):O<0&&y<0&&(f=Math.min(O,y)),n.heightChanged=!1;for(let M of this.viewports){let N=M.from==this.viewport.from?T:t.docView.measureVisibleLineHeights(M);this.heightMap=this.heightMap.updateHeight(n,0,l,new zW(M.from,N))}n.heightChanged&&(a|=2)}let v=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(this.viewport=this.getViewport(f,this.scrollTarget)),this.updateForViewport(),(a&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,s=this.state.doc,{visibleTop:l,visibleBottom:o}=this,a=new Sm(n.lineAt(l-i*1e3,qe.ByHeight,s,0,0).from,n.lineAt(o+(1-i)*1e3,qe.ByHeight,s,0,0).to);if(e){let{head:f}=e.range;if(f<a.from||f>a.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=n.lineAt(f,qe.ByPos,s,0,0),m;e.y=="center"?m=(p.top+p.bottom)/2-c/2:e.y=="start"||e.y=="nearest"&&f<a.from?m=p.top:m=p.bottom-c,a=new Sm(n.lineAt(m-1e3/2,qe.ByHeight,s,0,0).from,n.lineAt(m+c+1e3/2,qe.ByHeight,s,0,0).to)}}return a}mapViewport(t,e){let i=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new Sm(this.heightMap.lineAt(i,qe.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(n,qe.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,qe.ByPos,this.state.doc,0,0),{bottom:s}=this.heightMap.lineAt(e,qe.ByPos,this.state.doc,0,0),{visibleTop:l,visibleBottom:o}=this;return(t==0||n<=l-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>l-2*1e3&&s<o+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let n of t)e.touchesRange(n.from,n.to)||i.push(new Ex(e.mapPos(n.from),e.mapPos(n.to),n.size));return i}ensureLineGaps(t){let e=[];if(this.defaultTextDirection!=gn.LTR)return e;for(let i of this.viewportLines){if(i.length<4e3)continue;let n=WW(i.from,i.to,this.stateDeco);if(n.total<4e3)continue;let s,l;if(this.heightOracle.lineWrapping){let f=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;s=wm(n,(this.visibleTop-i.top-f)/i.height),l=wm(n,(this.visibleBottom-i.top+f)/i.height)}else{let f=n.total*this.heightOracle.charWidth,c=2e3*this.heightOracle.charWidth;s=wm(n,(this.pixelViewport.left-c)/f),l=wm(n,(this.pixelViewport.right+c)/f)}let o=[];s>i.from&&o.push({from:i.from,to:s}),l<i.to&&o.push({from:l,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&i5(o,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&i5(o,a.to-10,a.to+10);for(let{from:f,to:c}of o)c-f>1e3&&e.push(YW(t,p=>p.from>=i.from&&p.to<=i.to&&Math.abs(p.from-f)<1e3&&Math.abs(p.to-c)<1e3)||new Ex(f,c,this.gapSize(i,f,c,n)))}return e}gapSize(t,e,i,n){let s=e5(n,i)-e5(n,e);return this.heightOracle.lineWrapping?t.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(t){Ex.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=li.set(t.map(e=>e.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];jn.spans(t,this.viewport.from,this.viewport.to,{span(n,s){e.push({from:n,to:s})},point(){}},20);let i=e.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=e[s].from||n.to!=e[s].to);return this.visibleRanges=e,i?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Fc(this.heightMap.lineAt(t,qe.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(t){return Fc(this.heightMap.lineAt(this.scaler.fromDOM(t),qe.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(t){return Fc(this.heightMap.blockAt(this.scaler.fromDOM(t),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},Sm=class{constructor(t,e){this.from=t,this.to=e}};function WW(r,t,e){let i=[],n=r,s=0;return jn.spans(e,r,t,{span(){},point(l,o){l>n&&(i.push({from:n,to:l}),s+=l-n),n=o}},20),n<t&&(i.push({from:n,to:t}),s+=t-n),{total:s,ranges:i}}function wm({total:r,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let i=Math.floor(r*e);for(let n=0;;n++){let{from:s,to:l}=t[n],o=l-s;if(i<=o)return s+i;i-=o}}function e5(r,t){let e=0;for(let{from:i,to:n}of r.ranges){if(t<=n){e+=t-i;break}e+=n-i}return e/r.total}function i5(r,t,e){for(let i=0;i<r.length;i++){let n=r[i];if(n.from<e&&n.to>t){let s=[];n.from<t&&s.push({from:n.from,to:t}),n.to>e&&s.push({from:e,to:n.to}),r.splice(i,1,...s),i+=s.length-1}}}function YW(r,t){for(let e of r)if(t(e))return e}const n5={toDOM(r){return r},fromDOM(r){return r},scale:1};let HW=class{constructor(t,e,i){let n=0,s=0,l=0;this.viewports=i.map(({from:o,to:a})=>{let f=e.lineAt(o,qe.ByPos,t,0,0).top,c=e.lineAt(a,qe.ByPos,t,0,0).bottom;return n+=c-f,{from:o,to:a,top:f,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(e.height-n);for(let o of this.viewports)o.domTop=l+(o.top-s)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.top)return n+(t-i)*this.scale;if(t<=s.bottom)return s.domTop+(t-s.top);i=s.bottom,n=s.domBottom}}fromDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.domTop)return i+(t-n)/this.scale;if(t<=s.domBottom)return s.top+(t-s.domTop);i=s.bottom,n=s.domBottom}}};function Fc(r,t){if(t.scale==1)return r;let e=t.toDOM(r.top),i=t.toDOM(r.bottom);return new Ou(r.from,r.length,e,i-e,Array.isArray(r.type)?r.type.map(n=>Fc(n,t)):r.type)}const vm=fe.define({combine:r=>r.join(" ")}),Fv=fe.define({combine:r=>r.indexOf(!0)>-1}),Kv=Ce.newName(),fN=Ce.newName(),cN=Ce.newName(),dN={"&light":"."+fN,"&dark":"."+cN};function Jv(r,t,e){return new Ce(t,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!e||!e[n])throw new RangeError(`Unsupported selector: ${n}`);return e[n]}):r+" "+i}})}const UW=Jv("."+Kv,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},dN),GW={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Dx=jt.ie&&jt.ie_version<=11;let FW=class{constructor(t,e,i){this.view=t,this.onChange=e,this.onScrollChanged=i,this.active=!1,this.selectionRange=new Uq,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(n=>{for(let s of n)this.queue.push(s);(jt.ie&&jt.ie_version<=11||jt.ios&&t.composing)&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Dx&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(t.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:e}=this,i=this.selectionRange;if(e.state.facet(Pp)?e.root.activeElement!=this.dom:!Cv(e.dom,i))return;let n=i.anchorNode&&e.docView.nearest(i.anchorNode);n&&n.ignoreEvent(t)||((jt.ie&&jt.ie_version<=11||jt.android&&jt.chrome)&&!e.state.selection.main.empty&&i.focusNode&&TO(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:t}=this.view,e=CO(t),i=jt.safari&&t.nodeType==11&&Wq()==this.view.contentDOM&&KW(this.view)||e;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(i.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=e)i.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,GW),Dx&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Dx&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||$d(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let t=this.queue;for(let s of this.observer.takeRecords())t.push(s);t.length&&(this.queue=[]);let e=-1,i=-1,n=!1;for(let s of t){let l=this.readMutation(s);l&&(l.typeOver&&(n=!0),e==-1?{from:e,to:i}=l:(e=Math.min(l.from,e),i=Math.max(l.to,i)))}return{from:e,to:i,typeOver:n}}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;t&&this.readSelectionRange();let{from:e,to:i,typeOver:n}=this.processRecords(),s=this.selectionChanged&&Cv(this.dom,this.selectionRange);if(e<0&&!s)return;this.selectionChanged=!1;let l=this.view.state,o=this.onChange(e,i,n);return this.view.state==l&&this.view.update([]),o}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.dirty|=4),t.type=="childList"){let i=r5(e,t.previousSibling||t.target.previousSibling,-1),n=r5(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}destroy(){var t,e,i;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}};function r5(r,t,e){for(;t;){let i=Bi.get(t);if(i&&i.parent==r)return i;let n=t.parentNode;t=n!=r.dom?n:e>0?t.nextSibling:t.previousSibling}return null}function KW(r){let t=null;function e(a){a.preventDefault(),a.stopImmediatePropagation(),t=a.getTargetRanges()[0]}if(r.contentDOM.addEventListener("beforeinput",e,!0),document.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",e,!0),!t)return null;let i=t.startContainer,n=t.startOffset,s=t.endContainer,l=t.endOffset,o=r.docView.domAtPos(r.state.selection.main.anchor);return TO(o.node,o.offset,s,l)&&([i,n,s,l]=[s,l,i,n]),{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:l}}function JW(r,t,e,i){let n,s,l=r.state.selection.main;if(t>-1){let o=r.docView.domBoundsAround(t,e,0);if(!o||r.state.readOnly)return!1;let{from:a,to:f}=o,c=r.docView.impreciseHead||r.docView.impreciseAnchor?[]:eY(r),p=new Fz(c,r.state);p.readRange(o.startDOM,o.endDOM);let m=l.from,O=null;(r.inputState.lastKeyCode===8&&r.inputState.lastKeyTime>Date.now()-100||jt.android&&p.text.length<f-a)&&(m=l.to,O="end");let y=tY(r.state.doc.sliceString(a,f,aa),p.text,m-a,O);y&&(jt.chrome&&r.inputState.lastKeyCode==13&&y.toB==y.from+2&&p.text.slice(y.from,y.toB)==aa+aa&&y.toB--,n={from:a+y.from,to:a+y.toA,insert:He.of(p.text.slice(y.from,y.toB).split(aa))}),s=iY(c,a)}else if(r.hasFocus||!r.state.facet(Pp)){let o=r.observer.selectionRange,{impreciseHead:a,impreciseAnchor:f}=r.docView,c=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!Yu(r.contentDOM,o.focusNode)?r.state.selection.main.head:r.docView.posFromDOM(o.focusNode,o.focusOffset),p=f&&f.node==o.anchorNode&&f.offset==o.anchorOffset||!Yu(r.contentDOM,o.anchorNode)?r.state.selection.main.anchor:r.docView.posFromDOM(o.anchorNode,o.anchorOffset);(c!=l.head||p!=l.anchor)&&(s=oe.single(p,c))}if(!n&&!s)return!1;if(!n&&i&&!l.empty&&s&&s.main.empty?n={from:l.from,to:l.to,insert:r.state.doc.slice(l.from,l.to)}:n&&n.from>=l.from&&n.to<=l.to&&(n.from!=l.from||n.to!=l.to)&&l.to-l.from-(n.to-n.from)<=4?n={from:l.from,to:l.to,insert:r.state.doc.slice(l.from,n.from).append(n.insert).append(r.state.doc.slice(n.to,l.to))}:(jt.mac||jt.android)&&n&&n.from==n.to&&n.from==l.head-1&&n.insert.toString()=="."&&(n={from:l.from,to:l.to,insert:He.of([" "])}),n){let o=r.state;if(jt.ios&&r.inputState.flushIOSKey(r)||jt.android&&(n.from==l.from&&n.to==l.to&&n.insert.length==1&&n.insert.lines==2&&$d(r.contentDOM,"Enter",13)||n.from==l.from-1&&n.to==l.to&&n.insert.length==0&&$d(r.contentDOM,"Backspace",8)||n.from==l.from&&n.to==l.to+1&&n.insert.length==0&&$d(r.contentDOM,"Delete",46)))return!0;let a=n.insert.toString();if(r.state.facet(Zz).some(p=>p(r,n.from,n.to,a)))return!0;r.inputState.composing>=0&&r.inputState.composing++;let f;if(n.from>=l.from&&n.to<=l.to&&n.to-n.from>=(l.to-l.from)/3&&(!s||s.main.empty&&s.main.from==n.from+n.insert.length)&&r.inputState.composing<0){let p=l.from<n.from?o.sliceDoc(l.from,n.from):"",m=l.to>n.to?o.sliceDoc(n.to,l.to):"";f=o.replaceSelection(r.state.toText(p+n.insert.sliceString(0,void 0,r.state.lineBreak)+m))}else{let p=o.changes(n),m=s&&!o.selection.main.eq(s.main)&&s.main.to<=p.newLength?s.main:void 0;if(o.selection.ranges.length>1&&r.inputState.composing>=0&&n.to<=l.to&&n.to>=l.to-10){let O=r.state.sliceDoc(n.from,n.to),y=Kz(r)||r.state.doc.lineAt(l.head),S=l.to-n.to,w=l.to-l.from;f=o.changeByRange(v=>{if(v.from==l.from&&v.to==l.to)return{changes:p,range:m||v.map(p)};let T=v.to-S,M=T-O.length;if(v.to-v.from!=w||r.state.sliceDoc(M,T)!=O||y&&v.to>=y.from&&v.from<=y.to)return{range:v};let N=o.changes({from:M,to:T,insert:n.insert}),P=v.to-l.to;return{changes:N,range:m?oe.range(Math.max(0,m.anchor+P),Math.max(0,m.head+P)):v.map(N)}})}else f={changes:p,selection:m&&o.selection.replaceRange(m)}}let c="input.type";return r.composing&&(c+=".compose",r.inputState.compositionFirstChange&&(c+=".start",r.inputState.compositionFirstChange=!1)),r.dispatch(f,{scrollIntoView:!0,userEvent:c}),!0}else if(s&&!s.main.eq(l)){let o=!1,a="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),a=r.inputState.lastSelectionOrigin),r.dispatch({selection:s,scrollIntoView:o,userEvent:a}),!0}else return!1}function tY(r,t,e,i){let n=Math.min(r.length,t.length),s=0;for(;s<n&&r.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==n&&r.length==t.length)return null;let l=r.length,o=t.length;for(;l>0&&o>0&&r.charCodeAt(l-1)==t.charCodeAt(o-1);)l--,o--;if(i=="end"){let a=Math.max(0,s-Math.min(l,o));e-=l+a-s}if(l<s&&r.length<t.length){let a=e<=s&&e>=l?s-e:0;s-=a,o=s+(o-l),l=s}else if(o<s){let a=e<=s&&e>=o?s-e:0;s-=a,l=s+(l-o),o=s}return{from:s,toA:l,toB:o}}function eY(r){let t=[];if(r.root.activeElement!=r.contentDOM)return t;let{anchorNode:e,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return e&&(t.push(new _M(e,i)),(n!=e||s!=i)&&t.push(new _M(n,s))),t}function iY(r,t){if(r.length==0)return null;let e=r[0].pos,i=r.length==2?r[1].pos:e;return e>-1&&i>-1?oe.single(e+t,i+t):null}let hi=class pN{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=t.root||Gq(t.parent)||document,this.viewState=new t5(t.state||Di.create()),this.plugins=this.state.facet(Uc).map(e=>new Px(e));for(let e of this.plugins)e.update(this);this.observer=new FW(this,(e,i,n)=>JW(this,e,i,n),e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()}),this.inputState=new kW(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new zM(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...t){this._dispatch(t.length==1&&t[0]instanceof es?t[0]:this.state.update(...t))}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,i=!1,n,s=this.state;for(let o of t){if(o.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=o.state}if(this.destroyed){this.viewState.state=s;return}if(this.observer.clear(),s.facet(Di.phrases)!=this.state.facet(Di.phrases))return this.setState(s);n=DM.create(this,s,t);let l=this.viewState.scrollTarget;try{this.updateState=2;for(let o of t){if(l&&(l=l.map(o.changes)),o.scrollIntoView){let{main:a}=o.state.selection;l=new RM(a.empty?a:oe.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of o.effects)a.is(EM)&&(l=a.value)}this.viewState.update(n,l),this.bidiCache=l5.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),e=this.docView.update(n),this.state.facet(Gc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(o=>o.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(vm)!=n.state.facet(vm)&&(this.viewState.mustMeasureContent=!0),(e||i||l||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let o of this.state.facet(jv))o(n)}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new t5(t),this.plugins=t.facet(Uc).map(i=>new Px(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new zM(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Uc),i=t.state.facet(Uc);if(e!=i){let n=[];for(let s of i){let l=e.indexOf(s);if(l<0)n.push(new Px(s));else{let o=this.plugins[l];o.mustUpdate=t,n.push(o)}}for(let s of this.plugins)s.mustUpdate!=t&&s.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let n of this.plugins)n.mustUpdate=t;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.flush();let e=null;try{for(let i=0;;i++){this.updateState=1;let n=this.viewport,s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];s&4||([this.measureRequests,l]=[l,this.measureRequests]);let o=l.map(p=>{try{return p.read(this)}catch(m){return pa(this.state,m),s5}}),a=DM.create(this,this.state,[]),f=!1,c=!1;a.flags|=s,e?e.flags|=s:e=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),f=this.docView.update(a));for(let p=0;p<l.length;p++)if(o[p]!=s5)try{let m=l[p];m.write&&m.write(o[p],this)}catch(m){pa(this.state,m)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=!0),f&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!c&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let i of this.state.facet(jv))i(e)}get themeClasses(){return Kv+" "+(this.state.facet(Fv)?cN:fN)+" "+this.state.facet(vm)}updateAttrs(){let t=o5(this,Iz,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Pp)?"true":"false",class:"cm-content",style:`${jt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),o5(this,jz,e);let i=this.observer.ignore(()=>{let n=Vv(this.contentDOM,this.contentAttrs,e),s=Vv(this.dom,this.editorAttrs,t);return n||s});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let n of i.effects)if(n.is(pN.announce)){e&&(this.announceDOM.textContent=""),e=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(Gc),Ce.mount(this.root,this.styleModules.concat(UW).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),t){if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(i=>i.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return Rx(this,t,IM(this,t,e,i))}moveByGroup(t,e){return Rx(this,t,IM(this,t,e,i=>wW(this,t.head,i)))}moveToLineBoundary(t,e,i=!0){return SW(this,t,e,i)}moveVertically(t,e,i){return Rx(this,t,vW(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),tN(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(t),s=this.bidiSpans(n),l=s[Qu.find(s,t-n.from,-1,e)];return O1(i,l.dir==gn.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Vz)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>nY)return Uz(t.length);let e=this.textDirectionAt(t.from);for(let n of this.bidiCache)if(n.from==t.from&&n.dir==e)return n.order;let i=aW(t.text,e);return this.bidiCache.push(new l5(t.from,t.to,e,i)),i}get hasFocus(){var t;return(document.hasFocus()||jt.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{yz(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return EM.of(new RM(typeof t=="number"?oe.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}static domEventHandlers(t){return A$.define(()=>({}),{eventHandlers:t})}static theme(t,e){let i=Ce.newName(),n=[vm.of(i),Gc.of(Jv(`.${i}`,t))];return e&&e.dark&&n.push(Fv.of(!0)),n}static baseTheme(t){return F_.lowest(Gc.of(Jv("."+Kv,t,dN)))}};hi.styleModule=Gc;hi.inputHandler=Zz;hi.perLineTextDirection=Vz;hi.exceptionSink=Lz;hi.updateListener=jv;hi.editable=Pp;hi.mouseSelectionStyle=Nz;hi.dragMovesSelection=zz;hi.clickAddsSelectionRange=_z;hi.decorations=ip;hi.atomicRanges=qz;hi.scrollMargins=Wz;hi.darkTheme=Fv;hi.contentAttributes=jz;hi.editorAttributes=Iz;hi.lineWrapping=hi.contentAttributes.of({class:"cm-lineWrapping"});hi.announce=on.define();const nY=4096,s5={};let l5=class gN{constructor(t,e,i,n){this.from=t,this.to=e,this.dir=i,this.order=n}static update(t,e){if(e.empty)return t;let i=[],n=t.length?t[t.length-1].dir:gn.LTR;for(let s=Math.max(0,t.length-10);s<t.length;s++){let l=t[s];l.dir==n&&!e.touchesRange(l.from,l.to)&&i.push(new gN(e.mapPos(l.from,1),e.mapPos(l.to,-1),l.dir,l.order))}return i}};function o5(r,t,e){for(let i=r.state.facet(t),n=i.length-1;n>=0;n--){let s=i[n],l=typeof s=="function"?s(r):s;l&&Zv(l,e)}return e}const rY=!jt.ios,sY={".cm-line":{}};rY&&(sY[".cm-line"].caretColor="transparent !important");let Hu=class extends Wu{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}};Hu.prototype.elementClass="";Hu.prototype.toDOM=void 0;Hu.prototype.mapMode=or.TrackBefore;Hu.prototype.startSide=Hu.prototype.endSide=-1;Hu.prototype.point=!0;let lY=0,Lo=class mN{constructor(t,e,i){this.set=t,this.base=e,this.modified=i,this.id=lY++}static define(t){if(t?.base)throw new Error("Can not derive from a modified tag");let e=new mN([],null,[]);if(e.set.push(e),t)for(let i of t.set)e.set.push(i);return e}static defineModifier(){let t=new a5;return e=>e.modified.indexOf(t)>-1?e:a5.get(e.base||e,e.modified.concat(t).sort((i,n)=>i.id-n.id))}},oY=0,a5=class ON{constructor(){this.instances=[],this.id=oY++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(o=>o.base==t&&aY(e,o.modified));if(i)return i;let n=[],s=new Lo(n,t,e);for(let o of e)o.instances.push(s);let l=yN(e);for(let o of t.set)for(let a of l)n.push(ON.get(o,a));return s}};function aY(r,t){return r.length==t.length&&r.every((e,i)=>e==t[i])}function yN(r){let t=[r];for(let e=0;e<r.length;e++)for(let i of yN(r.slice(0,e).concat(r.slice(e+1))))t.push(i);return t}function hY(r){let t=Object.create(null);for(let e in r){let i=r[e];Array.isArray(i)||(i=[i]);for(let n of e.split(" "))if(n){let s=[],l=2,o=n;for(let p=0;;){if(o=="..."&&p>0&&p+3==n.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==n.length)break;let O=n[p++];if(p==n.length&&O=="!"){l=0;break}if(O!="/")throw new RangeError("Invalid path: "+n);o=n.slice(p)}let a=s.length-1,f=s[a];if(!f)throw new RangeError("Invalid path: "+n);let c=new uY(i,l,a>0?s.slice(0,a):null);t[f]=c.sort(t[f])}}return bN.add(t)}const bN=new ge;let uY=class{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};function xN(r,t){let e=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let l of s.tag)e[l.id]=s.class;let{scope:i,all:n=null}=t||{};return{style:s=>{let l=n;for(let o of s)for(let a of o.set){let f=e[a.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}function fY(r,t){let e=null;for(let i of r){let n=i.style(t);n&&(e=e?e+" "+n:n)}return e}function cY(r,t,e,i=0,n=r.length){let s=new dY(i,Array.isArray(t)?t:[t],e);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}let dY=class{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,n,s){let{type:l,from:o,to:a}=t;if(o>=i||a<=e)return;l.isTop&&(s=this.highlighters.filter(O=>!O.scope||O.scope(l)));let f=n,c=l.prop(bN),p=!1;for(;c;){if(!c.context||t.matchContext(c.context)){let O=fY(s,c.tags);O&&(f&&(f+=" "),f+=O,c.mode==1?n+=(n?" ":"")+O:c.mode==0&&(p=!0));break}c=c.next}if(this.startSpan(t.from,f),p)return;let m=t.tree&&t.tree.prop(ge.mounted);if(m&&m.overlay){let O=t.node.enter(m.overlay[0].from+o,1),y=this.highlighters.filter(w=>!w.scope||w.scope(m.tree.type)),S=t.firstChild();for(let w=0,v=o;;w++){let T=w<m.overlay.length?m.overlay[w]:null,M=T?T.from+o:a,N=Math.max(e,v),P=Math.min(i,M);if(N<P&&S)for(;t.from<P&&(this.highlightRange(t,N,P,n,s),this.startSpan(Math.min(i,t.to),f),!(t.to>=M||!t.nextSibling())););if(!T||M>i)break;v=T.to+o,v>e&&(this.highlightRange(O.cursor(),Math.max(e,T.from+o),Math.min(i,v),n,y),this.startSpan(v,f))}S&&t.parent()}else if(t.firstChild()){do if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,n,s),this.startSpan(Math.min(i,t.to),f)}while(t.nextSibling());t.parent()}}};const St=Lo.define,km=St(),Zo=St(),h5=St(Zo),u5=St(Zo),Vo=St(),$m=St(Vo),Bx=St(Vo),Es=St(),qa=St(Es),ds=St(),ps=St(),tk=St(),Oc=St(tk),Am=St(),Pt={comment:km,lineComment:St(km),blockComment:St(km),docComment:St(km),name:Zo,variableName:St(Zo),typeName:h5,tagName:St(h5),propertyName:u5,attributeName:St(u5),className:St(Zo),labelName:St(Zo),namespace:St(Zo),macroName:St(Zo),literal:Vo,string:$m,docString:St($m),character:St($m),attributeValue:St($m),number:Bx,integer:St(Bx),float:St(Bx),bool:St(Vo),regexp:St(Vo),escape:St(Vo),color:St(Vo),url:St(Vo),keyword:ds,self:St(ds),null:St(ds),atom:St(ds),unit:St(ds),modifier:St(ds),operatorKeyword:St(ds),controlKeyword:St(ds),definitionKeyword:St(ds),moduleKeyword:St(ds),operator:ps,derefOperator:St(ps),arithmeticOperator:St(ps),logicOperator:St(ps),bitwiseOperator:St(ps),compareOperator:St(ps),updateOperator:St(ps),definitionOperator:St(ps),typeOperator:St(ps),controlOperator:St(ps),punctuation:tk,separator:St(tk),bracket:Oc,angleBracket:St(Oc),squareBracket:St(Oc),paren:St(Oc),brace:St(Oc),content:Es,heading:qa,heading1:St(qa),heading2:St(qa),heading3:St(qa),heading4:St(qa),heading5:St(qa),heading6:St(qa),contentSeparator:St(Es),list:St(Es),quote:St(Es),emphasis:St(Es),strong:St(Es),link:St(Es),monospace:St(Es),strikethrough:St(Es),inserted:St(),deleted:St(),changed:St(),invalid:St(),meta:Am,documentMeta:St(Am),annotation:St(Am),processingInstruction:St(Am),definition:Lo.defineModifier(),constant:Lo.defineModifier(),function:Lo.defineModifier(),standard:Lo.defineModifier(),local:Lo.defineModifier(),special:Lo.defineModifier()};xN([{tag:Pt.link,class:"tok-link"},{tag:Pt.heading,class:"tok-heading"},{tag:Pt.emphasis,class:"tok-emphasis"},{tag:Pt.strong,class:"tok-strong"},{tag:Pt.keyword,class:"tok-keyword"},{tag:Pt.atom,class:"tok-atom"},{tag:Pt.bool,class:"tok-bool"},{tag:Pt.url,class:"tok-url"},{tag:Pt.labelName,class:"tok-labelName"},{tag:Pt.inserted,class:"tok-inserted"},{tag:Pt.deleted,class:"tok-deleted"},{tag:Pt.literal,class:"tok-literal"},{tag:Pt.string,class:"tok-string"},{tag:Pt.number,class:"tok-number"},{tag:[Pt.regexp,Pt.escape,Pt.special(Pt.string)],class:"tok-string2"},{tag:Pt.variableName,class:"tok-variableName"},{tag:Pt.local(Pt.variableName),class:"tok-variableName tok-local"},{tag:Pt.definition(Pt.variableName),class:"tok-variableName tok-definition"},{tag:Pt.special(Pt.variableName),class:"tok-variableName2"},{tag:Pt.definition(Pt.propertyName),class:"tok-propertyName tok-definition"},{tag:Pt.typeName,class:"tok-typeName"},{tag:Pt.namespace,class:"tok-namespace"},{tag:Pt.className,class:"tok-className"},{tag:Pt.macroName,class:"tok-macroName"},{tag:Pt.propertyName,class:"tok-propertyName"},{tag:Pt.operator,class:"tok-operator"},{tag:Pt.comment,class:"tok-comment"},{tag:Pt.meta,class:"tok-meta"},{tag:Pt.invalid,class:"tok-invalid"},{tag:Pt.punctuation,class:"tok-punctuation"}]);var _x;const PO=new ge;let Hs=class{constructor(t,e,i=[]){this.data=t,Di.prototype.hasOwnProperty("tree")||Object.defineProperty(Di.prototype,"tree",{get(){return cr(this)}}),this.parser=e,this.extension=[Uu.of(this),Di.languageData.of((n,s,l)=>n.facet(f5(n,s,l)))].concat(i)}isActiveAt(t,e,i=-1){return f5(t,e,i)==this.data}findRegions(t){let e=t.facet(Uu);if(e?.data==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],n=(s,l)=>{if(s.prop(PO)==this.data){i.push({from:l,to:l+s.length});return}let o=s.prop(ge.mounted);if(o){if(o.tree.prop(PO)==this.data){if(o.overlay)for(let a of o.overlay)i.push({from:a.from+l,to:a.to+l});else i.push({from:l,to:l+s.length});return}else if(o.overlay){let a=i.length;if(n(o.tree,o.overlay[0].from+l),i.length>a)return}}for(let a=0;a<s.children.length;a++){let f=s.children[a];f instanceof fr&&n(f,s.positions[a]+l)}};return n(cr(t),0),i}get allowsNesting(){return!0}};Hs.setState=on.define();function f5(r,t,e){let i=r.facet(Uu);if(!i)return null;let n=i.data;if(i.allowsNesting)for(let s=cr(r).topNode;s;s=s.enter(t,e,rn.ExcludeBuffers))n=s.type.prop(PO)||n;return n}function cr(r){let t=r.field(Hs.state,!1);return t?t.tree:fr.empty}let pY=class{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}},yc=null,gY=class ek{constructor(t,e,i=[],n,s,l,o,a){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=l,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new ek(t,e,[],fr.empty,0,i,[],null)}startParse(){return this.parser.startParse(new pY(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=fr.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let n=Date.now()+t;t=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(P0.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(P0.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=yc;yc=this;try{return t()}finally{yc=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=c5(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:n,treeLen:s,viewport:l,skipped:o}=this;if(this.takeTree(),!t.empty){let a=[];if(t.iterChangedRanges((f,c,p,m)=>a.push({fromA:f,toA:c,fromB:p,toB:m})),i=P0.applyChanges(i,a),n=fr.empty,s=0,l={from:t.mapPos(l.from,-1),to:t.mapPos(l.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let c=t.mapPos(f.from,1),p=t.mapPos(f.to,-1);c<p&&o.push({from:c,to:p})}}}return new ek(this.parser,e,i,n,s,l,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<t.to&&s>t.from&&(this.fragments=c5(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends kq{createParse(e,i,n){let s=n[0].from,l=n[n.length-1].to;return{parsedPos:s,advance(){let a=yc;if(a){for(let f of n)a.tempSkipped.push(f);t&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,t]):t)}return this.parsedPos=l,new fr(ll.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return yc}};function c5(r,t,e){return P0.applyChanges(r,[{fromA:t,toA:e,fromB:t,toB:e}])}let ik=class nk{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new nk(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=gY.create(t.facet(Uu).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new nk(i)}};Hs.state=gf.define({create:ik.init,update(r,t){for(let e of t.effects)if(e.is(Hs.setState))return e.value;return t.startState.facet(Uu)!=t.state.facet(Uu)?ik.init(t.state):r.apply(t)}});let SN=r=>{let t=setTimeout(()=>r(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(SN=r=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(r,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const zx=typeof navigator<"u"&&(!((_x=navigator.scheduling)===null||_x===void 0)&&_x.isInputPending)?()=>navigator.scheduling.isInputPending():null,mY=A$.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Hs.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Hs.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=SN(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(Hs.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,t&&!zx?Math.max(25,t.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,a=s.context.work(()=>zx&&zx()||Date.now()>l,n+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Hs.setState.of(new ik(s.context))})),this.chunkBudget>0&&!(a&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>pa(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Uu=fe.define({combine(r){return r.length?r[0]:null},enables:[Hs.state,mY]}),OY=fe.define(),T$=fe.define({combine:r=>{if(!r.length)return"  ";if(!/^(?: +|\t+)$/.test(r[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return r[0]}});function MO(r){let t=r.facet(T$);return t.charCodeAt(0)==9?r.tabSize*t.length:t.length}function rp(r,t){let e="",i=r.tabSize;if(r.facet(T$).charCodeAt(0)==9)for(;t>=i;)e+="	",t-=i;for(let n=0;n<t;n++)e+=" ";return e}function Q$(r,t){r instanceof Di&&(r=new x1(r));for(let i of r.state.facet(OY)){let n=i(r,t);if(n!=null)return n}let e=cr(r.state);return e?bY(r,e,t):null}class x1{constructor(t,e={}){this.state=t,this.options=e,this.unit=MO(t)}lineAt(t,e=1){let i=this.state.doc.lineAt(t),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=i.from&&n<=i.to?s&&n==t?{text:"",from:t}:(e<0?n<t:n<=t)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(t,e);return i.slice(t-n,Math.min(i.length,t+100-n))}column(t,e=1){let{text:i,from:n}=this.lineAt(t,e),s=this.countColumn(i,t-n),l=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return l>-1&&(s+=l-this.countColumn(i,i.search(/\S|$/))),s}countColumn(t,e=t.length){return jq(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:i,from:n}=this.lineAt(t,e),s=this.options.overrideIndentation;if(s){let l=s(n);if(l>-1)return l}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const yY=new ge;function bY(r,t,e){return wN(t.resolveInner(e).enterUnfinishedNodesBefore(e),e,r)}function xY(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function SY(r){let t=r.type.prop(yY);if(t)return t;let e=r.firstChild,i;if(e&&(i=e.type.prop(ge.closedBy))){let n=r.lastChild,s=n&&i.indexOf(n.name)>-1;return l=>$Y(l,!0,1,void 0,s&&!xY(l)?n.from:void 0)}return r.parent==null?wY:null}function wN(r,t,e){for(;r;r=r.parent){let i=SY(r);if(i)return i(P$.create(e,t,r))}return null}function wY(){return 0}class P$ extends x1{constructor(t,e,i){super(t.state,t.options),this.base=t,this.pos=e,this.node=i}static create(t,e,i){return new P$(t,e,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let e=this.node.resolve(t.from);for(;e.parent&&e.parent.from==e.from;)e=e.parent;if(vY(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?wN(t,this.pos,this.base):0}}function vY(r,t){for(let e=t;e;e=e.parent)if(r==e)return!0;return!1}function kY(r){let t=r.node,e=t.childAfter(t.from),i=t.lastChild;if(!e)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(e.from),l=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let o=e.to;;){let a=t.childAfter(o);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<l?e:null;o=a.to}}function $Y(r,t,e,i,n){let s=r.textAfter,l=s.match(/^\s*/)[0].length,o=i&&s.slice(l,l+i.length)==i||n==r.pos+l,a=kY(r);return a?o?r.column(a.from):r.column(a.to):r.baseIndent+(o?0:r.unit*e)}const AY=200;function CY(){return Di.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let t=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!t.length)return r;let e=r.newDoc,{head:i}=r.newSelection.main,n=e.lineAt(i);if(i>n.from+AY)return r;let s=e.sliceString(n.from,i);if(!t.some(f=>f.test(s)))return r;let{state:l}=r,o=-1,a=[];for(let{head:f}of l.selection.ranges){let c=l.doc.lineAt(f);if(c.from==o)continue;o=c.from;let p=Q$(l,c.from);if(p==null)continue;let m=/^\s*/.exec(c.text)[0],O=rp(l,p);m!=O&&a.push({from:c.from,to:c.from+m.length,insert:O})}return a.length?[r,{changes:a,sequential:!0}]:r})}let vN=class kN{constructor(t,e){let i;function n(o){let a=Ce.newName();return(i||(i=Object.create(null)))["."+a]=o,a}const s=typeof e.all=="string"?e.all:e.all?n(e.all):void 0,l=e.scope;this.scope=l instanceof Hs?o=>o.prop(PO)==l.data:l?o=>o==l:void 0,this.style=xN(t.map(o=>({tag:o.tag,class:o.class||n(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=i?new Ce(i):null,this.themeType=e.themeType}static define(t,e){return new kN(t,e||{})}};const rk=fe.define(),$N=fe.define({combine(r){return r.length?[r[0]]:null}});function Nx(r){let t=r.facet(rk);return t.length?t:r.facet($N)}function TY(r,t){let e=[PY],i;return r instanceof vN&&(r.module&&e.push(hi.styleModule.of(r.module)),i=r.themeType),t?.fallback?e.push($N.of(r)):i?e.push(rk.computeN([hi.darkTheme],n=>n.facet(hi.darkTheme)==(i=="dark")?[r]:[])):e.push(rk.of(r)),e}let QY=class{constructor(t){this.markCache=Object.create(null),this.tree=cr(t.state),this.decorations=this.buildDeco(t,Nx(t.state))}update(t){let e=cr(t.state),i=Nx(t.state),n=i!=Nx(t.startState);e.length<t.view.viewport.to&&!n&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||n)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i))}buildDeco(t,e){if(!e||!this.tree.length)return li.none;let i=new kv;for(let{from:n,to:s}of t.visibleRanges)cY(this.tree,e,(l,o,a)=>{i.add(l,o,this.markCache[a]||(this.markCache[a]=li.mark({class:a})))},n,s);return i.finish()}};const PY=F_.high(A$.fromClass(QY,{decorations:r=>r.decorations})),MY=vN.define([{tag:Pt.meta,color:"#7a757a"},{tag:Pt.link,textDecoration:"underline"},{tag:Pt.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Pt.emphasis,fontStyle:"italic"},{tag:Pt.strong,fontWeight:"bold"},{tag:Pt.strikethrough,textDecoration:"line-through"},{tag:Pt.keyword,color:"#708"},{tag:[Pt.atom,Pt.bool,Pt.url,Pt.contentSeparator,Pt.labelName],color:"#219"},{tag:[Pt.literal,Pt.inserted],color:"#164"},{tag:[Pt.string,Pt.deleted],color:"#a11"},{tag:[Pt.regexp,Pt.escape,Pt.special(Pt.string)],color:"#e40"},{tag:Pt.definition(Pt.variableName),color:"#00f"},{tag:Pt.local(Pt.variableName),color:"#30a"},{tag:[Pt.typeName,Pt.namespace],color:"#085"},{tag:Pt.className,color:"#167"},{tag:[Pt.special(Pt.variableName),Pt.macroName],color:"#256"},{tag:Pt.definition(Pt.propertyName),color:"#00c"},{tag:Pt.comment,color:"#940"},{tag:Pt.invalid,color:"#f00"}]),RY=hi.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),AN=1e4,CN="()[]{}",TN=fe.define({combine(r){return Vq(r,{afterCursor:!0,brackets:CN,maxScanDistance:AN,renderMatch:BY})}}),EY=li.mark({class:"cm-matchingBracket"}),DY=li.mark({class:"cm-nonmatchingBracket"});function BY(r){let t=[],e=r.matched?EY:DY;return t.push(e.range(r.start.from,r.start.to)),r.end&&t.push(e.range(r.end.from,r.end.to)),t}const _Y=gf.define({create(){return li.none},update(r,t){if(!t.docChanged&&!t.selection)return r;let e=[],i=t.state.facet(TN);for(let n of t.state.selection.ranges){if(!n.empty)continue;let s=Us(t.state,n.head,-1,i)||n.head>0&&Us(t.state,n.head-1,1,i)||i.afterCursor&&(Us(t.state,n.head,1,i)||n.head<t.state.doc.length&&Us(t.state,n.head+1,-1,i));s&&(e=e.concat(i.renderMatch(s,t.state)))}return li.set(e,!0)},provide:r=>hi.decorations.from(r)}),zY=[_Y,RY];function NY(r={}){return[TN.of(r),zY]}function sk(r,t,e){let i=r.prop(t<0?ge.openedBy:ge.closedBy);if(i)return i;if(r.name.length==1){let n=e.indexOf(r.name);if(n>-1&&n%2==(t<0?1:0))return[e[n+t]]}return null}function Us(r,t,e,i={}){let n=i.maxScanDistance||AN,s=i.brackets||CN,l=cr(r),o=l.resolveInner(t,e);for(let a=o;a;a=a.parent){let f=sk(a.type,e,s);if(f&&a.from<a.to)return LY(r,t,e,a,f,s)}return ZY(r,t,e,l,o.type,n,s)}function LY(r,t,e,i,n,s){let l=i.parent,o={from:i.from,to:i.to},a=0,f=l?.cursor();if(f&&(e<0?f.childBefore(i.from):f.childAfter(i.to)))do if(e<0?f.to<=i.from:f.from>=i.to){if(a==0&&n.indexOf(f.type.name)>-1&&f.from<f.to)return{start:o,end:{from:f.from,to:f.to},matched:!0};if(sk(f.type,e,s))a++;else if(sk(f.type,-e,s)&&(a--,a==0))return{start:o,end:f.from==f.to?void 0:{from:f.from,to:f.to},matched:!1}}while(e<0?f.prevSibling():f.nextSibling());return{start:o,matched:!1}}function ZY(r,t,e,i,n,s,l){let o=e<0?r.sliceDoc(t-1,t):r.sliceDoc(t,t+1),a=l.indexOf(o);if(a<0||a%2==0!=e>0)return null;let f={from:e<0?t-1:t,to:e>0?t+1:t},c=r.doc.iterRange(t,e>0?r.doc.length:0),p=0;for(let m=0;!c.next().done&&m<=s;){let O=c.value;e<0&&(m+=O.length);let y=t+m*e;for(let S=e>0?0:O.length-1,w=e>0?O.length:-1;S!=w;S+=e){let v=l.indexOf(O[S]);if(!(v<0||i.resolve(y+S,1).type!=n))if(v%2==0==e>0)p++;else{if(p==1)return{start:f,end:{from:y+S,to:y+S+1},matched:v>>1==a>>1};p--}}e>0&&(m+=O.length)}return c.done?{start:f,matched:!1}:null}const VY=Object.create(null),d5=[ll.none],p5=[],XY=Object.create(null);for(let[r,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])XY[r]=IY(VY,t);function Lx(r,t){p5.indexOf(r)>-1||(p5.push(r),console.warn(t))}function IY(r,t){let e=null;for(let s of t.split(".")){let l=r[s]||Pt[s];l?typeof l=="function"?e?e=l(e):Lx(s,`Modifier ${s} used at start of tag`):e?Lx(s,`Tag ${s} used as modifier`):e=l:Lx(s,`Unknown highlighting tag ${s}`)}if(!e)return 0;let i=t.replace(/ /g,"_"),n=ll.define({id:d5.length,name:i,props:[hY({[i]:e})]});return d5.push(n),n.id}const jY=r=>{let t=R$(r.state);return t.line?qY(r):t.block?YY(r):!1};function M$(r,t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let n=r(t,e);return n?(i(e.update(n)),!0):!1}}const qY=M$(GY,0),WY=M$(QN,0),YY=M$((r,t)=>QN(r,t,UY(t)),0);function R$(r,t=r.selection.main.head){let e=r.languageDataAt("commentTokens",t);return e.length?e[0]:{}}const bc=50;function HY(r,{open:t,close:e},i,n){let s=r.sliceDoc(i-bc,i),l=r.sliceDoc(n,n+bc),o=/\s*$/.exec(s)[0].length,a=/^\s*/.exec(l)[0].length,f=s.length-o;if(s.slice(f-t.length,f)==t&&l.slice(a,a+e.length)==e)return{open:{pos:i-o,margin:o&&1},close:{pos:n+a,margin:a&&1}};let c,p;n-i<=2*bc?c=p=r.sliceDoc(i,n):(c=r.sliceDoc(i,i+bc),p=r.sliceDoc(n-bc,n));let m=/^\s*/.exec(c)[0].length,O=/\s*$/.exec(p)[0].length,y=p.length-O-e.length;return c.slice(m,m+t.length)==t&&p.slice(y,y+e.length)==e?{open:{pos:i+m+t.length,margin:/\s/.test(c.charAt(m+t.length))?1:0},close:{pos:n-O-e.length,margin:/\s/.test(p.charAt(y-1))?1:0}}:null}function UY(r){let t=[];for(let e of r.selection.ranges){let i=r.doc.lineAt(e.from),n=e.to<=i.to?i:r.doc.lineAt(e.to),s=t.length-1;s>=0&&t[s].to>i.from?t[s].to=n.to:t.push({from:i.from,to:n.to})}return t}function QN(r,t,e=t.selection.ranges){let i=e.map(s=>R$(t,s.from).block);if(!i.every(s=>s))return null;let n=e.map((s,l)=>HY(t,i[l],s.from,s.to));if(r!=2&&!n.every(s=>s))return{changes:t.changes(e.map((s,l)=>n[l]?[]:[{from:s.from,insert:i[l].open+" "},{from:s.to,insert:" "+i[l].close}]))};if(r!=1&&n.some(s=>s)){let s=[];for(let l=0,o;l<n.length;l++)if(o=n[l]){let a=i[l],{open:f,close:c}=o;s.push({from:f.pos-a.open.length,to:f.pos+f.margin},{from:c.pos-c.margin,to:c.pos+a.close.length})}return{changes:s}}return null}function GY(r,t,e=t.selection.ranges){let i=[],n=-1;for(let{from:s,to:l}of e){let o=i.length,a=1e9;for(let f=s;f<=l;){let c=t.doc.lineAt(f);if(c.from>n&&(s==l||l>c.from)){n=c.from;let p=R$(t,f).line;if(!p)continue;let m=/^\s*/.exec(c.text)[0].length,O=m==c.length,y=c.text.slice(m,m+p.length)==p?m:-1;m<c.text.length&&m<a&&(a=m),i.push({line:c,comment:y,token:p,indent:m,empty:O,single:!1})}f=c.to+1}if(a<1e9)for(let f=o;f<i.length;f++)i[f].indent<i[f].line.text.length&&(i[f].indent=a);i.length==o+1&&(i[o].single=!0)}if(r!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:a,indent:f,empty:c,single:p}of i)(p||!c)&&s.push({from:o.from+f,insert:a+" "});let l=t.changes(s);return{changes:l,selection:t.selection.map(l,1)}}else if(r!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:o,token:a}of i)if(o>=0){let f=l.from+o,c=f+a.length;l.text[c-l.from]==" "&&c++,s.push({from:f,to:c})}return{changes:s}}return null}const lk=Oh.define(),FY=Oh.define(),KY=ye.define(),PN=ye.define({combine(r){return JI(r,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function JY(r){let t=0;return r.iterChangedRanges((e,i)=>t=i),t}const MN=Ap.define({create(){return Gs.empty},update(r,t){let e=t.state.facet(PN),i=t.annotation(lk);if(i){let a=t.docChanged?Bt.single(JY(t.changes)):void 0,f=Bn.fromTransaction(t,a),c=i.side,p=c==0?r.undone:r.done;return f?p=RO(p,p.length,e.minDepth,f):p=BN(p,t.startState.selection),new Gs(c==0?i.rest:p,c==0?p:i.rest)}let n=t.annotation(FY);if((n=="full"||n=="before")&&(r=r.isolate()),t.annotation(Zn.addToHistory)===!1)return t.changes.empty?r:r.addMapping(t.changes.desc);let s=Bn.fromTransaction(t),l=t.annotation(Zn.time),o=t.annotation(Zn.userEvent);return s?r=r.addChanges(s,l,o,e.newGroupDelay,e.minDepth):t.selection&&(r=r.addSelection(t.startState.selection,l,o,e.newGroupDelay)),(n=="full"||n=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(t=>t.toJSON()),undone:r.undone.map(t=>t.toJSON())}},fromJSON(r){return new Gs(r.done.map(Bn.fromJSON),r.undone.map(Bn.fromJSON))}});function tH(r={}){return[MN,PN.of(r),mi.domEventHandlers({beforeinput(t,e){let i=t.inputType=="historyUndo"?RN:t.inputType=="historyRedo"?EN:null;return i?(t.preventDefault(),i(e)):!1}})]}function S1(r,t){return function({state:e,dispatch:i}){if(!t&&e.readOnly)return!1;let n=e.field(MN,!1);if(!n)return!1;let s=n.pop(r,e,t);return s?(i(s),!0):!1}}const RN=S1(0,!1),EN=S1(1,!1),eH=S1(0,!0),iH=S1(1,!0);class Bn{constructor(t,e,i,n,s){this.changes=t,this.effects=e,this.mapped=i,this.startSelection=n,this.selectionsAfter=s}setSelAfter(t){return new Bn(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,i;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(t){return new Bn(t.changes&&rs.fromJSON(t.changes),[],t.mapped&&vu.fromJSON(t.mapped),t.startSelection&&Bt.fromJSON(t.startSelection),t.selectionsAfter.map(Bt.fromJSON))}static fromTransaction(t,e){let i=Tr;for(let n of t.startState.facet(KY)){let s=n(t);s.length&&(i=i.concat(s))}return!i.length&&t.changes.empty?null:new Bn(t.changes.invert(t.startState.doc),i,void 0,e||t.startState.selection,Tr)}static selection(t){return new Bn(void 0,Tr,void 0,void 0,t)}}function RO(r,t,e,i){let n=t+1>e+20?t-e-1:0,s=r.slice(n,t);return s.push(i),s}function nH(r,t){let e=[],i=!1;return r.iterChangedRanges((n,s)=>e.push(n,s)),t.iterChangedRanges((n,s,l,o)=>{for(let a=0;a<e.length;){let f=e[a++],c=e[a++];o>=f&&l<=c&&(i=!0)}}),i}function rH(r,t){return r.ranges.length==t.ranges.length&&r.ranges.filter((e,i)=>e.empty!=t.ranges[i].empty).length===0}function DN(r,t){return r.length?t.length?r.concat(t):r:t}const Tr=[],sH=200;function BN(r,t){if(r.length){let e=r[r.length-1],i=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-sH));return i.length&&i[i.length-1].eq(t)?r:(i.push(t),RO(r,r.length-1,1e9,e.setSelAfter(i)))}else return[Bn.selection([t])]}function lH(r){let t=r[r.length-1],e=r.slice();return e[r.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function Zx(r,t){if(!r.length)return r;let e=r.length,i=Tr;for(;e;){let n=oH(r[e-1],t,i);if(n.changes&&!n.changes.empty||n.effects.length){let s=r.slice(0,e);return s[e-1]=n,s}else t=n.mapped,e--,i=n.selectionsAfter}return i.length?[Bn.selection(i)]:Tr}function oH(r,t,e){let i=DN(r.selectionsAfter.length?r.selectionsAfter.map(o=>o.map(t)):Tr,e);if(!r.changes)return Bn.selection(i);let n=r.changes.map(t),s=t.mapDesc(r.changes,!0),l=r.mapped?r.mapped.composeDesc(s):s;return new Bn(n,sn.mapEffects(r.effects,t),l,r.startSelection.map(s),i)}const aH=/^(input\.type|delete)($|\.)/;class Gs{constructor(t,e,i=0,n=void 0){this.done=t,this.undone=e,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new Gs(this.done,this.undone):this}addChanges(t,e,i,n,s){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&t.changes&&(!i||aH.test(i))&&(!o.selectionsAfter.length&&e-this.prevTime<n&&nH(o.changes,t.changes)||i=="input.type.compose")?l=RO(l,l.length-1,s,new Bn(t.changes.compose(o.changes),DN(t.effects,o.effects),o.mapped,o.startSelection,Tr)):l=RO(l,l.length,s,t),new Gs(l,Tr,e,i)}addSelection(t,e,i,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Tr;return s.length>0&&e-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&rH(s[s.length-1],t)?this:new Gs(BN(this.done,t),this.undone,e,i)}addMapping(t){return new Gs(Zx(this.done,t),Zx(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,i){let n=t==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1];if(i&&s.selectionsAfter.length)return e.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:lk.of({side:t,rest:lH(n)}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=n.length==1?Tr:n.slice(0,n.length-1);return s.mapped&&(l=Zx(l,s.mapped)),e.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:lk.of({side:t,rest:l}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}Gs.empty=new Gs(Tr,Tr);const hH=[{key:"Mod-z",run:RN,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:EN,preventDefault:!0},{key:"Mod-u",run:eH,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:iH,preventDefault:!0}];function mf(r,t){return Bt.create(r.ranges.map(t),r.mainIndex)}function ml(r,t){return r.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function ho({state:r,dispatch:t},e){let i=mf(r.selection,e);return i.eq(r.selection)?!1:(t(ml(r,i)),!0)}function w1(r,t){return Bt.cursor(t?r.to:r.from)}function _N(r,t){return ho(r,e=>e.empty?r.moveByChar(e,t):w1(e,t))}function _r(r){return r.textDirectionAt(r.state.selection.main.head)==ln.LTR}const zN=r=>_N(r,!_r(r)),NN=r=>_N(r,_r(r));function LN(r,t){return ho(r,e=>e.empty?r.moveByGroup(e,t):w1(e,t))}const uH=r=>LN(r,!_r(r)),fH=r=>LN(r,_r(r));function cH(r,t,e){if(t.type.prop(e))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(r.sliceDoc(t.from,t.to)))||t.firstChild}function v1(r,t,e){let i=cr(r).resolveInner(t.head),n=e?ge.closedBy:ge.openedBy;for(let a=t.head;;){let f=e?i.childAfter(a):i.childBefore(a);if(!f)break;cH(r,f,n)?i=f:a=e?f.to:f.from}let s=i.type.prop(n),l,o;return s&&(l=e?Us(r,i.from,1):Us(r,i.to,-1))&&l.matched?o=e?l.end.to:l.end.from:o=e?i.to:i.from,Bt.cursor(o,e?-1:1)}const dH=r=>ho(r,t=>v1(r.state,t,!_r(r))),pH=r=>ho(r,t=>v1(r.state,t,_r(r)));function ZN(r,t){return ho(r,e=>{if(!e.empty)return w1(e,t);let i=r.moveVertically(e,t);return i.head!=e.head?i:r.moveToLineBoundary(e,t)})}const VN=r=>ZN(r,!1),XN=r=>ZN(r,!0);function IN(r,t){let{state:e}=r,i=mf(e.selection,o=>o.empty?r.moveVertically(o,t,Math.min(r.dom.clientHeight,innerHeight)):w1(o,t));if(i.eq(e.selection))return!1;let n=r.coordsAtPos(e.selection.main.head),s=r.scrollDOM.getBoundingClientRect(),l;return n&&n.top>s.top&&n.bottom<s.bottom&&n.top-s.top<=r.scrollDOM.scrollHeight-r.scrollDOM.scrollTop-r.scrollDOM.clientHeight&&(l=mi.scrollIntoView(i.main.head,{y:"start",yMargin:n.top-s.top})),r.dispatch(ml(e,i),{effects:l}),!0}const g5=r=>IN(r,!1),ok=r=>IN(r,!0);function k1(r,t,e){let i=r.lineBlockAt(t.head),n=r.moveToLineBoundary(t,e);if(n.head==t.head&&n.head!=(e?i.to:i.from)&&(n=r.moveToLineBoundary(t,e,!1)),!e&&n.head==i.from&&i.length){let s=/^\s*/.exec(r.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&t.head!=i.from+s&&(n=Bt.cursor(i.from+s))}return n}const m5=r=>ho(r,t=>k1(r,t,!0)),O5=r=>ho(r,t=>k1(r,t,!1)),gH=r=>ho(r,t=>Bt.cursor(r.lineBlockAt(t.head).from,1)),mH=r=>ho(r,t=>Bt.cursor(r.lineBlockAt(t.head).to,-1));function OH(r,t,e){let i=!1,n=mf(r.selection,s=>{let l=Us(r,s.head,-1)||Us(r,s.head,1)||s.head>0&&Us(r,s.head-1,1)||s.head<r.doc.length&&Us(r,s.head+1,-1);if(!l||!l.end)return s;i=!0;let o=l.start.from==s.head?l.end.to:l.end.from;return Bt.cursor(o)});return i?(t(ml(r,n)),!0):!1}const yH=({state:r,dispatch:t})=>OH(r,t);function Ol(r,t){let e=mf(r.state.selection,i=>{let n=t(i);return Bt.range(i.anchor,n.head,n.goalColumn)});return e.eq(r.state.selection)?!1:(r.dispatch(ml(r.state,e)),!0)}function jN(r,t){return Ol(r,e=>r.moveByChar(e,t))}const qN=r=>jN(r,!_r(r)),WN=r=>jN(r,_r(r));function YN(r,t){return Ol(r,e=>r.moveByGroup(e,t))}const bH=r=>YN(r,!_r(r)),xH=r=>YN(r,_r(r)),SH=r=>Ol(r,t=>v1(r.state,t,!_r(r))),wH=r=>Ol(r,t=>v1(r.state,t,_r(r)));function HN(r,t){return Ol(r,e=>r.moveVertically(e,t))}const UN=r=>HN(r,!1),GN=r=>HN(r,!0);function FN(r,t){return Ol(r,e=>r.moveVertically(e,t,Math.min(r.dom.clientHeight,innerHeight)))}const y5=r=>FN(r,!1),b5=r=>FN(r,!0),x5=r=>Ol(r,t=>k1(r,t,!0)),S5=r=>Ol(r,t=>k1(r,t,!1)),vH=r=>Ol(r,t=>Bt.cursor(r.lineBlockAt(t.head).from)),kH=r=>Ol(r,t=>Bt.cursor(r.lineBlockAt(t.head).to)),w5=({state:r,dispatch:t})=>(t(ml(r,{anchor:0})),!0),v5=({state:r,dispatch:t})=>(t(ml(r,{anchor:r.doc.length})),!0),k5=({state:r,dispatch:t})=>(t(ml(r,{anchor:r.selection.main.anchor,head:0})),!0),$5=({state:r,dispatch:t})=>(t(ml(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),$H=({state:r,dispatch:t})=>(t(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),AH=({state:r,dispatch:t})=>{let e=C1(r).map(({from:i,to:n})=>Bt.range(i,Math.min(n+1,r.doc.length)));return t(r.update({selection:Bt.create(e),userEvent:"select"})),!0},CH=({state:r,dispatch:t})=>{let e=mf(r.selection,i=>{var n;let s=cr(r).resolveInner(i.head,1);for(;!(s.from<i.from&&s.to>=i.to||s.to>i.to&&s.from<=i.from||!(!((n=s.parent)===null||n===void 0)&&n.parent));)s=s.parent;return Bt.range(s.to,s.from)});return t(ml(r,e)),!0},TH=({state:r,dispatch:t})=>{let e=r.selection,i=null;return e.ranges.length>1?i=Bt.create([e.main]):e.main.empty||(i=Bt.create([Bt.cursor(e.main.head)])),i?(t(ml(r,i)),!0):!1};function $1({state:r,dispatch:t},e){if(r.readOnly)return!1;let i="delete.selection",n=r.changeByRange(s=>{let{from:l,to:o}=s;if(l==o){let a=e(l);a<l?i="delete.backward":a>l&&(i="delete.forward"),l=Math.min(l,a),o=Math.max(o,a)}return l==o?{range:s}:{changes:{from:l,to:o},range:Bt.cursor(l)}});return n.changes.empty?!1:(t(r.update(n,{scrollIntoView:!0,userEvent:i})),!0)}function A1(r,t,e){if(r instanceof mi)for(let i of r.state.facet(mi.atomicRanges).map(n=>n(r)))i.between(t,t,(n,s)=>{n<t&&s>t&&(t=e?s:n)});return t}const KN=(r,t)=>$1(r,e=>{let{state:i}=r,n=i.doc.lineAt(e),s,l;if(!t&&e>n.from&&e<n.from+200&&!/[^ \t]/.test(s=n.text.slice(0,e-n.from))){if(s[s.length-1]=="	")return e-1;let o=_B(s,i.tabSize),a=o%MO(i)||MO(i);for(let f=0;f<a&&s[s.length-1-f]==" ";f++)e--;l=e}else l=ur(n.text,e-n.from,t,t)+n.from,l==e&&n.number!=(t?i.doc.lines:1)&&(l+=t?1:-1);return A1(r,l,t)}),ak=r=>KN(r,!1),JN=r=>KN(r,!0),t8=(r,t)=>$1(r,e=>{let i=e,{state:n}=r,s=n.doc.lineAt(i),l=n.charCategorizer(i);for(let o=null;;){if(i==(t?s.to:s.from)){i==e&&s.number!=(t?n.doc.lines:1)&&(i+=t?1:-1);break}let a=ur(s.text,i-s.from,t)+s.from,f=s.text.slice(Math.min(i,a)-s.from,Math.max(i,a)-s.from),c=l(f);if(o!=null&&c!=o)break;(f!=" "||i!=e)&&(o=c),i=a}return A1(r,i,t)}),e8=r=>t8(r,!1),QH=r=>t8(r,!0),i8=r=>$1(r,t=>{let e=r.lineBlockAt(t).to;return A1(r,t<e?e:Math.min(r.state.doc.length,t+1),!0)}),PH=r=>$1(r,t=>{let e=r.lineBlockAt(t).from;return A1(r,t>e?e:Math.max(0,t-1),!1)}),MH=({state:r,dispatch:t})=>{if(r.readOnly)return!1;let e=r.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Me.of(["",""])},range:Bt.cursor(i.from)}));return t(r.update(e,{scrollIntoView:!0,userEvent:"input"})),!0},RH=({state:r,dispatch:t})=>{if(r.readOnly)return!1;let e=r.changeByRange(i=>{if(!i.empty||i.from==0||i.from==r.doc.length)return{range:i};let n=i.from,s=r.doc.lineAt(n),l=n==s.from?n-1:ur(s.text,n-s.from,!1)+s.from,o=n==s.to?n+1:ur(s.text,n-s.from,!0)+s.from;return{changes:{from:l,to:o,insert:r.doc.slice(n,o).append(r.doc.slice(l,n))},range:Bt.cursor(o)}});return e.changes.empty?!1:(t(r.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function C1(r){let t=[],e=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.from),s=r.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=r.doc.lineAt(i.to-1)),e>=n.number){let l=t[t.length-1];l.to=s.to,l.ranges.push(i)}else t.push({from:n.from,to:s.to,ranges:[i]});e=s.number+1}return t}function n8(r,t,e){if(r.readOnly)return!1;let i=[],n=[];for(let s of C1(r)){if(e?s.to==r.doc.length:s.from==0)continue;let l=r.doc.lineAt(e?s.to+1:s.from-1),o=l.length+1;if(e){i.push({from:s.to,to:l.to},{from:s.from,insert:l.text+r.lineBreak});for(let a of s.ranges)n.push(Bt.range(Math.min(r.doc.length,a.anchor+o),Math.min(r.doc.length,a.head+o)))}else{i.push({from:l.from,to:s.from},{from:s.to,insert:r.lineBreak+l.text});for(let a of s.ranges)n.push(Bt.range(a.anchor-o,a.head-o))}}return i.length?(t(r.update({changes:i,scrollIntoView:!0,selection:Bt.create(n,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const EH=({state:r,dispatch:t})=>n8(r,t,!1),DH=({state:r,dispatch:t})=>n8(r,t,!0);function r8(r,t,e){if(r.readOnly)return!1;let i=[];for(let n of C1(r))e?i.push({from:n.from,insert:r.doc.slice(n.from,n.to)+r.lineBreak}):i.push({from:n.to,insert:r.lineBreak+r.doc.slice(n.from,n.to)});return t(r.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const BH=({state:r,dispatch:t})=>r8(r,t,!1),_H=({state:r,dispatch:t})=>r8(r,t,!0),zH=r=>{if(r.state.readOnly)return!1;let{state:t}=r,e=t.changes(C1(t).map(({from:n,to:s})=>(n>0?n--:s<t.doc.length&&s++,{from:n,to:s}))),i=mf(t.selection,n=>r.moveVertically(n,!0)).map(e);return r.dispatch({changes:e,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function NH(r,t){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(t-1,t+1)))return{from:t,to:t};let e=cr(r).resolveInner(t),i=e.childBefore(t),n=e.childAfter(t),s;return i&&n&&i.to<=t&&n.from>=t&&(s=i.type.prop(ge.closedBy))&&s.indexOf(n.name)>-1&&r.doc.lineAt(i.to).from==r.doc.lineAt(n.from).from?{from:i.to,to:n.from}:null}const LH=s8(!1),ZH=s8(!0);function s8(r){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(n=>{let{from:s,to:l}=n,o=t.doc.lineAt(s),a=!r&&s==l&&NH(t,s);r&&(s=l=(l<=o.to?o:t.doc.lineAt(l)).to);let f=new x1(t,{simulateBreak:s,simulateDoubleBreak:!!a}),c=Q$(f,s);for(c==null&&(c=/^\s*/.exec(t.doc.lineAt(s).text)[0].length);l<o.to&&/\s/.test(o.text[l-o.from]);)l++;a?{from:s,to:l}=a:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let p=["",rp(t,c)];return a&&p.push(rp(t,f.lineIndent(o.from,-1))),{changes:{from:s,to:l,insert:Me.of(p)},range:Bt.cursor(s+1+p[1].length)}});return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function E$(r,t){let e=-1;return r.changeByRange(i=>{let n=[];for(let l=i.from;l<=i.to;){let o=r.doc.lineAt(l);o.number>e&&(i.empty||i.to>o.from)&&(t(o,n,i),e=o.number),l=o.to+1}let s=r.changes(n);return{changes:n,range:Bt.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const VH=({state:r,dispatch:t})=>{if(r.readOnly)return!1;let e=Object.create(null),i=new x1(r,{overrideIndentation:s=>{let l=e[s];return l??-1}}),n=E$(r,(s,l,o)=>{let a=Q$(i,s.from);if(a==null)return;/\S/.test(s.text)||(a=0);let f=/^\s*/.exec(s.text)[0],c=rp(r,a);(f!=c||o.from<s.from+f.length)&&(e[s.from]=a,l.push({from:s.from,to:s.from+f.length,insert:c}))});return n.changes.empty||t(r.update(n,{userEvent:"indent"})),!0},l8=({state:r,dispatch:t})=>r.readOnly?!1:(t(r.update(E$(r,(e,i)=>{i.push({from:e.from,insert:r.facet(T$)})}),{userEvent:"input.indent"})),!0),o8=({state:r,dispatch:t})=>r.readOnly?!1:(t(r.update(E$(r,(e,i)=>{let n=/^\s*/.exec(e.text)[0];if(!n)return;let s=_B(n,r.tabSize),l=0,o=rp(r,Math.max(0,s-MO(r)));for(;l<n.length&&l<o.length&&n.charCodeAt(l)==o.charCodeAt(l);)l++;i.push({from:e.from+l,to:e.from+n.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),XH=[{key:"Ctrl-b",run:zN,shift:qN,preventDefault:!0},{key:"Ctrl-f",run:NN,shift:WN},{key:"Ctrl-p",run:VN,shift:UN},{key:"Ctrl-n",run:XN,shift:GN},{key:"Ctrl-a",run:gH,shift:vH},{key:"Ctrl-e",run:mH,shift:kH},{key:"Ctrl-d",run:JN},{key:"Ctrl-h",run:ak},{key:"Ctrl-k",run:i8},{key:"Ctrl-Alt-h",run:e8},{key:"Ctrl-o",run:MH},{key:"Ctrl-t",run:RH},{key:"Ctrl-v",run:ok}],IH=[{key:"ArrowLeft",run:zN,shift:qN,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:uH,shift:bH},{mac:"Cmd-ArrowLeft",run:O5,shift:S5},{key:"ArrowRight",run:NN,shift:WN,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:fH,shift:xH},{mac:"Cmd-ArrowRight",run:m5,shift:x5},{key:"ArrowUp",run:VN,shift:UN,preventDefault:!0},{mac:"Cmd-ArrowUp",run:w5,shift:k5},{mac:"Ctrl-ArrowUp",run:g5,shift:y5},{key:"ArrowDown",run:XN,shift:GN,preventDefault:!0},{mac:"Cmd-ArrowDown",run:v5,shift:$5},{mac:"Ctrl-ArrowDown",run:ok,shift:b5},{key:"PageUp",run:g5,shift:y5},{key:"PageDown",run:ok,shift:b5},{key:"Home",run:O5,shift:S5,preventDefault:!0},{key:"Mod-Home",run:w5,shift:k5},{key:"End",run:m5,shift:x5,preventDefault:!0},{key:"Mod-End",run:v5,shift:$5},{key:"Enter",run:LH},{key:"Mod-a",run:$H},{key:"Backspace",run:ak,shift:ak},{key:"Delete",run:JN},{key:"Mod-Backspace",mac:"Alt-Backspace",run:e8},{key:"Mod-Delete",mac:"Alt-Delete",run:QH},{mac:"Mod-Backspace",run:PH},{mac:"Mod-Delete",run:i8}].concat(XH.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),jH=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:dH,shift:SH},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:pH,shift:wH},{key:"Alt-ArrowUp",run:EH},{key:"Shift-Alt-ArrowUp",run:BH},{key:"Alt-ArrowDown",run:DH},{key:"Shift-Alt-ArrowDown",run:_H},{key:"Escape",run:TH},{key:"Mod-Enter",run:ZH},{key:"Alt-l",mac:"Ctrl-l",run:AH},{key:"Mod-i",run:CH,preventDefault:!0},{key:"Mod-[",run:o8},{key:"Mod-]",run:l8},{key:"Mod-Alt-\\",run:VH},{key:"Shift-Mod-k",run:zH},{key:"Shift-Mod-\\",run:yH},{key:"Mod-/",run:jY},{key:"Alt-A",run:WY}].concat(IH),qH={key:"Tab",run:l8,shift:o8};class Re{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){let n=[];return this.decompose(0,t,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(e,this.length,n,1),qs.from(n,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let i=[];return this.decompose(t,e,i,0),qs.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),n=new Ad(this),s=new Ad(t);for(let l=e,o=e;;){if(n.next(l),s.next(l),l=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(t=1){return new Ad(this,t)}iterRange(t,e=this.length){return new a8(this,t,e)}iterLines(t,e){let i;if(t==null)i=this.iter();else{e==null&&(e=this.lines+1);let n=this.line(t).from;i=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new h8(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?Re.empty:t.length<=32?new bi(t):qs.from(bi.split(t,[]))}}class bi extends Re{constructor(t,e=WH(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,n){for(let s=0;;s++){let l=this.text[s],o=n+l.length;if((e?i:o)>=t)return new YH(n,o,i,l);n=o+1,i++}}decompose(t,e,i,n){let s=t<=0&&e>=this.length?this:new bi(A5(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(n&1){let l=i.pop(),o=Z0(s.text,l.text.slice(),0,s.length);if(o.length<=32)i.push(new bi(o,l.length+s.length));else{let a=o.length>>1;i.push(new bi(o.slice(0,a)),new bi(o.slice(a)))}}else i.push(s)}replace(t,e,i){if(!(i instanceof bi))return super.replace(t,e,i);let n=Z0(this.text,Z0(i.text,A5(this.text,0,t)),e),s=this.length+i.length-(e-t);return n.length<=32?new bi(n,s):qs.from(bi.split(n,[]),s)}sliceString(t,e=this.length,i=`
`){let n="";for(let s=0,l=0;s<=e&&l<this.text.length;l++){let o=this.text[l],a=s+o.length;s>t&&l&&(n+=i),t<a&&e>s&&(n+=o.slice(Math.max(0,t-s),e-s)),s=a+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],n=-1;for(let s of t)i.push(s),n+=s.length+1,i.length==32&&(e.push(new bi(i,n)),i=[],n=-1);return n>-1&&e.push(new bi(i,n)),e}}class qs extends Re{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,n){for(let s=0;;s++){let l=this.children[s],o=n+l.length,a=i+l.lines-1;if((e?a:o)>=t)return l.lineInner(t,e,i,n);n=o+1,i=a+1}}decompose(t,e,i,n){for(let s=0,l=0;l<=e&&s<this.children.length;s++){let o=this.children[s],a=l+o.length;if(t<=a&&e>=l){let f=n&((l<=t?1:0)|(a>=e?2:0));l>=t&&a<=e&&!f?i.push(o):o.decompose(t-l,e-l,i,f)}l=a+1}}replace(t,e,i){if(i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let l=this.children[n],o=s+l.length;if(t>=s&&e<=o){let a=l.replace(t-s,e-s,i),f=this.lines-l.lines+a.lines;if(a.lines<f>>4&&a.lines>f>>6){let c=this.children.slice();return c[n]=a,new qs(c,this.length-(e-t)+i.length)}return super.replace(s,o,a)}s=o+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i=`
`){let n="";for(let s=0,l=0;s<this.children.length&&l<=e;s++){let o=this.children[s],a=l+o.length;l>t&&s&&(n+=i),t<a&&e>l&&(n+=o.sliceString(t-l,e-l,i)),l=a+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof qs))return 0;let i=0,[n,s,l,o]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,s+=e){if(n==l||s==o)return i;let a=this.children[n],f=t.children[s];if(a!=f)return i+a.scanIdentical(f,e);i+=a.length+1}}static from(t,e=t.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let O of t)i+=O.lines;if(i<32){let O=[];for(let y of t)y.flatten(O);return new bi(O,e)}let n=Math.max(32,i>>5),s=n<<1,l=n>>1,o=[],a=0,f=-1,c=[];function p(O){let y;if(O.lines>s&&O instanceof qs)for(let S of O.children)p(S);else O.lines>l&&(a>l||!a)?(m(),o.push(O)):O instanceof bi&&a&&(y=c[c.length-1])instanceof bi&&O.lines+y.lines<=32?(a+=O.lines,f+=O.length+1,c[c.length-1]=new bi(y.text.concat(O.text),y.length+1+O.length)):(a+O.lines>n&&m(),a+=O.lines,f+=O.length+1,c.push(O))}function m(){a!=0&&(o.push(c.length==1?c[0]:qs.from(c,f)),f=-1,a=c.length=0)}for(let O of t)p(O);return m(),o.length==1?o[0]:new qs(o,e)}}Re.empty=new bi([""],0);function WH(r){let t=-1;for(let e of r)t+=e.length+1;return t}function Z0(r,t,e=0,i=1e9){for(let n=0,s=0,l=!0;s<r.length&&n<=i;s++){let o=r[s],a=n+o.length;a>=e&&(a>i&&(o=o.slice(0,i-n)),n<e&&(o=o.slice(e-n)),l?(t[t.length-1]+=o,l=!1):t.push(o)),n=a+1}return t}function A5(r,t,e){return Z0(r,[""],t,e)}class Ad{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof bi?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],l=s>>1,o=n instanceof bi?n.text.length:n.children.length;if(l==(e>0?o:0)){if(i==0)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(e>0?0:1)){if(this.offsets[i]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(n instanceof bi){let a=n.text[l+(e<0?-1:0)];if(this.offsets[i]+=e,a.length>Math.max(0,t))return this.value=t==0?a:e>0?a.slice(t):a.slice(0,a.length-t),this;t-=a.length}else{let a=n.children[l+(e<0?-1:0)];t>a.length?(t-=a.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(e>0?1:(a instanceof bi?a.text.length:a.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class a8{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new Ad(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=i?n:e<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class h8{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:n}=this.inner.next(t);return e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Re.prototype[Symbol.iterator]=function(){return this.iter()},Ad.prototype[Symbol.iterator]=a8.prototype[Symbol.iterator]=h8.prototype[Symbol.iterator]=function(){return this});class YH{constructor(t,e,i,n){this.from=t,this.to=e,this.number=i,this.text=n}get length(){return this.to-this.from}}let Mu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<Mu.length;r++)Mu[r]+=Mu[r-1];function HH(r){for(let t=1;t<Mu.length;t+=2)if(Mu[t]>r)return Mu[t-1]<=r;return!1}function C5(r){return r>=127462&&r<=127487}const T5=8205;function ha(r,t,e=!0,i=!0){return(e?u8:UH)(r,t,i)}function u8(r,t,e){if(t==r.length)return t;t&&f8(r.charCodeAt(t))&&c8(r.charCodeAt(t-1))&&t--;let i=Qn(r,t);for(t+=Wr(i);t<r.length;){let n=Qn(r,t);if(i==T5||n==T5||e&&HH(n))t+=Wr(n),i=n;else if(C5(n)){let s=0,l=t-2;for(;l>=0&&C5(Qn(r,l));)s++,l-=2;if(s%2==0)break;t+=2}else break}return t}function UH(r,t,e){for(;t>0;){let i=u8(r,t-2,e);if(i<t)return i;t--}return 0}function f8(r){return r>=56320&&r<57344}function c8(r){return r>=55296&&r<56320}function Qn(r,t){let e=r.charCodeAt(t);if(!c8(e)||t+1==r.length)return e;let i=r.charCodeAt(t+1);return f8(i)?(e-55296<<10)+(i-56320)+65536:e}function d8(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function Wr(r){return r<65536?1:2}const hk=/\r\n?|\n/;var Rn=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(Rn||(Rn={}));class eo{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,n=0;e<this.sections.length;){let s=this.sections[e++],l=this.sections[e++];l<0?(t(i,n,s),n+=s):n+=l,i+=s}}iterChangedRanges(t,e=!1){uk(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];n<0?t.push(i,n):t.push(n,i)}return new eo(t)}composeDesc(t){return this.empty?t:t.empty?this:p8(this,t)}mapDesc(t,e=!1){return t.empty?this:fk(this,t,e)}mapPos(t,e=-1,i=Rn.Simple){let n=0,s=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],a=this.sections[l++],f=n+o;if(a<0){if(f>t)return s+(t-n);s+=o}else{if(i!=Rn.Simple&&f>=t&&(i==Rn.TrackDel&&n<t&&f>t||i==Rn.TrackBefore&&n<t||i==Rn.TrackAfter&&f>t))return null;if(f>t||f==t&&e<0&&!o)return t==n||e<0?s:s+a;s+=a}n=f}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return s}touchesRange(t,e=t){for(let i=0,n=0;i<this.sections.length&&n<=e;){let s=this.sections[i++],l=this.sections[i++],o=n+s;if(l>=0&&n<=e&&o>=t)return n<t&&o>e?"cover":!0;n=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+i+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new eo(t)}static create(t){return new eo(t)}}class Li extends eo{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return uk(this,(e,i,n,s,l)=>t=t.replace(n,n+(i-e),l),!1),t}mapDesc(t,e=!1){return fk(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let n=0,s=0;n<e.length;n+=2){let l=e[n],o=e[n+1];if(o>=0){e[n]=o,e[n+1]=l;let a=n>>1;for(;i.length<a;)i.push(Re.empty);i.push(l?t.slice(s,s+l):Re.empty)}s+=l}return new Li(e,i)}compose(t){return this.empty?t:t.empty?this:p8(this,t,!0)}map(t,e=!1){return t.empty?this:fk(this,t,e,!0)}iterChanges(t,e=!1){uk(this,t,e)}get desc(){return eo.create(this.sections)}filter(t){let e=[],i=[],n=[],s=new sp(this);t:for(let l=0,o=0;;){let a=l==t.length?1e9:t[l++];for(;o<a||o==a&&s.len==0;){if(s.done)break t;let c=Math.min(s.len,a-o);dn(n,c,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;dn(e,c,p),p>0&&rh(i,e,s.text),s.forward(c),o+=c}let f=t[l++];for(;o<f;){if(s.done)break t;let c=Math.min(s.len,f-o);dn(e,c,-1),dn(n,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),o+=c}}return{changes:new Li(e,i),filtered:eo.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],n=this.sections[e+1];n<0?t.push(i):n==0?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let n=[],s=[],l=0,o=null;function a(c=!1){if(!c&&!n.length)return;l<e&&dn(n,e-l,-1);let p=new Li(n,s);o=o?o.compose(p.map(o)):p,n=[],s=[],l=0}function f(c){if(Array.isArray(c))for(let p of c)f(p);else if(c instanceof Li){if(c.length!=e)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${e})`);a(),o=o?o.compose(c.map(o)):c}else{let{from:p,to:m=p,insert:O}=c;if(p>m||p<0||m>e)throw new RangeError(`Invalid change range ${p} to ${m} (in doc of length ${e})`);let y=O?typeof O=="string"?Re.of(O.split(i||hk)):O:Re.empty,S=y.length;if(p==m&&S==0)return;p<l&&a(),p>l&&dn(n,p-l,-1),dn(n,m-p,S),rh(s,n,y),l=m}}return f(t),a(!o),o}static empty(t){return new Li(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let n=0;n<t.length;n++){let s=t[n];if(typeof s=="number")e.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)e.push(s[0],0);else{for(;i.length<n;)i.push(Re.empty);i[n]=Re.of(s.slice(1)),e.push(s[0],i[n].length)}}}return new Li(e,i)}static createSet(t,e){return new Li(t,e)}}function dn(r,t,e,i=!1){if(t==0&&e<=0)return;let n=r.length-2;n>=0&&e<=0&&e==r[n+1]?r[n]+=t:t==0&&r[n]==0?r[n+1]+=e:i?(r[n]+=t,r[n+1]+=e):r.push(t,e)}function rh(r,t,e){if(e.length==0)return;let i=t.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(e);else{for(;r.length<i;)r.push(Re.empty);r.push(e)}}function uk(r,t,e){let i=r.inserted;for(let n=0,s=0,l=0;l<r.sections.length;){let o=r.sections[l++],a=r.sections[l++];if(a<0)n+=o,s+=o;else{let f=n,c=s,p=Re.empty;for(;f+=o,c+=a,a&&i&&(p=p.append(i[l-2>>1])),!(e||l==r.sections.length||r.sections[l+1]<0);)o=r.sections[l++],a=r.sections[l++];t(n,f,s,c,p),n=f,s=c}}}function fk(r,t,e,i=!1){let n=[],s=i?[]:null,l=new sp(r),o=new sp(t);for(let a=0,f=0;;)if(l.ins==-1)a+=l.len,l.next();else if(o.ins==-1&&f<a){let c=Math.min(o.len,a-f);o.forward(c),dn(n,c,-1),f+=c}else if(o.ins>=0&&(l.done||f<a||f==a&&(o.len<l.len||o.len==l.len&&!e))){for(dn(n,o.ins,-1);a>f&&!l.done&&a+l.len<f+o.len;)a+=l.len,l.next();f+=o.len,o.next()}else if(l.ins>=0){let c=0,p=a+l.len;for(;;)if(o.ins>=0&&f>a&&f+o.len<p)c+=o.ins,f+=o.len,o.next();else if(o.ins==-1&&f<p){let m=Math.min(o.len,p-f);c+=m,o.forward(m),f+=m}else break;dn(n,c,l.ins),s&&rh(s,n,l.text),a=p,l.next()}else{if(l.done&&o.done)return s?Li.createSet(n,s):eo.create(n);throw new Error("Mismatched change set lengths")}}function p8(r,t,e=!1){let i=[],n=e?[]:null,s=new sp(r),l=new sp(t);for(let o=!1;;){if(s.done&&l.done)return n?Li.createSet(i,n):eo.create(i);if(s.ins==0)dn(i,s.len,0,o),s.next();else if(l.len==0&&!l.done)dn(i,0,l.ins,o),n&&rh(n,i,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,l.len),f=i.length;if(s.ins==-1){let c=l.ins==-1?-1:l.off?0:l.ins;dn(i,a,c,o),n&&c&&rh(n,i,l.text)}else l.ins==-1?(dn(i,s.off?0:s.len,a,o),n&&rh(n,i,s.textBit(a))):(dn(i,s.off?0:s.len,l.off?0:l.ins,o),n&&!l.off&&rh(n,i,l.text));o=(s.ins>a||l.ins>=0&&l.len>a)&&(o||i.length>f),s.forward2(a),l.forward(a)}}}}class sp{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?Re.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?Re.empty:e[i].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class sh{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let t=this.flags&3;return t==3?null:t}get goalColumn(){let t=this.flags>>5;return t==33554431?void 0:t}map(t,e=-1){let i,n;return this.empty?i=n=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new sh(i,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return _t.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return _t.range(this.anchor,i)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return _t.range(t.anchor,t.head)}static create(t,e,i){return new sh(t,e,i)}}class _t{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:_t.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new _t([this.main],0)}addRange(t,e=!0){return _t.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,_t.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new _t(t.ranges.map(e=>sh.fromJSON(e)),t.main)}static single(t,e=t){return new _t([_t.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<t.length;n++){let s=t[n];if(s.empty?s.from<=i:s.from<i)return _t.normalized(t.slice(),e);i=s.to}return new _t(t,e)}static cursor(t,e=0,i,n){return sh.create(t,t,(e==0?0:e<0?4:8)|(i==null?3:Math.min(2,i))|(n??33554431)<<5)}static range(t,e,i){let n=(i??33554431)<<5;return e<t?sh.create(e,t,16|n|8):sh.create(t,e,n|(e>t?4:0))}static normalized(t,e=0){let i=t[e];t.sort((n,s)=>n.from-s.from),e=t.indexOf(i);for(let n=1;n<t.length;n++){let s=t[n],l=t[n-1];if(s.empty?s.from<=l.to:s.from<l.to){let o=l.from,a=Math.max(s.to,l.to);n<=e&&e--,t.splice(--n,2,s.anchor>s.head?_t.range(a,o):_t.range(o,a))}}return new _t(t,e)}}function g8(r,t){for(let e of r.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let D$=0;class ce{constructor(t,e,i,n,s){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=n,this.extensions=s,this.id=D$++,this.default=t([])}static define(t={}){return new ce(t.combine||(e=>e),t.compareInput||((e,i)=>e===i),t.compare||(t.combine?(e,i)=>e===i:B$),!!t.static,t.enables)}of(t){return new V0([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new V0(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new V0(t,this,2,e)}from(t,e){return e||(e=i=>i),this.compute([t],i=>e(i.field(t)))}}function B$(r,t){return r==t||r.length==t.length&&r.every((e,i)=>e===t[i])}class V0{constructor(t,e,i,n){this.dependencies=t,this.facet=e,this.type=i,this.value=n,this.id=D$++}dynamicSlot(t){var e;let i=this.value,n=this.facet.compareInput,s=this.id,l=t[s]>>1,o=this.type==2,a=!1,f=!1,c=[];for(let p of this.dependencies)p=="doc"?a=!0:p=="selection"?f=!0:(((e=t[p.id])!==null&&e!==void 0?e:1)&1)==0&&c.push(t[p.id]);return{create(p){return p.values[l]=i(p),1},update(p,m){if(a&&m.docChanged||f&&(m.docChanged||m.selection)||ck(p,c)){let O=i(p);if(o?!Q5(O,p.values[l],n):!n(O,p.values[l]))return p.values[l]=O,1}return 0},reconfigure:(p,m)=>{let O=i(p),y=m.config.address[s];if(y!=null){let S=DO(m,y);if(this.dependencies.every(w=>w instanceof ce?m.facet(w)===p.facet(w):w instanceof $a?m.field(w,!1)==p.field(w,!1):!0)||(o?Q5(O,S,n):n(O,S)))return p.values[l]=S,0}return p.values[l]=O,1}}}}function Q5(r,t,e){if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(!e(r[i],t[i]))return!1;return!0}function ck(r,t){let e=!1;for(let i of t)Cd(r,i)&1&&(e=!0);return e}function GH(r,t,e){let i=e.map(a=>r[a.id]),n=e.map(a=>a.type),s=i.filter(a=>!(a&1)),l=r[t.id]>>1;function o(a){let f=[];for(let c=0;c<i.length;c++){let p=DO(a,i[c]);if(n[c]==2)for(let m of p)f.push(m);else f.push(p)}return t.combine(f)}return{create(a){for(let f of i)Cd(a,f);return a.values[l]=o(a),1},update(a,f){if(!ck(a,s))return 0;let c=o(a);return t.compare(c,a.values[l])?0:(a.values[l]=c,1)},reconfigure(a,f){let c=ck(a,i),p=f.config.facets[t.id],m=f.facet(t);if(p&&!c&&B$(e,p))return a.values[l]=m,0;let O=o(a);return t.compare(O,m)?(a.values[l]=m,0):(a.values[l]=O,1)}}}const P5=ce.define({static:!0});class $a{constructor(t,e,i,n,s){this.id=t,this.createF=e,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(t){let e=new $a(D$++,t.create,t.update,t.compare||((i,n)=>i===n),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(P5).find(i=>i.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:i=>(i.values[e]=this.create(i),1),update:(i,n)=>{let s=i.values[e],l=this.updateF(s,n);return this.compareF(s,l)?0:(i.values[e]=l,1)},reconfigure:(i,n)=>n.config.address[this.id]!=null?(i.values[e]=n.field(this),0):(i.values[e]=this.create(i),1)}}init(t){return[this,P5.of({field:this,create:t})]}get extension(){return this}}const du={lowest:4,low:3,default:2,high:1,highest:0};function xc(r){return t=>new O8(t,r)}const m8={highest:xc(du.highest),high:xc(du.high),default:xc(du.default),low:xc(du.low),lowest:xc(du.lowest)};class O8{constructor(t,e){this.inner=t,this.prec=e}}class T1{of(t){return new dk(this,t)}reconfigure(t){return T1.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class dk{constructor(t,e){this.compartment=t,this.inner=e}}class EO{constructor(t,e,i,n,s,l){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let n=[],s=Object.create(null),l=new Map;for(let m of FH(t,e,l))m instanceof $a?n.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let o=Object.create(null),a=[],f=[];for(let m of n)o[m.id]=f.length<<1,f.push(O=>m.slot(O));let c=i?.config.facets;for(let m in s){let O=s[m],y=O[0].facet,S=c&&c[m]||[];if(O.every(w=>w.type==0))if(o[y.id]=a.length<<1|1,B$(S,O))a.push(i.facet(y));else{let w=y.combine(O.map(v=>v.value));a.push(i&&y.compare(w,i.facet(y))?i.facet(y):w)}else{for(let w of O)w.type==0?(o[w.id]=a.length<<1|1,a.push(w.value)):(o[w.id]=f.length<<1,f.push(v=>w.dynamicSlot(v)));o[y.id]=f.length<<1,f.push(w=>GH(w,y,O))}}let p=f.map(m=>m(o));return new EO(t,l,p,o,a,s)}}function FH(r,t,e){let i=[[],[],[],[],[]],n=new Map;function s(l,o){let a=n.get(l);if(a!=null){if(a<=o)return;let f=i[a].indexOf(l);f>-1&&i[a].splice(f,1),l instanceof dk&&e.delete(l.compartment)}if(n.set(l,o),Array.isArray(l))for(let f of l)s(f,o);else if(l instanceof dk){if(e.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=t.get(l.compartment)||l.inner;e.set(l.compartment,f),s(f,o)}else if(l instanceof O8)s(l.inner,l.prec);else if(l instanceof $a)i[o].push(l),l.provides&&s(l.provides,o);else if(l instanceof V0)i[o].push(l),l.facet.extensions&&s(l.facet.extensions,o);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,o)}}return s(r,du.default),i.reduce((l,o)=>l.concat(o))}function Cd(r,t){if(t&1)return 2;let e=t>>1,i=r.status[e];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[e]=4;let n=r.computeSlot(r,r.config.dynamicSlots[e]);return r.status[e]=2|n}function DO(r,t){return t&1?r.config.staticValues[t>>1]:r.values[t>>1]}const y8=ce.define(),b8=ce.define({combine:r=>r.some(t=>t),static:!0}),x8=ce.define({combine:r=>r.length?r[0]:void 0,static:!0}),S8=ce.define(),w8=ce.define(),v8=ce.define(),k8=ce.define({combine:r=>r.length?r[0]:!1});class Mp{constructor(t,e){this.type=t,this.value=e}static define(){return new KH}}class KH{of(t){return new Mp(this,t)}}class JH{constructor(t){this.map=t}of(t){return new ai(this,t)}}class ai{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new ai(this.type,e)}is(t){return this.type==t}static define(t={}){return new JH(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let n of t){let s=n.map(e);s&&i.push(s)}return i}}ai.reconfigure=ai.define();ai.appendConfig=ai.define();class an{constructor(t,e,i,n,s,l){this.startState=t,this.changes=e,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,i&&g8(i,e.newLength),s.some(o=>o.type==an.time)||(this.annotations=s.concat(an.time.of(Date.now())))}static create(t,e,i,n,s,l){return new an(t,e,i,n,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(an.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}an.time=Mp.define();an.userEvent=Mp.define();an.addToHistory=Mp.define();an.remote=Mp.define();function tU(r,t){let e=[];for(let i=0,n=0;;){let s,l;if(i<r.length&&(n==t.length||t[n]>=r[i]))s=r[i++],l=r[i++];else if(n<t.length)s=t[n++],l=t[n++];else return e;!e.length||e[e.length-1]<s?e.push(s,l):e[e.length-1]<l&&(e[e.length-1]=l)}}function $8(r,t,e){var i;let n,s,l;return e?(n=t.changes,s=Li.empty(t.changes.length),l=r.changes.compose(t.changes)):(n=t.changes.map(r.changes),s=r.changes.mapDesc(t.changes,!0),l=r.changes.compose(n)),{changes:l,selection:t.selection?t.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:ai.mapEffects(r.effects,n).concat(ai.mapEffects(t.effects,s)),annotations:r.annotations.length?r.annotations.concat(t.annotations):t.annotations,scrollIntoView:r.scrollIntoView||t.scrollIntoView}}function pk(r,t,e){let i=t.selection,n=Ru(t.annotations);return t.userEvent&&(n=n.concat(an.userEvent.of(t.userEvent))),{changes:t.changes instanceof Li?t.changes:Li.of(t.changes||[],e,r.facet(x8)),selection:i&&(i instanceof _t?i:_t.single(i.anchor,i.head)),effects:Ru(t.effects),annotations:n,scrollIntoView:!!t.scrollIntoView}}function A8(r,t,e){let i=pk(r,t.length?t[0]:{},r.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let s=1;s<t.length;s++){t[s].filter===!1&&(e=!1);let l=!!t[s].sequential;i=$8(i,pk(r,t[s],l?i.changes.newLength:r.doc.length),l)}let n=an.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return iU(e?eU(n):n)}function eU(r){let t=r.startState,e=!0;for(let n of t.facet(S8)){let s=n(r);if(s===!1){e=!1;break}Array.isArray(s)&&(e=e===!0?s:tU(e,s))}if(e!==!0){let n,s;if(e===!1)s=r.changes.invertedDesc,n=Li.empty(t.doc.length);else{let l=r.changes.filter(e);n=l.changes,s=l.filtered.invertedDesc}r=an.create(t,n,r.selection&&r.selection.map(s),ai.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=t.facet(w8);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof an?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof an?r=s[0]:r=A8(t,Ru(s),!1)}return r}function iU(r){let t=r.startState,e=t.facet(v8),i=r;for(let n=e.length-1;n>=0;n--){let s=e[n](r);s&&Object.keys(s).length&&(i=$8(r,pk(t,s,r.changes.newLength),!0))}return i==r?r:an.create(t,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const nU=[];function Ru(r){return r==null?nU:Array.isArray(r)?r:[r]}var Kr=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(Kr||(Kr={}));const rU=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let gk;try{gk=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function sU(r){if(gk)return gk.test(r);for(let t=0;t<r.length;t++){let e=r[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||rU.test(e)))return!0}return!1}function lU(r){return t=>{if(!/\S/.test(t))return Kr.Space;if(sU(t))return Kr.Word;for(let e=0;e<r.length;e++)if(t.indexOf(r[e])>-1)return Kr.Word;return Kr.Other}}class Ye{constructor(t,e,i,n,s,l){this.config=t,this.doc=e,this.selection=i,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Cd(this,o<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(i==null){if(e)throw new RangeError("Field is not present in this state");return}return Cd(this,i),DO(this,i)}update(...t){return A8(this,t,!0)}applyTransaction(t){let e=this.config,{base:i,compartments:n}=e;for(let l of t.effects)l.is(T1.reconfigure)?(e&&(n=new Map,e.compartments.forEach((o,a)=>n.set(a,o)),e=null),n.set(l.value.compartment,l.value.extension)):l.is(ai.reconfigure)?(e=null,i=l.value):l.is(ai.appendConfig)&&(e=null,i=Ru(i).concat(l.value));let s;e?s=t.startState.values.slice():(e=EO.resolve(i,n,this),s=new Ye(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(o,a)=>a.reconfigure(o,this),null).values),new Ye(e,t.newDoc,t.newSelection,s,(l,o)=>o.update(l,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:_t.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),n=this.changes(i.changes),s=[i.range],l=Ru(i.effects);for(let o=1;o<e.ranges.length;o++){let a=t(e.ranges[o]),f=this.changes(a.changes),c=f.map(n);for(let m=0;m<o;m++)s[m]=s[m].map(c);let p=n.mapDesc(f,!0);s.push(a.range.map(p)),n=n.compose(c),l=ai.mapEffects(l,c).concat(ai.mapEffects(Ru(a.effects),p))}return{changes:n,selection:_t.create(s,e.mainIndex),effects:l}}changes(t=[]){return t instanceof Li?t:Li.of(t,this.doc.length,this.facet(Ye.lineSeparator))}toText(t){return Re.of(t.split(this.facet(Ye.lineSeparator)||hk))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(Cd(this,e),DO(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let n=t[i];n instanceof $a&&(e[i]=n.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i)for(let s in i){let l=i[s],o=t[s];n.push(l.init(a=>l.spec.fromJSON(o,a)))}return Ye.create({doc:t.doc,selection:_t.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=EO.resolve(t.extensions||[],new Map),i=t.doc instanceof Re?t.doc:Re.of((t.doc||"").split(e.staticFacet(Ye.lineSeparator)||hk)),n=t.selection?t.selection instanceof _t?t.selection:_t.single(t.selection.anchor,t.selection.head):_t.single(0);return g8(n,i.length),e.staticFacet(b8)||(n=n.asSingle()),new Ye(e,i,n,e.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(Ye.tabSize)}get lineBreak(){return this.facet(Ye.lineSeparator)||`
`}get readOnly(){return this.facet(k8)}phrase(t,...e){for(let i of this.facet(Ye.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return s>e.length?i:e[s-1]})),t}languageDataAt(t,e,i=-1){let n=[];for(let s of this.facet(y8))for(let l of s(this,e,i))Object.prototype.hasOwnProperty.call(l,t)&&n.push(l[t]);return n}charCategorizer(t){return lU(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:n}=this.doc.lineAt(t),s=this.charCategorizer(t),l=t-i,o=t-i;for(;l>0;){let a=ha(e,l,!1);if(s(e.slice(a,l))!=Kr.Word)break;l=a}for(;o<n;){let a=ha(e,o);if(s(e.slice(o,a))!=Kr.Word)break;o=a}return l==o?null:_t.range(l+i,o+i)}}Ye.allowMultipleSelections=b8;Ye.tabSize=ce.define({combine:r=>r.length?r[0]:4});Ye.lineSeparator=x8;Ye.readOnly=k8;Ye.phrases=ce.define({compare(r,t){let e=Object.keys(r),i=Object.keys(t);return e.length==i.length&&e.every(n=>r[n]==t[n])}});Ye.languageData=y8;Ye.changeFilter=S8;Ye.transactionFilter=w8;Ye.transactionExtender=v8;T1.reconfigure=ai.define();function oU(r,t,e={}){let i={};for(let n of r)for(let s of Object.keys(n)){let l=n[s],o=i[s];if(o===void 0)i[s]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(e,s))i[s]=e[s](o,l);else throw new Error("Config merge conflict for field "+s)}for(let n in t)i[n]===void 0&&(i[n]=t[n]);return i}class ph{eq(t){return this==t}range(t,e=t){return mk.create(t,e,this)}}ph.prototype.startSide=ph.prototype.endSide=0;ph.prototype.point=!1;ph.prototype.mapMode=Rn.TrackDel;let mk=class C8{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new C8(t,e,i)}};function Ok(r,t){return r.from-t.from||r.value.startSide-t.value.startSide}class _${constructor(t,e,i,n){this.from=t,this.to=e,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,n=0){let s=i?this.to:this.from;for(let l=n,o=s.length;;){if(l==o)return l;let a=l+o>>1,f=s[a]-t||(i?this.value[a].endSide:this.value[a].startSide)-e;if(a==l)return f>=0?l:o;f>=0?o=a:l=a+1}}between(t,e,i,n){for(let s=this.findIndex(e,-1e9,!0),l=this.findIndex(i,1e9,!1,s);s<l;s++)if(n(this.from[s]+t,this.to[s]+t,this.value[s])===!1)return!1}map(t,e){let i=[],n=[],s=[],l=-1,o=-1;for(let a=0;a<this.value.length;a++){let f=this.value[a],c=this.from[a]+t,p=this.to[a]+t,m,O;if(c==p){let y=e.mapPos(c,f.startSide,f.mapMode);if(y==null||(m=O=y,f.startSide!=f.endSide&&(O=e.mapPos(c,f.endSide),O<m)))continue}else if(m=e.mapPos(c,f.startSide),O=e.mapPos(p,f.endSide),m>O||m==O&&f.startSide>0&&f.endSide<=0)continue;(O-m||f.endSide-f.startSide)<0||(l<0&&(l=m),f.point&&(o=Math.max(o,O-m)),i.push(f),n.push(m-l),s.push(O-l))}return{mapped:i.length?new _$(n,s,i,o):null,pos:l}}}class pi{constructor(t,e,i,n){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=n}static create(t,e,i,n){return new pi(t,e,i,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=t,l=t.filter;if(e.length==0&&!l)return this;if(i&&(e=e.slice().sort(Ok)),this.isEmpty)return e.length?pi.of(e):this;let o=new T8(this,null,-1).goto(0),a=0,f=[],c=new BO;for(;o.value||a<e.length;)if(a<e.length&&(o.from-e[a].from||o.startSide-e[a].value.startSide)>=0){let p=e[a++];c.addInner(p.from,p.to,p.value)||f.push(p)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(o.chunkIndex)<e[a].from)&&(!l||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||n>o.to||s<o.from||l(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||f.push(mk.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!f.length?pi.empty:this.nextLayer.update({add:f,filter:l,filterFrom:n,filterTo:s}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],n=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],a=this.chunk[l],f=t.touchesRange(o,o+a.length);if(f===!1)n=Math.max(n,a.maxPoint),e.push(a),i.push(t.mapPos(o));else if(f===!0){let{mapped:c,pos:p}=a.map(o,t);c&&(n=Math.max(n,c.maxPoint),e.push(c),i.push(p))}}let s=this.nextLayer.map(t);return e.length==0?s:new pi(i,e,s||pi.empty,n)}between(t,e,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],l=this.chunk[n];if(e>=s&&t<=s+l.length&&l.between(s,t-s,e-s,i)===!1)return}this.nextLayer.between(t,e,i)}}iter(t=0){return lp.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return lp.from(t).goto(e)}static compare(t,e,i,n,s=-1){let l=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),a=M5(l,o,i),f=new Sc(l,a,s),c=new Sc(o,a,s);i.iterGaps((p,m,O)=>R5(f,p,c,m,O,n)),i.empty&&i.length==0&&R5(f,0,c,0,0,n)}static eq(t,e,i=0,n){n==null&&(n=1e9);let s=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0),l=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let o=M5(s,l),a=new Sc(s,o,0).goto(i),f=new Sc(l,o,0).goto(i);for(;;){if(a.to!=f.to||!yk(a.active,f.active)||a.point&&(!f.point||!a.point.eq(f.point)))return!1;if(a.to>n)return!0;a.next(),f.next()}}static spans(t,e,i,n,s=-1){let l=new Sc(t,null,s).goto(e),o=e,a=l.openStart;for(;;){let f=Math.min(l.to,i);if(l.point?(n.point(o,f,l.point,l.activeForPoint(l.to),a,l.pointRank),a=l.openEnd(f)+(l.to>f?1:0)):f>o&&(n.span(o,f,l.active,a),a=l.openEnd(f)),l.to>i)break;o=l.to,l.next()}return a}static of(t,e=!1){let i=new BO;for(let n of t instanceof mk?[t]:e?aU(t):t)i.add(n.from,n.to,n.value);return i.finish()}}pi.empty=new pi([],[],null,-1);function aU(r){if(r.length>1)for(let t=r[0],e=1;e<r.length;e++){let i=r[e];if(Ok(t,i)>0)return r.slice().sort(Ok);t=i}return r}pi.empty.nextLayer=pi.empty;class BO{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new _$(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new BO)).add(t,e,i)}addInner(t,e,i){let n=t-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(pi.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=pi.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function M5(r,t,e){let i=new Map;for(let s of r)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&i.set(s.chunk[l],s.chunkPos[l]);let n=new Set;for(let s of t)for(let l=0;l<s.chunk.length;l++){let o=i.get(s.chunk[l]);o!=null&&(e?e.mapPos(o):o)==s.chunkPos[l]&&!e?.touchesRange(o,o+s.chunk[l].length)&&n.add(s.chunk[l])}return n}class T8{constructor(t,e,i,n=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<t||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class lp{constructor(t){this.heap=t}static from(t,e=null,i=-1){let n=[];for(let s=0;s<t.length;s++)for(let l=t[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=i&&n.push(new T8(l,e,i,s));return n.length==1?n[0]:new lp(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)Vx(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)Vx(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Vx(this.heap,0)}}}function Vx(r,t){for(let e=r[t];;){let i=(t<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),e.compare(n)<0)break;r[i]=e,r[t]=n,t=i}}class Sc{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=lp.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Cm(this.active,t),Cm(this.activeTo,t),Cm(this.activeRank,t),this.minActive=E5(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:n,rank:s}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=s;)e++;Tm(this.active,e,i),Tm(this.activeTo,e,n),Tm(this.activeRank,e,s),t&&Tm(t,e,this.cursor.from),this.minActive=E5(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null,n=0;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>t){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&Cm(i,s)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(i),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.from<t&&(n=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){let s=0;for(;s<i.length&&i[s]<t;)s++;this.openStart=s+n}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function R5(r,t,e,i,n,s){r.goto(t),e.goto(i);let l=i+n,o=i,a=i-t;for(;;){let f=r.to+a-e.to||r.endSide-e.endSide,c=f<0?r.to+a:e.to,p=Math.min(c,l);if(r.point||e.point?r.point&&e.point&&(r.point==e.point||r.point.eq(e.point))&&yk(r.activeForPoint(r.to+a),e.activeForPoint(e.to))||s.comparePoint(o,p,r.point,e.point):p>o&&!yk(r.active,e.active)&&s.compareRange(o,p,r.active,e.active),c>l)break;o=c,f<=0&&r.next(),f>=0&&e.next()}}function yk(r,t){if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!=t[e]&&!r[e].eq(t[e]))return!1;return!0}function Cm(r,t){for(let e=t,i=r.length-1;e<i;e++)r[e]=r[e+1];r.pop()}function Tm(r,t,e){for(let i=r.length-1;i>=t;i--)r[i+1]=r[i];r[t]=e}function E5(r,t){let e=-1,i=1e9;for(let n=0;n<t.length;n++)(t[n]-i||r[n].endSide-r[e].endSide)<0&&(e=n,i=t[n]);return e}function hU(r,t,e,i){for(let n=0,s=0;;){if(s>=t)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?e-s%e:1,n=ha(r,n)}return r.length}function _O(r){let t;return r.nodeType==11?t=r.getSelection?r:r.ownerDocument:t=r,t.getSelection()}function Gu(r,t){return t?r==t||r.contains(t.nodeType!=1?t.parentNode:t):!1}function uU(){let r=document.activeElement;for(;r&&r.shadowRoot;)r=r.shadowRoot.activeElement;return r}function bk(r,t){if(!t.anchorNode)return!1;try{return Gu(r,t.anchorNode)}catch{return!1}}function op(r){return r.nodeType==3?ap(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function zO(r,t,e,i){return e?D5(r,t,e,i,-1)||D5(r,t,e,i,1):!1}function xk(r){for(var t=0;;t++)if(r=r.previousSibling,!r)return t}function D5(r,t,e,i,n){for(;;){if(r==e&&t==i)return!0;if(t==(n<0?0:NO(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;t=xk(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[t+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;t=n<0?NO(r):0}else return!1}}function NO(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}const Q8={left:0,right:0,top:0,bottom:0};function Q1(r,t){let e=t?r.left:r.right;return{left:e,right:e,top:r.top,bottom:r.bottom}}function fU(r){return{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function cU(r,t,e,i,n,s,l,o){let a=r.ownerDocument,f=a.defaultView;for(let c=r;c;)if(c.nodeType==1){let p,m=c==a.body;if(m)p=fU(f);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let S=c.getBoundingClientRect();p={left:S.left,right:S.left+c.clientWidth,top:S.top,bottom:S.top+c.clientHeight}}let O=0,y=0;if(n=="nearest")t.top<p.top?(y=-(p.top-t.top+l),e>0&&t.bottom>p.bottom+y&&(y=t.bottom-p.bottom+y+l)):t.bottom>p.bottom&&(y=t.bottom-p.bottom+l,e<0&&t.top-y<p.top&&(y=-(p.top+y-t.top+l)));else{let S=t.bottom-t.top,w=p.bottom-p.top;y=(n=="center"&&S<=w?t.top+S/2-w/2:n=="start"||n=="center"&&e<0?t.top-l:t.bottom-w+l)-p.top}if(i=="nearest"?t.left<p.left?(O=-(p.left-t.left+s),e>0&&t.right>p.right+O&&(O=t.right-p.right+O+s)):t.right>p.right&&(O=t.right-p.right+s,e<0&&t.left<p.left+O&&(O=-(p.left+O-t.left+s))):O=(i=="center"?t.left+(t.right-t.left)/2-(p.right-p.left)/2:i=="start"==o?t.left-s:t.right-(p.right-p.left)+s)-p.left,O||y)if(m)f.scrollBy(O,y);else{if(y){let S=c.scrollTop;c.scrollTop+=y,y=c.scrollTop-S}if(O){let S=c.scrollLeft;c.scrollLeft+=O,O=c.scrollLeft-S}t={left:t.left-O,top:t.top-y,right:t.right-O,bottom:t.bottom-y}}if(m)break;c=c.assignedSlot||c.parentNode,i=n="nearest"}else if(c.nodeType==11)c=c.host;else break}class dU{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){this.set(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)}set(t,e,i,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=n}}let su=null;function P8(r){if(r.setActive)return r.setActive();if(su)return r.focus(su);let t=[];for(let e=r;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(r.focus(su==null?{get preventScroll(){return su={preventScroll:!0},!0}}:void 0),!su){su=!1;for(let e=0;e<t.length;){let i=t[e++],n=t[e++],s=t[e++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let B5;function ap(r,t,e=t){let i=B5||(B5=document.createRange());return i.setEnd(r,e),i.setStart(r,t),i}function Td(r,t,e){let i={key:t,code:t,keyCode:e,which:e,cancelable:!0},n=new KeyboardEvent("keydown",i);n.synthetic=!0,r.dispatchEvent(n);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,r.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function pU(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function M8(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}class Ki{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new Ki(t.parentNode,xk(t),e)}static after(t,e){return new Ki(t.parentNode,xk(t)+1,e)}}const z$=[];class gi{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){if(this.dirty&2){let e=this.dom,i=null,n;for(let s of this.children){if(s.dirty){if(!s.dom&&(n=i?i.nextSibling:e.firstChild)){let l=gi.get(n);(!l||!l.parent&&l.constructor==s.constructor)&&s.reuseDOM(n)}s.sync(t),s.dirty=0}if(n=i?i.nextSibling:e.firstChild,t&&!t.written&&t.node==e&&n!=s.dom&&(t.written=!0),s.dom.parentNode==e)for(;n&&n!=s.dom;)n=_5(n);else e.insertBefore(s.dom,n);i=s.dom}for(n=i?i.nextSibling:e.firstChild,n&&t&&t.node==e&&(t.written=!0);n;)n=_5(n)}else if(this.dirty&1)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let n=NO(t)==0?0:e==0?-1:1;for(;;){let s=t.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(t==s.firstChild?n=-1:n=1),t=s}n<0?i=t:i=t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!gi.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let l=this.children[n];if(l.dom==i)return s;s+=l.length+l.breakAfter}}domBoundsAround(t,e,i=0){let n=-1,s=-1,l=-1,o=-1;for(let a=0,f=i,c=i;a<this.children.length;a++){let p=this.children[a],m=f+p.length;if(f<t&&m>e)return p.domBoundsAround(t,e,f);if(m>=t&&n==-1&&(n=a,s=f),f>e&&p.dom.parentNode==this.dom){l=a,o=c;break}c=m,f=m+p.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),e.dirty&1)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=z$){this.markDirty();for(let n=t;n<e;n++){let s=this.children[n];s.parent==this&&s.destroy()}this.children.splice(t,e-t,...i);for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new R8(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}merge(t,e,i,n,s,l){return!1}become(t){return!1}getSide(){return 0}destroy(){this.parent=null}}gi.prototype.breakAfter=0;function _5(r){let t=r.nextSibling;return r.parentNode.removeChild(r),t}class R8{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function E8(r,t,e,i,n,s,l,o,a){let{children:f}=r,c=f.length?f[t]:null,p=s.length?s[s.length-1]:null,m=p?p.breakAfter:l;if(!(t==i&&c&&!l&&!m&&s.length<2&&c.merge(e,n,s.length?p:null,e==0,o,a))){if(i<f.length){let O=f[i];O&&n<O.length?(t==i&&(O=O.split(n),n=0),!m&&p&&O.merge(0,n,p,!0,0,a)?s[s.length-1]=O:(n&&O.merge(0,n,null,!1,0,a),s.push(O))):O?.breakAfter&&(p?p.breakAfter=1:l=1),i++}for(c&&(c.breakAfter=l,e>0&&(!l&&s.length&&c.merge(e,c.length,s[0],!1,o,0)?c.breakAfter=s.shift().breakAfter:(e<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(e,c.length,null,!1,o,0),t++));t<i&&s.length;)if(f[i-1].become(s[s.length-1]))i--,s.pop(),a=s.length?0:o;else if(f[t].become(s[0]))t++,s.shift(),o=s.length?0:a;else break;!s.length&&t&&i<f.length&&!f[t-1].breakAfter&&f[i].merge(0,0,f[t-1],!1,o,a)&&t--,(t<i||s.length)&&r.replaceChildren(t,i,s)}}function D8(r,t,e,i,n,s){let l=r.childCursor(),{i:o,off:a}=l.findPos(e,1),{i:f,off:c}=l.findPos(t,-1),p=t-e;for(let m of i)p+=m.length;r.length+=p,E8(r,f,c,o,a,i,0,n,s)}let ar=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Sk=typeof document<"u"?document:{documentElement:{style:{}}};const wk=/Edge\/(\d+)/.exec(ar.userAgent),B8=/MSIE \d/.test(ar.userAgent),vk=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ar.userAgent),P1=!!(B8||vk||wk),z5=!P1&&/gecko\/(\d+)/i.test(ar.userAgent),Xx=!P1&&/Chrome\/(\d+)/.exec(ar.userAgent),gU="webkitFontSmoothing"in Sk.documentElement.style,_8=!P1&&/Apple Computer/.test(ar.vendor),N5=_8&&(/Mobile\/\w+/.test(ar.userAgent)||ar.maxTouchPoints>2);var Lt={mac:N5||/Mac/.test(ar.platform),windows:/Win/.test(ar.platform),linux:/Linux|X11/.test(ar.platform),ie:P1,ie_version:B8?Sk.documentMode||6:vk?+vk[1]:wk?+wk[1]:0,gecko:z5,gecko_version:z5?+(/Firefox\/(\d+)/.exec(ar.userAgent)||[0,0])[1]:0,chrome:!!Xx,chrome_version:Xx?+Xx[1]:0,ios:N5,android:/Android\b/.test(ar.userAgent),safari:_8,webkit_version:gU?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Sk.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const mU=256;class ba extends gi{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,i){return i&&(!(i instanceof ba)||this.length-(e-t)+i.length>mU)?!1:(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new ba(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Ki(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return kk(this.dom,t,e)}}class al extends gi{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let n of e)n.setParent(this)}setAttrs(t){if(M8(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.dirty|=6)}sync(t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t)}merge(t,e,i,n,s,l){return i&&(!(i instanceof al&&i.mark.eq(this.mark))||t&&s<=0||e<this.length&&l<=0)?!1:(D8(this,t,e,i?i.children:[],s-1,l-1),this.markDirty(),!0)}split(t){let e=[],i=0,n=-1,s=0;for(let o of this.children){let a=i+o.length;a>t&&e.push(i<t?o.split(t-i):o),n<0&&i>=t&&(n=s),i=a,s++}let l=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new al(this.mark,e,l)}domAtPos(t){return L8(this.dom,this.children,t)}coordsAt(t,e){return V8(this,t,e)}}function kk(r,t,e){let i=r.nodeValue.length;t>i&&(t=i);let n=t,s=t,l=0;t==0&&e<0||t==i&&e>=0?Lt.chrome||Lt.gecko||(t?(n--,l=1):s<i&&(s++,l=-1)):e<0?n--:s<i&&s++;let o=ap(r,n,s).getClientRects();if(!o.length)return Q8;let a=o[(l?l<0:e>=0)?0:o.length-1];return Lt.safari&&!l&&a.width==0&&(a=Array.prototype.find.call(o,f=>f.width)||a),l?Q1(a,l<0):a||null}class ua extends gi{constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}static create(t,e,i){return new(t.customView||ua)(t,e,i)}split(t){let e=ua.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,i,n,s,l){return i&&(!(i instanceof ua)||!this.widget.compare(i.widget)||t>0&&s<=0||e<this.length&&l<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}become(t){return t.length==this.length&&t instanceof ua&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.eq(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return Re.empty;let t=this;for(;t.parent;)t=t.parent;let e=t.editorView,i=e&&e.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):Re.empty}domAtPos(t){return t==0?Ki.before(this.dom):Ki.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.dom.getClientRects(),n=null;if(!i.length)return Q8;for(let s=t>0?i.length-1:0;n=i[s],!(t>0?s==0:s==i.length-1||n.top<n.bottom);s+=t>0?-1:1);return t==0&&e>0||t==this.length&&e<=0?n:Q1(n,t==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class z8 extends ua{domAtPos(t){let{topView:e,text:i}=this.widget;return e?$k(t,0,e,i,(n,s)=>n.domAtPos(s),n=>new Ki(i,Math.min(n,i.nodeValue.length))):new Ki(i,Math.min(t,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){let{topView:i,text:n}=this.widget;return i?N8(t,e,i,n):Math.min(e,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){let{topView:i,text:n}=this.widget;return i?$k(t,e,i,n,(s,l,o)=>s.coordsAt(l,o),(s,l)=>kk(n,s,l)):kk(n,t,e)}destroy(){var t;super.destroy(),(t=this.widget.topView)===null||t===void 0||t.destroy()}get isEditable(){return!0}}function $k(r,t,e,i,n,s){if(e instanceof al){for(let l of e.children){let o=Gu(l.dom,i),a=o?i.nodeValue.length:l.length;if(r<a||r==a&&l.getSide()<=0)return o?$k(r,t,l,i,n,s):n(l,r,t);r-=a}return n(e,e.length,-1)}else return e.dom==i?s(r,t):n(e,r,t)}function N8(r,t,e,i){if(e instanceof al)for(let n of e.children){let s=0,l=Gu(n.dom,i);if(Gu(n.dom,r))return s+(l?N8(r,t,n,i):n.localPosFromDOM(r,t));s+=l?i.nodeValue.length:n.length}else if(e.dom==i)return Math.min(t,i.nodeValue.length);return e.localPosFromDOM(r,t)}class Fu extends gi{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Fu&&t.side==this.side}split(){return new Fu(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return Ki.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){let e=this.dom.getBoundingClientRect(),i=OU(this,this.side>0?-1:1);return i&&i.top<e.bottom&&i.bottom>e.top?{left:e.left,right:e.right,top:i.top,bottom:i.bottom}:e}get overrideDOMText(){return Re.empty}}ba.prototype.children=ua.prototype.children=Fu.prototype.children=z$;function OU(r,t){let e=r.parent,i=e?e.children.indexOf(r):-1;for(;e&&i>=0;)if(t<0?i>0:i<e.children.length){let n=e.children[i+t];if(n instanceof ba){let s=n.coordsAt(t<0?n.length:0,t);if(s)return s}i+=t}else if(e instanceof al&&e.parent)i=e.parent.children.indexOf(e)+(t<0?0:1),e=e.parent;else{let n=e.dom.lastChild;if(n&&n.nodeName=="BR")return n.getClientRects()[0];break}}function L8(r,t,e){let i=0;for(let n=0;i<t.length;i++){let s=t[i],l=n+s.length;if(!(l==n&&s.getSide()<=0)){if(e>n&&e<l&&s.dom.parentNode==r)return s.domAtPos(e-n);if(e<=n)break;n=l}}for(;i>0;i--){let n=t[i-1].dom;if(n.parentNode==r)return Ki.after(n)}return new Ki(r,0)}function Z8(r,t,e){let i,{children:n}=r;e>0&&t instanceof al&&n.length&&(i=n[n.length-1])instanceof al&&i.mark.eq(t.mark)?Z8(i,t.children[0],e-1):(n.push(t),t.setParent(r)),r.length+=t.length}function V8(r,t,e){for(let s=0,l=0;l<r.children.length;l++){let o=r.children[l],a=s+o.length,f;if((e<=0||a==r.length||o.getSide()>0?a>=t:a>t)&&(t<a||l+1==r.children.length||(f=r.children[l+1]).length||f.getSide()>0)){let c=0;if(a==s){if(o.getSide()<=0)continue;c=e=-o.getSide()}let p=o.coordsAt(Math.max(0,t-s),e);return c&&p?Q1(p,e<0):p}s=a}let i=r.dom.lastChild;if(!i)return r.dom.getBoundingClientRect();let n=op(i);return n[n.length-1]||null}function Ak(r,t){for(let e in r)e=="class"&&t.class?t.class+=" "+r.class:e=="style"&&t.style?t.style+=";"+r.style:t[e]=r[e];return t}function N$(r,t){if(r==t)return!0;if(!r||!t)return!1;let e=Object.keys(r),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n of e)if(i.indexOf(n)==-1||r[n]!==t[n])return!1;return!0}function Ck(r,t,e){let i=null;if(t)for(let n in t)e&&n in e||r.removeAttribute(i=n);if(e)for(let n in e)t&&t[n]==e[n]||r.setAttribute(i=n,e[n]);return!!i}class M1{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}destroy(t){}}var Ri=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(Ri||(Ri={}));class Fi extends ph{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(t){return new R1(t)}static widget(t){let e=t.side||0,i=!!t.block;return e+=i?e>0?3e8:-4e8:e>0?1e8:-1e8,new gh(t,e,e,i,t.widget||null,!1)}static replace(t){let e=!!t.block,i,n;if(t.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:l}=X8(t,e);i=(s?e?-3e8:-1:5e8)-1,n=(l?e?2e8:1:-6e8)+1}return new gh(t,i,n,e,t.widget||null,!0)}static line(t){return new Rp(t)}static set(t,e=!1){return pi.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Fi.none=pi.empty;class R1 extends Fi{constructor(t){let{start:e,end:i}=X8(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof R1&&this.tagName==t.tagName&&this.class==t.class&&N$(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}R1.prototype.point=!1;class Rp extends Fi{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Rp&&N$(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Rp.prototype.mapMode=Rn.TrackBefore;Rp.prototype.point=!0;class gh extends Fi{constructor(t,e,i,n,s,l){super(e,i,s,t),this.block=n,this.isReplace=l,this.mapMode=n?e<=0?Rn.TrackBefore:Rn.TrackAfter:Rn.TrackDel}get type(){return this.startSide<this.endSide?Ri.WidgetRange:this.startSide<=0?Ri.WidgetBefore:Ri.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof gh&&yU(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}gh.prototype.point=!0;function X8(r,t=!1){let{inclusiveStart:e,inclusiveEnd:i}=r;return e==null&&(e=r.inclusive),i==null&&(i=r.inclusive),{start:e??t,end:i??t}}function yU(r,t){return r==t||!!(r&&t&&r.compare(t))}function Tk(r,t,e,i=0){let n=e.length-1;n>=0&&e[n]+i>=r?e[n]=Math.max(e[n],t):e.push(r,t)}class mn extends gi{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,n,s,l){if(i){if(!(i instanceof mn))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),D8(this,t,e,i?i.children:[],s,l),!0}split(t){let e=new mn;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i,off:n}=this.childPos(t);n&&(e.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)e.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){N$(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){Z8(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=Ak(e,this.attrs||{})),i&&(this.attrs=Ak({class:i},this.attrs||{}))}domAtPos(t){return L8(this.dom,this.children,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.dirty|=6)}sync(t){var e;this.dom?this.dirty&4&&(M8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Ck(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t);let i=this.dom.lastChild;for(;i&&gi.get(i)instanceof al;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((e=gi.get(i))===null||e===void 0?void 0:e.isEditable)==!1&&(!Lt.ios||!this.children.some(n=>n instanceof ba))){let n=document.createElement("BR");n.cmIgnore=!0,this.dom.appendChild(n)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof ba))return null;let i=op(e.dom);if(i.length!=1)return null;t+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,e){return V8(this,t,e)}become(t){return!1}get type(){return Ri.Text}static find(t,e){for(let i=0,n=0;i<t.children.length;i++){let s=t.children[i],l=n+s.length;if(l>=e){if(s instanceof mn)return s;if(l>e)break}n=l+s.breakAfter}return null}}class ah extends gi{constructor(t,e,i){super(),this.widget=t,this.length=e,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,n,s,l){return i&&(!(i instanceof ah)||!this.widget.compare(i.widget)||t>0&&s<=0||e<this.length&&l<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?Ki.before(this.dom):Ki.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new ah(this.widget,e,this.type);return i.breakAfter=this.breakAfter,i}get children(){return z$}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Re.empty}domBoundsAround(){return null}become(t){return t instanceof ah&&t.type==this.type&&t.widget.constructor==this.widget.constructor?(t.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class L${constructor(t,e,i,n){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof ah&&t.type==Ri.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new mn),this.atCursorPos=!0),this.curLine}flushBuffer(t){this.pendingBuffer&&(this.curLine.append(Qm(new Fu(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer([]),this.curLine=null,this.content.push(t)}finish(t){t?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:l,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,t--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(0,i)),this.getLine().append(Qm(new ba(this.text.slice(this.textOff,this.textOff+n)),e),i),this.atCursorPos=!0,this.textOff+=n,t-=n,i=0}}span(t,e,i,n){this.buildText(e-t,i,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,i,n,s,l){if(this.disallowBlockEffectsFor[l]&&i instanceof gh){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(i instanceof gh)if(i.block){let{type:a}=i;a==Ri.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ah(i.widget||new L5("div"),o,a))}else{let a=ua.create(i.widget||new L5("span"),o,i.startSide),f=this.atCursorPos&&!a.isEditable&&s<=n.length&&(t<e||i.startSide>0),c=!a.isEditable&&(t<e||i.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!f&&(this.pendingBuffer=0),this.flushBuffer(n),f&&(p.append(Qm(new Fu(1),n),s),s=n.length+Math.max(0,s-n.length)),p.append(Qm(a,n),s),this.atCursorPos=c,this.pendingBuffer=c?t<e?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=s)}static build(t,e,i,n,s){let l=new L$(t,e,i,s);return l.openEnd=pi.spans(n,e,i,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function Qm(r,t){for(let e of t)r=new al(e,[r],r.length);return r}class L5 extends M1{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}}const I8=ce.define(),j8=ce.define(),q8=ce.define(),W8=ce.define(),Qk=ce.define(),Y8=ce.define(),H8=ce.define({combine:r=>r.some(t=>t)});class LO{constructor(t,e="nearest",i="nearest",n=5,s=5){this.range=t,this.y=e,this.x=i,this.yMargin=n,this.xMargin=s}map(t){return t.empty?this:new LO(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}const Z5=ai.define({map:(r,t)=>r.map(t)});function nl(r,t,e){let i=r.facet(W8);i.length?i[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const Ep=ce.define({combine:r=>r.length?r[0]:!0});let bU=0;const Kc=ce.define();class Ku{constructor(t,e,i,n){this.id=t,this.create=e,this.domEventHandlers=i,this.extension=n(this)}static define(t,e){const{eventHandlers:i,provide:n,decorations:s}=e||{};return new Ku(bU++,t,i,l=>{let o=[Kc.of(l)];return s&&o.push(hp.of(a=>{let f=a.plugin(l);return f?s(f):Fi.none})),n&&o.push(n(l)),o})}static fromClass(t,e){return Ku.define(i=>new t(i),e)}}class Ix{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(i){if(nl(e.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){nl(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(i){nl(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const U8=ce.define(),G8=ce.define(),hp=ce.define(),F8=ce.define(),K8=ce.define(),Jc=ce.define();class io{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new io(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(e.length==0)return t;let i=[];for(let n=0,s=0,l=0,o=0;;n++){let a=n==t.length?null:t[n],f=l-o,c=a?a.fromB:1e9;for(;s<e.length&&e[s]<c;){let p=e[s],m=e[s+1],O=Math.max(o,p),y=Math.min(c,m);if(O<=y&&new io(O+f,y+f,O,y).addToSet(i),m>c)break;s+=2}if(!a)return i;new io(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),l=a.toA,o=a.toB}}}class ZO{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=Li.empty(this.startState.doc.length);for(let l of i)this.changes=this.changes.compose(l.changes);let n=[];this.changes.iterChangedRanges((l,o,a,f)=>n.push(new io(l,o,a,f))),this.changedRanges=n;let s=t.hasFocus;s!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=s,this.flags|=1)}static create(t,e,i){return new ZO(t,e,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Ji=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(Ji||(Ji={}));const Pk=Ji.LTR,xU=Ji.RTL;function J8(r){let t=[];for(let e=0;e<r.length;e++)t.push(1<<+r[e]);return t}const SU=J8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),wU=J8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Mk=Object.create(null),gs=[];for(let r of["()","[]","{}"]){let t=r.charCodeAt(0),e=r.charCodeAt(1);Mk[t]=e,Mk[e]=-t}function vU(r){return r<=247?SU[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?wU[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203||r==8204?256:1}const kU=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Eu{constructor(t,e,i){this.from=t,this.to=e,this.level=i}get dir(){return this.level%2?xU:Pk}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,i,n){let s=-1;for(let l=0;l<t.length;l++){let o=t[l];if(o.from<=e&&o.to>=e){if(o.level==i)return l;(s<0||(n!=0?n<0?o.from<e:o.to>e:t[s].level>o.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}const si=[];function $U(r,t){let e=r.length,i=t==Pk?1:2,n=t==Pk?2:1;if(!r||i==1&&!kU.test(r))return tL(e);for(let l=0,o=i,a=i;l<e;l++){let f=vU(r.charCodeAt(l));f==512?f=o:f==8&&a==4&&(f=16),si[l]=f==4?2:f,f&7&&(a=f),o=f}for(let l=0,o=i,a=i;l<e;l++){let f=si[l];if(f==128)l<e-1&&o==si[l+1]&&o&24?f=si[l]=o:si[l]=256;else if(f==64){let c=l+1;for(;c<e&&si[c]==64;)c++;let p=l&&o==8||c<e&&si[c]==8?a==1?1:8:256;for(let m=l;m<c;m++)si[m]=p;l=c-1}else f==8&&a==1&&(si[l]=1);o=f,f&7&&(a=f)}for(let l=0,o=0,a=0,f,c,p;l<e;l++)if(c=Mk[f=r.charCodeAt(l)])if(c<0){for(let m=o-3;m>=0;m-=3)if(gs[m+1]==-c){let O=gs[m+2],y=O&2?i:O&4?O&1?n:i:0;y&&(si[l]=si[gs[m]]=y),o=m;break}}else{if(gs.length==189)break;gs[o++]=l,gs[o++]=f,gs[o++]=a}else if((p=si[l])==2||p==1){let m=p==i;a=m?0:1;for(let O=o-3;O>=0;O-=3){let y=gs[O+2];if(y&2)break;if(m)gs[O+2]|=2;else{if(y&4)break;gs[O+2]|=4}}}for(let l=0;l<e;l++)if(si[l]==256){let o=l+1;for(;o<e&&si[o]==256;)o++;let a=(l?si[l-1]:i)==1,f=(o<e?si[o]:i)==1,c=a==f?a?1:2:i;for(let p=l;p<o;p++)si[p]=c;l=o-1}let s=[];if(i==1)for(let l=0;l<e;){let o=l,a=si[l++]!=1;for(;l<e&&a==(si[l]!=1);)l++;if(a)for(let f=l;f>o;){let c=f,p=si[--f]!=2;for(;f>o&&p==(si[f-1]!=2);)f--;s.push(new Eu(f,c,p?2:1))}else s.push(new Eu(o,l,0))}else for(let l=0;l<e;){let o=l,a=si[l++]==2;for(;l<e&&a==(si[l]==2);)l++;s.push(new Eu(o,l,a?1:2))}return s}function tL(r){return[new Eu(0,r,0)]}let eL="";function AU(r,t,e,i,n){var s;let l=i.head-r.from,o=-1;if(l==0){if(!n||!r.length)return null;t[0].level!=e&&(l=t[0].side(!1,e),o=0)}else if(l==r.length){if(n)return null;let m=t[t.length-1];m.level!=e&&(l=m.side(!0,e),o=t.length-1)}o<0&&(o=Eu.find(t,l,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let a=t[o];l==a.side(n,e)&&(a=t[o+=n?1:-1],l=a.side(!n,e));let f=n==(a.dir==e),c=ha(r.text,l,f);if(eL=r.text.slice(Math.min(l,c),Math.max(l,c)),c!=a.side(n,e))return _t.cursor(c+r.from,f?-1:1,a.level);let p=o==(n?t.length-1:0)?null:t[o+(n?1:-1)];return!p&&a.level!=e?_t.cursor(n?r.to:r.from,n?-1:1,e):p&&p.level<a.level?_t.cursor(p.side(!n,e)+r.from,n?1:-1,p.level):_t.cursor(c+r.from,n?-1:1,a.level)}const fa="";class iL{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Ye.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=fa}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n),this.readNode(n);let s=n.nextSibling;if(s==e)break;let l=gi.get(n),o=gi.get(s);(l&&o?l.breakAfter:(l?l.breakAfter:V5(n))||V5(s)&&(n.nodeName!="BR"||n.cmIgnore))&&this.lineBreak(),n=s}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,o;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,i),l=this.lineSeparator.length):(o=n.exec(e))&&(s=o.index,l=o[0].length),this.append(e.slice(i,s<0?e.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let a of this.points)a.node==t&&a.pos>this.text.length&&(a.pos-=l-1);i=s+l}}readNode(t){if(t.cmIgnore)return;let e=gi.get(t),i=e&&e.overrideDOMText;if(i!=null){this.findPointInside(t,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(t.nodeType==3?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+Math.min(e,i.offset))}}function V5(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}class X5{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class I5 extends gi{constructor(t){super(),this.view=t,this.compositionDeco=Fi.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new mn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new io(0,0,0,t.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every(({fromA:l,toA:o})=>o<this.minWidthFrom||l>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Fi.none:(t.transactions.length||this.dirty)&&(this.compositionDeco=TU(this.view,t.changes)),(Lt.ie||Lt.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,n=this.updateDeco(),s=RU(i,n,t.changes);return e=io.extendWithRanges(e,s),this.dirty==0&&e.length==0?!1:(this.updateInner(e,t.startState.doc.length),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Lt.chrome||Lt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(s),this.dirty=0,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof ah&&s.widget instanceof j5&&n.push(s.dom);i.updateGaps(n)}updateChildren(t,e){let i=this.childCursor(e);for(let n=t.length-1;;n--){let s=n>=0?t[n]:null;if(!s)break;let{fromA:l,toA:o,fromB:a,toB:f}=s,{content:c,breakAtStart:p,openStart:m,openEnd:O}=L$.build(this.view.state.doc,a,f,this.decorations,this.dynamicDecorationMap),{i:y,off:S}=i.findPos(o,1),{i:w,off:v}=i.findPos(l,-1);E8(this,w,v,y,S,c,p,m,O)}}updateSelection(t=!1,e=!1){if(t&&this.view.observer.readSelectionRange(),!(e||this.mayControlSelection())||Lt.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let n=this.view.state.selection.main,s=this.domAtPos(n.anchor),l=n.empty?s:this.domAtPos(n.head);if(Lt.gecko&&n.empty&&CU(s)){let a=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(a,s.node.childNodes[s.offset]||null)),s=l=new Ki(a,0),i=!0}let o=this.view.observer.selectionRange;(i||!o.focusNode||!zO(s.node,s.offset,o.anchorNode,o.anchorOffset)||!zO(l.node,l.offset,o.focusNode,o.focusOffset))&&(this.view.observer.ignore(()=>{Lt.android&&Lt.chrome&&this.dom.contains(o.focusNode)&&EU(o.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=_O(this.root);if(n.empty){if(Lt.gecko){let f=PU(s.node,s.offset);if(f&&f!=3){let c=rL(s.node,s.offset,f==1?1:-1);c&&(s=new Ki(c,f==1?0:c.nodeValue.length))}}a.collapse(s.node,s.offset),n.bidiLevel!=null&&o.cursorBidiLevel!=null&&(o.cursorBidiLevel=n.bidiLevel)}else if(a.extend)a.collapse(s.node,s.offset),a.extend(l.node,l.offset);else{let f=document.createRange();n.anchor>n.head&&([s,l]=[l,s]),f.setEnd(l.node,l.offset),f.setStart(s.node,s.offset),a.removeAllRanges(),a.addRange(f)}}),this.view.observer.setSelectionRange(s,l)),this.impreciseAnchor=s.precise?null:new Ki(o.anchorNode,o.anchorOffset),this.impreciseHead=l.precise?null:new Ki(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let t=this.view.state.selection.main,e=_O(this.root);if(!t.empty||!t.assoc||!e.modify)return;let i=mn.find(this,t.head);if(!i)return;let n=i.posAtStart;if(t.head==n||t.head==n+i.length)return;let s=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!s||!l||s.bottom>l.top)return;let o=this.domAtPos(t.head+t.assoc);e.collapse(o.node,o.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Ep)?this.root.activeElement==this.dom:bk(this.dom,this.view.observer.selectionRange)}nearest(t){for(let e=t;e;){let i=gi.get(e);if(i&&i.rootView==this)return i;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let n=this.children[e];if(i<n.length||n instanceof mn)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){for(let i=this.length,n=this.children.length-1;;n--){let s=this.children[n],l=i-s.breakAfter-s.length;if(t>l||t==l&&s.type!=Ri.WidgetBefore&&s.type!=Ri.WidgetAfter&&(!n||e==2||this.children[n-1].breakAfter||this.children[n-1].type==Ri.WidgetBefore&&e>-2))return s.coordsAt(t-l,e);i=l}}measureVisibleLineHeights(t){let e=[],{from:i,to:n}=t,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==Ji.LTR;for(let f=0,c=0;c<this.children.length;c++){let p=this.children[c],m=f+p.length;if(m>n)break;if(f>=i){let O=p.dom.getBoundingClientRect();if(e.push(O.height),l){let y=p.dom.lastChild,S=y?op(y):[];if(S.length){let w=S[S.length-1],v=a?w.right-O.left:O.right-w.left;v>o&&(o=v,this.minWidth=s,this.minWidthFrom=f,this.minWidthTo=m)}}}f=m+p.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?Ji.RTL:Ji.LTR}measureTextSize(){for(let n of this.children)if(n instanceof mn){let s=n.measureTextSize();if(s)return s}let t=document.createElement("div"),e,i;return t.className="cm-line",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let n=op(t.firstChild)[0];e=t.getBoundingClientRect().height,i=n?n.width/27:7,t.remove()}),{lineHeight:e,charWidth:i}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new R8(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,n=0;;n++){let s=n==e.viewports.length?null:e.viewports[n],l=s?s.from-1:this.length;if(l>i){let o=e.lineBlockAt(l).bottom-e.lineBlockAt(i).top;t.push(Fi.replace({widget:new j5(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,l))}if(!s)break;i=s.to+1}return Fi.set(t)}updateDeco(){let t=this.view.state.facet(hp).map((e,i)=>(this.dynamicDecorationMap[i]=typeof e=="function")?e(this.view):e);for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){let{range:e}=t,i=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),n;if(!i)return;!e.empty&&(n=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=0,l=0,o=0,a=0;for(let c of this.view.state.facet(K8).map(p=>p(this.view)))if(c){let{left:p,right:m,top:O,bottom:y}=c;p!=null&&(s=Math.max(s,p)),m!=null&&(l=Math.max(l,m)),O!=null&&(o=Math.max(o,O)),y!=null&&(a=Math.max(a,y))}let f={left:i.left-s,top:i.top-o,right:i.right+l,bottom:i.bottom+a};cU(this.view.scrollDOM,f,e.head<e.anchor?-1:1,t.x,t.y,t.xMargin,t.yMargin,this.view.textDirection==Ji.LTR)}}function CU(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}class j5 extends M1{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function nL(r){let t=r.observer.selectionRange,e=t.focusNode&&rL(t.focusNode,t.focusOffset,0);if(!e)return null;let i=r.docView.nearest(e);if(!i)return null;if(i instanceof mn){let n=e;for(;n.parentNode!=i.dom;)n=n.parentNode;let s=n.previousSibling;for(;s&&!gi.get(s);)s=s.previousSibling;let l=s?gi.get(s).posAtEnd:i.posAtStart;return{from:l,to:l,node:n,text:e}}else{for(;;){let{parent:s}=i;if(!s)return null;if(s instanceof mn)break;i=s}let n=i.posAtStart;return{from:n,to:n+i.length,node:i.dom,text:e}}}function TU(r,t){let e=nL(r);if(!e)return Fi.none;let{from:i,to:n,node:s,text:l}=e,o=t.mapPos(i,1),a=Math.max(o,t.mapPos(n,-1)),{state:f}=r,c=s.nodeType==3?s.nodeValue:new iL([],f).readRange(s.firstChild,null).text;if(a-o<c.length)if(f.doc.sliceString(o,Math.min(f.doc.length,o+c.length),fa)==c)a=o+c.length;else if(f.doc.sliceString(Math.max(0,a-c.length),a,fa)==c)o=a-c.length;else return Fi.none;else if(f.doc.sliceString(o,a,fa)!=c)return Fi.none;let p=gi.get(s);return p instanceof z8?p=p.widget.topView:p&&(p.parent=null),Fi.set(Fi.replace({widget:new QU(s,l,p),inclusive:!0}).range(o,a))}class QU extends M1{constructor(t,e,i){super(),this.top=t,this.text=e,this.topView=i}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return z8}}function rL(r,t,e){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&t>0&&e<=0)r=r.childNodes[t-1],t=NO(r);else if(r.nodeType==1&&t<r.childNodes.length&&e>=0)r=r.childNodes[t],t=0;else return null}}function PU(r,t){return r.nodeType!=1?0:(t&&r.childNodes[t-1].contentEditable=="false"?1:0)|(t<r.childNodes.length&&r.childNodes[t].contentEditable=="false"?2:0)}class MU{constructor(){this.changes=[]}compareRange(t,e){Tk(t,e,this.changes)}comparePoint(t,e){Tk(t,e,this.changes)}}function RU(r,t,e){let i=new MU;return pi.compare(r,t,e,i),i.changes}function EU(r,t){for(let e=r;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function DU(r,t,e=1){let i=r.charCategorizer(t),n=r.doc.lineAt(t),s=t-n.from;if(n.length==0)return _t.cursor(t);s==0?e=1:s==n.length&&(e=-1);let l=s,o=s;e<0?l=ha(n.text,s,!1):o=ha(n.text,s);let a=i(n.text.slice(l,o));for(;l>0;){let f=ha(n.text,l,!1);if(i(n.text.slice(f,l))!=a)break;l=f}for(;o<n.length;){let f=ha(n.text,o);if(i(n.text.slice(o,f))!=a)break;o=f}return _t.range(l+n.from,o+n.from)}function BU(r,t){return t.left>r?t.left-r:Math.max(0,r-t.right)}function _U(r,t){return t.top>r?t.top-r:Math.max(0,r-t.bottom)}function jx(r,t){return r.top<t.bottom-1&&r.bottom>t.top+1}function q5(r,t){return t<r.top?{top:t,left:r.left,right:r.right,bottom:r.bottom}:r}function W5(r,t){return t>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:t}:r}function Rk(r,t,e){let i,n,s,l,o,a,f,c;for(let O=r.firstChild;O;O=O.nextSibling){let y=op(O);for(let S=0;S<y.length;S++){let w=y[S];n&&jx(n,w)&&(w=q5(W5(w,n.bottom),n.top));let v=BU(t,w),T=_U(e,w);if(v==0&&T==0)return O.nodeType==3?Y5(O,t,e):Rk(O,t,e);(!i||l>T||l==T&&s>v)&&(i=O,n=w,s=v,l=T),v==0?e>w.bottom&&(!f||f.bottom<w.bottom)?(o=O,f=w):e<w.top&&(!c||c.top>w.top)&&(a=O,c=w):f&&jx(f,w)?f=W5(f,w.bottom):c&&jx(c,w)&&(c=q5(c,w.top))}}if(f&&f.bottom>=e?(i=o,n=f):c&&c.top<=e&&(i=a,n=c),!i)return{node:r,offset:0};let p=Math.max(n.left,Math.min(n.right,t));if(i.nodeType==3)return Y5(i,p,e);if(!s&&i.contentEditable=="true")return Rk(i,p,e);let m=Array.prototype.indexOf.call(r.childNodes,i)+(t>=(n.left+n.right)/2?1:0);return{node:r,offset:m}}function Y5(r,t,e){let i=r.nodeValue.length,n=-1,s=1e9,l=0;for(let o=0;o<i;o++){let a=ap(r,o,o+1).getClientRects();for(let f=0;f<a.length;f++){let c=a[f];if(c.top==c.bottom)continue;l||(l=t-c.left);let p=(c.top>e?c.top-e:e-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&p<s){let m=t>=(c.left+c.right)/2,O=m;if((Lt.chrome||Lt.gecko)&&ap(r,o).getBoundingClientRect().left==c.right&&(O=!m),p<=0)return{node:r,offset:o+(O?1:0)};n=o+(O?1:0),s=p}}}return{node:r,offset:n>-1?n:l>0?r.nodeValue.length:0}}function sL(r,{x:t,y:e},i,n=-1){var s;let l=r.contentDOM.getBoundingClientRect(),o=l.top+r.viewState.paddingTop,a,{docHeight:f}=r.viewState,c=e-o;if(c<0)return 0;if(c>f)return r.state.doc.length;for(let v=r.defaultLineHeight/2,T=!1;a=r.elementAtHeight(c),a.type!=Ri.Text;)for(;c=n>0?a.bottom+v:a.top-v,!(c>=0&&c<=f);){if(T)return i?null:0;T=!0,n=-n}e=o+c;let p=a.from;if(p<r.viewport.from)return r.viewport.from==0?0:i?null:H5(r,l,a,t,e);if(p>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:i?null:H5(r,l,a,t,e);let m=r.dom.ownerDocument,O=r.root.elementFromPoint?r.root:m,y=O.elementFromPoint(t,e);y&&!r.contentDOM.contains(y)&&(y=null),y||(t=Math.max(l.left+1,Math.min(l.right-1,t)),y=O.elementFromPoint(t,e),y&&!r.contentDOM.contains(y)&&(y=null));let S,w=-1;if(y&&((s=r.docView.nearest(y))===null||s===void 0?void 0:s.isEditable)!=!1){if(m.caretPositionFromPoint){let v=m.caretPositionFromPoint(t,e);v&&({offsetNode:S,offset:w}=v)}else if(m.caretRangeFromPoint){let v=m.caretRangeFromPoint(t,e);v&&({startContainer:S,startOffset:w}=v,Lt.safari&&zU(S,w,t)&&(S=void 0))}}if(!S||!r.docView.dom.contains(S)){let v=mn.find(r.docView,p);if(!v)return c>a.top+a.height/2?a.to:a.from;({node:S,offset:w}=Rk(v.dom,t,e))}return r.docView.posFromDOM(S,w)}function H5(r,t,e,i,n){let s=Math.round((i-t.left)*r.defaultCharacterWidth);if(r.lineWrapping&&e.height>r.defaultLineHeight*1.5){let o=Math.floor((n-e.top)/r.defaultLineHeight);s+=o*r.viewState.heightOracle.lineLength}let l=r.state.sliceDoc(e.from,e.to);return e.from+hU(l,s,r.state.tabSize)}function zU(r,t,e){let i;if(r.nodeType!=3||t!=(i=r.nodeValue.length))return!1;for(let n=r.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return ap(r,i-1,i).getBoundingClientRect().left>e}function NU(r,t,e,i){let n=r.state.doc.lineAt(t.head),s=!i||!r.lineWrapping?null:r.coordsAtPos(t.assoc<0&&t.head>n.from?t.head-1:t.head);if(s){let a=r.dom.getBoundingClientRect(),f=r.textDirectionAt(n.from),c=r.posAtCoords({x:e==(f==Ji.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(c!=null)return _t.cursor(c,e?-1:1)}let l=mn.find(r.docView,t.head),o=l?e?l.posAtEnd:l.posAtStart:e?n.to:n.from;return _t.cursor(o,e?-1:1)}function U5(r,t,e,i){let n=r.state.doc.lineAt(t.head),s=r.bidiSpans(n),l=r.textDirectionAt(n.from);for(let o=t,a=null;;){let f=AU(n,s,l,o,e),c=eL;if(!f){if(n.number==(e?r.state.doc.lines:1))return o;c=`
`,n=r.state.doc.line(n.number+(e?1:-1)),s=r.bidiSpans(n),f=_t.cursor(e?n.from:n.to)}if(a){if(!a(c))return o}else{if(!i)return f;a=i(c)}o=f}}function LU(r,t,e){let i=r.state.charCategorizer(t),n=i(e);return s=>{let l=i(s);return n==Kr.Space&&(n=l),n==l}}function ZU(r,t,e,i){let n=t.head,s=e?1:-1;if(n==(e?r.state.doc.length:0))return _t.cursor(n,t.assoc);let l=t.goalColumn,o,a=r.contentDOM.getBoundingClientRect(),f=r.coordsAtPos(n),c=r.documentTop;if(f)l==null&&(l=f.left-a.left),o=s<0?f.top:f.bottom;else{let O=r.viewState.lineBlockAt(n);l==null&&(l=Math.min(a.right-a.left,r.defaultCharacterWidth*(n-O.from))),o=(s<0?O.top:O.bottom)+c}let p=a.left+l,m=i??r.defaultLineHeight>>1;for(let O=0;;O+=10){let y=o+(m+O)*s,S=sL(r,{x:p,y},!1,s);if(y<a.top||y>a.bottom||(s<0?S<n:S>n))return _t.cursor(S,t.assoc,void 0,l)}}function qx(r,t,e){let i=r.state.facet(F8).map(n=>n(r));for(;;){let n=!1;for(let s of i)s.between(e.from-1,e.from+1,(l,o,a)=>{e.from>l&&e.from<o&&(e=t.from>e.from?_t.cursor(l,1):_t.cursor(o,-1),n=!0)});if(!n)return e}}class VU{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let e in Xi){let i=Xi[e];t.contentDOM.addEventListener(e,n=>{!G5(t,n)||this.ignoreDuringComposition(n)||e=="keydown"&&this.keydown(t,n)||(this.mustFlushObserver(n)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,n)?n.preventDefault():i(t,n))}),this.registeredEvents.push(e)}Lt.chrome&&Lt.chrome_version>=102&&t.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=t.hasFocus,Lt.safari&&t.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t,e){var i;let n;this.customHandlers=[];for(let s of e)if(n=(i=s.update(t).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:n});for(let l in n)this.registeredEvents.indexOf(l)<0&&l!="scroll"&&(this.registeredEvents.push(l),t.contentDOM.addEventListener(l,o=>{G5(t,o)&&this.runCustomHandlers(l,t,o)&&o.preventDefault()}))}}runCustomHandlers(t,e,i){for(let n of this.customHandlers){let s=n.handlers[t];if(s)try{if(s.call(n.plugin,i,e)||i.defaultPrevented)return!0}catch(l){nl(e.state,l)}}return!1}runScrollHandlers(t,e){for(let i of this.customHandlers){let n=i.handlers.scroll;if(n)try{n.call(i.plugin,e,t)}catch(s){nl(t.state,s)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(Lt.android&&Lt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return t.observer.delayAndroidKey(e.key,e.keyCode),!0;let i;return Lt.ios&&(i=lL.find(n=>n.keyCode==e.keyCode))&&!(e.ctrlKey||e.altKey||e.metaKey)&&!e.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(t),250),!0):!1}flushIOSKey(t){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Td(t.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:Lt.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(t){return t.type=="keydown"&&t.keyCode!=229||t.type=="compositionend"&&!Lt.ios}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const lL=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],oL=[16,17,18,20,91,92,224,225];class XU{constructor(t,e,i,n){this.view=t,this.style=i,this.mustSelect=n,this.lastEvent=e;let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Ye.allowMultipleSelections)&&IU(t,e),this.dragMove=jU(t,e),this.dragging=qU(t,e)&&Z$(e)==1?null:!1,this.dragging===!1&&(e.preventDefault(),this.select(e))}move(t){if(t.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=t)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);(this.mustSelect||!e.eq(this.view.state.selection)||e.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:e,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function IU(r,t){let e=r.state.facet(I8);return e.length?e[0](t):Lt.mac?t.metaKey:t.ctrlKey}function jU(r,t){let e=r.state.facet(j8);return e.length?e[0](t):Lt.mac?!t.altKey:!t.ctrlKey}function qU(r,t){let{main:e}=r.state.selection;if(e.empty)return!1;let i=_O(r.root);if(i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let l=n[s];if(l.left<=t.clientX&&l.right>=t.clientX&&l.top<=t.clientY&&l.bottom>=t.clientY)return!0}return!1}function G5(r,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,i;e!=r.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(i=gi.get(e))&&i.ignoreEvent(t))return!1;return!0}const Xi=Object.create(null),aL=Lt.ie&&Lt.ie_version<15||Lt.ios&&Lt.webkit_version<604;function WU(r){let t=r.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{r.focus(),e.remove(),hL(r,e.value)},50)}function hL(r,t){let{state:e}=r,i,n=1,s=e.toText(t),l=s.lines==e.selection.ranges.length;if(Ek!=null&&e.selection.ranges.every(a=>a.empty)&&Ek==s.toString()){let a=-1;i=e.changeByRange(f=>{let c=e.doc.lineAt(f.from);if(c.from==a)return{range:f};a=c.from;let p=e.toText((l?s.line(n++).text:t)+e.lineBreak);return{changes:{from:c.from,insert:p},range:_t.cursor(f.from+p.length)}})}else l?i=e.changeByRange(a=>{let f=s.line(n++);return{changes:{from:a.from,to:a.to,insert:f.text},range:_t.cursor(a.from+f.length)}}):i=e.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Xi.keydown=(r,t)=>{r.inputState.setSelectionOrigin("select"),t.keyCode==27?r.inputState.lastEscPress=Date.now():oL.indexOf(t.keyCode)<0&&(r.inputState.lastEscPress=0)};let uL=0;Xi.touchstart=(r,t)=>{uL=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Xi.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Xi.mousedown=(r,t)=>{if(r.observer.flush(),uL>Date.now()-2e3&&Z$(t)==1)return;let e=null;for(let i of r.state.facet(q8))if(e=i(r,t),e)break;if(!e&&t.button==0&&(e=UU(r,t)),e){let i=r.root.activeElement!=r.contentDOM;i&&r.observer.ignore(()=>P8(r.contentDOM)),r.inputState.startMouseSelection(new XU(r,t,e,i))}};function F5(r,t,e,i){if(i==1)return _t.cursor(t,e);if(i==2)return DU(r.state,t,e);{let n=mn.find(r.docView,t),s=r.state.doc.lineAt(n?n.posAtEnd:t),l=n?n.posAtStart:s.from,o=n?n.posAtEnd:s.to;return o<r.state.doc.length&&o==s.to&&o++,_t.range(l,o)}}let fL=(r,t)=>r>=t.top&&r<=t.bottom,K5=(r,t,e)=>fL(t,e)&&r>=e.left&&r<=e.right;function YU(r,t,e,i){let n=mn.find(r.docView,t);if(!n)return 1;let s=t-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let l=n.coordsAt(s,-1);if(l&&K5(e,i,l))return-1;let o=n.coordsAt(s,1);return o&&K5(e,i,o)?1:l&&fL(i,l)?-1:1}function J5(r,t){let e=r.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:YU(r,e,t.clientX,t.clientY)}}const HU=Lt.ie&&Lt.ie_version<=11;let tR=null,eR=0,iR=0;function Z$(r){if(!HU)return r.detail;let t=tR,e=iR;return tR=r,iR=Date.now(),eR=!t||e>Date.now()-400&&Math.abs(t.clientX-r.clientX)<2&&Math.abs(t.clientY-r.clientY)<2?(eR+1)%3:1}function UU(r,t){let e=J5(r,t),i=Z$(t),n=r.state.selection,s=e,l=t;return{update(o){o.docChanged&&(e&&(e.pos=o.changes.mapPos(e.pos)),n=n.map(o.changes),l=null)},get(o,a,f){let c;if(l&&o.clientX==l.clientX&&o.clientY==l.clientY?c=s:(c=s=J5(r,o),l=o),!c||!e)return n;let p=F5(r,c.pos,c.bias,i);if(e.pos!=c.pos&&!a){let m=F5(r,e.pos,e.bias,i),O=Math.min(m.from,p.from),y=Math.max(m.to,p.to);p=O<p.from?_t.range(O,y):_t.range(y,O)}return a?n.replaceRange(n.main.extend(p.from,p.to)):f?n.addRange(p):_t.create([p])}}}Xi.dragstart=(r,t)=>{let{selection:{main:e}}=r.state,{mouseSelection:i}=r.inputState;i&&(i.dragging=e),t.dataTransfer&&(t.dataTransfer.setData("Text",r.state.sliceDoc(e.from,e.to)),t.dataTransfer.effectAllowed="copyMove")};function nR(r,t,e,i){if(!e)return;let n=r.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:s}=r.inputState,l=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,o={from:n,insert:e},a=r.state.changes(l?[l,o]:o);r.focus(),r.dispatch({changes:a,selection:{anchor:a.mapPos(n,-1),head:a.mapPos(n,1)},userEvent:l?"move.drop":"input.drop"})}Xi.drop=(r,t)=>{if(!t.dataTransfer)return;if(r.state.readOnly)return t.preventDefault();let e=t.dataTransfer.files;if(e&&e.length){t.preventDefault();let i=Array(e.length),n=0,s=()=>{++n==e.length&&nR(r,t,i.filter(l=>l!=null).join(r.state.lineBreak),!1)};for(let l=0;l<e.length;l++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[l]=o.result),s()},o.readAsText(e[l])}}else nR(r,t,t.dataTransfer.getData("Text"),!0)};Xi.paste=(r,t)=>{if(r.state.readOnly)return t.preventDefault();r.observer.flush();let e=aL?null:t.clipboardData;e?(hL(r,e.getData("text/plain")),t.preventDefault()):WU(r)};function GU(r,t){let e=r.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function FU(r){let t=[],e=[],i=!1;for(let n of r.selection.ranges)n.empty||(t.push(r.sliceDoc(n.from,n.to)),e.push(n));if(!t.length){let n=-1;for(let{from:s}of r.selection.ranges){let l=r.doc.lineAt(s);l.number>n&&(t.push(l.text),e.push({from:l.from,to:Math.min(r.doc.length,l.to+1)})),n=l.number}i=!0}return{text:t.join(r.lineBreak),ranges:e,linewise:i}}let Ek=null;Xi.copy=Xi.cut=(r,t)=>{let{text:e,ranges:i,linewise:n}=FU(r.state);if(!e&&!n)return;Ek=n?e:null;let s=aL?null:t.clipboardData;s?(t.preventDefault(),s.clearData(),s.setData("text/plain",e)):GU(r,e),t.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function cL(r){setTimeout(()=>{r.hasFocus!=r.inputState.notifiedFocused&&r.update([])},10)}Xi.focus=cL;Xi.blur=r=>{r.observer.clearSelectionRange(),cL(r)};function dL(r,t){if(r.docView.compositionDeco.size){r.inputState.rapidCompositionStart=t;try{r.update([])}finally{r.inputState.rapidCompositionStart=!1}}}Xi.compositionstart=Xi.compositionupdate=r=>{r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0,r.docView.compositionDeco.size&&(r.observer.flush(),dL(r,!0)))};Xi.compositionend=r=>{r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionFirstChange=null,setTimeout(()=>{r.inputState.composing<0&&dL(r,!1)},50)};Xi.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Xi.beforeinput=(r,t)=>{var e;let i;if(Lt.chrome&&Lt.android&&(i=lL.find(n=>n.inputType==t.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let n=((e=window.visualViewport)===null||e===void 0?void 0:e.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}};const rR=["pre-wrap","normal","pre-line","break-spaces"];class KU{constructor(){this.doc=Re.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return rR.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(e=!0,this.heightSamples[Math.floor(n*10)]=!0)}return e}refresh(t,e,i,n,s){let l=rR.indexOf(t)>-1,o=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=e,this.charWidth=i,this.lineLength=n,o){this.heightSamples={};for(let a=0;a<s.length;a++){let f=s[a];f<0?a++:this.heightSamples[Math.floor(f*10)]=!0}}return o}}class JU{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class ca{constructor(t,e,i,n,s){this.from=t,this.length=e,this.top=i,this.height=n,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new ca(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var We=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(We||(We={}));const X0=.001;class Xn{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>X0&&(t.heightChanged=!0),this.height=e)}replace(t,e,i){return Xn.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let s=this;for(let l=n.length-1;l>=0;l--){let{fromA:o,toA:a,fromB:f,toB:c}=n[l],p=s.lineAt(o,We.ByPosNoHeight,e,0,0),m=p.to>=a?p:s.lineAt(a,We.ByPosNoHeight,e,0,0);for(c+=m.to-a,a=m.to;l>0&&p.from<=n[l-1].toA;)o=n[l-1].fromA,f=n[l-1].fromB,l--,o<p.from&&(p=s.lineAt(o,We.ByPosNoHeight,e,0,0));f+=p.from-o,o=p.from;let O=V$.build(i,t,f,c);s=s.replace(o,a,O)}return s.updateHeight(i,0)}static empty(){return new sr(0,0)}static of(t){if(t.length==1)return t[0];let e=0,i=t.length,n=0,s=0;for(;;)if(e==i)if(n>s*2){let o=t[e-1];o.break?t.splice(--e,1,o.left,null,o.right):t.splice(--e,1,o.left,o.right),i+=1+o.break,n-=o.size}else if(s>n*2){let o=t[i];o.break?t.splice(i,1,o.left,null,o.right):t.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(n<s){let o=t[e++];o&&(n+=o.size)}else{let o=t[--i];o&&(s+=o.size)}let l=0;return t[e-1]==null?(l=1,e--):t[e]==null&&(l=1,i++),new tG(Xn.of(t.slice(0,e)),l,Xn.of(t.slice(i)))}}Xn.prototype.size=1;class pL extends Xn{constructor(t,e,i){super(t,e),this.type=i}blockAt(t,e,i,n){return new ca(n,this.length,i,this.height,this.type)}lineAt(t,e,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(t,e,i,n,s,l){t<=s+this.length&&e>=s&&l(this.blockAt(0,i,n,s))}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(t,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class sr extends pL{constructor(t,e){super(t,e,Ri.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,i){let n=i[0];return i.length==1&&(n instanceof sr||n instanceof Hi&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Hi?n=new sr(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Xn.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setHeight(t,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Hi extends Xn{constructor(t){super(t,0)}lines(t,e){let i=t.lineAt(e).number,n=t.lineAt(e+this.length).number;return{firstLine:i,lastLine:n,lineHeight:this.height/(n-i+1)}}blockAt(t,e,i,n){let{firstLine:s,lastLine:l,lineHeight:o}=this.lines(e,n),a=Math.max(0,Math.min(l-s,Math.floor((t-i)/o))),{from:f,length:c}=e.line(s+a);return new ca(f,c,i+o*a,o,Ri.Text)}lineAt(t,e,i,n,s){if(e==We.ByHeight)return this.blockAt(t,i,n,s);if(e==We.ByPosNoHeight){let{from:p,to:m}=i.lineAt(t);return new ca(p,m-p,0,0,Ri.Text)}let{firstLine:l,lineHeight:o}=this.lines(i,s),{from:a,length:f,number:c}=i.lineAt(t);return new ca(a,f,n+o*(c-l),o,Ri.Text)}forEachLine(t,e,i,n,s,l){let{firstLine:o,lineHeight:a}=this.lines(i,s);for(let f=Math.max(t,s),c=Math.min(s+this.length,e);f<=c;){let p=i.lineAt(f);f==t&&(n+=a*(p.number-o)),l(new ca(p.from,p.length,n,a,Ri.Text)),n+=a,f=p.to+1}}replace(t,e,i){let n=this.length-e;if(n>0){let s=i[i.length-1];s instanceof Hi?i[i.length-1]=new Hi(s.length+n):i.push(null,new Hi(n-1))}if(t>0){let s=i[0];s instanceof Hi?i[0]=new Hi(t+s.length):i.unshift(new Hi(t-1),null)}return Xn.of(i)}decomposeLeft(t,e){e.push(new Hi(t-1),null)}decomposeRight(t,e){e.push(null,new Hi(this.length-t-1))}updateHeight(t,e=0,i=!1,n){let s=e+this.length;if(n&&n.from<=e+this.length&&n.more){let l=[],o=Math.max(e,n.from),a=-1,f=t.heightChanged;for(n.from>e&&l.push(new Hi(n.from-e-1).updateHeight(t,e));o<=s&&n.more;){let p=t.doc.lineAt(o).length;l.length&&l.push(null);let m=n.heights[n.index++];a==-1?a=m:Math.abs(m-a)>=X0&&(a=-2);let O=new sr(p,m);O.outdated=!1,l.push(O),o+=p+1}o<=s&&l.push(null,new Hi(s-o).updateHeight(t,o));let c=Xn.of(l);return t.heightChanged=f||a<0||Math.abs(c.height-this.height)>=X0||Math.abs(a-this.lines(t.doc,e).lineHeight)>=X0,c}else(i||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class tG extends Xn{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return this.flags&1}blockAt(t,e,i,n){let s=i+this.left.height;return t<s?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,s,n+this.left.length+this.break)}lineAt(t,e,i,n,s){let l=n+this.left.height,o=s+this.left.length+this.break,a=e==We.ByHeight?t<l:t<o,f=a?this.left.lineAt(t,e,i,n,s):this.right.lineAt(t,e,i,l,o);if(this.break||(a?f.to<o:f.from>o))return f;let c=e==We.ByPosNoHeight?We.ByPosNoHeight:We.ByPos;return a?f.join(this.right.lineAt(o,c,i,l,o)):this.left.lineAt(o,c,i,n,s).join(f)}forEachLine(t,e,i,n,s,l){let o=n+this.left.height,a=s+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,i,n,s,l),e>=a&&this.right.forEachLine(t,e,i,o,a,l);else{let f=this.lineAt(a,We.ByPos,i,n,s);t<f.from&&this.left.forEachLine(t,f.from-1,i,n,s,l),f.to>=t&&f.from<=e&&l(f),e>f.to&&this.right.forEachLine(f.to+1,e,i,o,a,l)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let s=[];t>0&&this.decomposeLeft(t,s);let l=s.length;for(let o of i)s.push(o);if(t>0&&sR(s,l-1),e<this.length){let o=s.length;this.decomposeRight(e,s),sR(s,o)}return Xn.of(s)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Xn.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:s,right:l}=this,o=e+s.length+this.break,a=null;return n&&n.from<=e+s.length&&n.more?a=s=s.updateHeight(t,e,i,n):s.updateHeight(t,e,i),n&&n.from<=o+l.length&&n.more?a=l=l.updateHeight(t,o,i,n):l.updateHeight(t,o,i),a?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function sR(r,t){let e,i;r[t]==null&&(e=r[t-1])instanceof Hi&&(i=r[t+1])instanceof Hi&&r.splice(t-1,3,new Hi(e.length+1+i.length))}const eG=5;class V${constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let i=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof sr?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new sr(i-this.pos,-1)),this.writtenTo=i,e>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0;n<0&&(n=this.oracle.lineHeight);let s=e-t;i.block?this.addBlock(new pL(s,n,i.type)):(s||n>=eG)&&this.addLineDeco(n,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new sr(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new Hi(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof sr)return t;let e=new sr(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type==Ri.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=Ri.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let i=this.ensureLine();i.length+=e,i.collapsed+=e,i.widgetHeight=Math.max(i.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof sr)&&!this.isCovered?this.nodes.push(new sr(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=t;for(let n of this.nodes)n instanceof sr&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(t,e,i,n){let s=new V$(i,t);return pi.spans(e,i,n,s,0),s.finish(i)}}function iG(r,t,e){let i=new nG;return pi.compare(r,t,e,i,0),i.changes}class nG{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,n){(t<e||i&&i.heightRelevant||n&&n.heightRelevant)&&Tk(t,e,this.changes,5)}}function rG(r,t){let e=r.getBoundingClientRect(),i=Math.max(0,e.left),n=Math.min(innerWidth,e.right),s=Math.max(0,e.top),l=Math.min(innerHeight,e.bottom),o=r.ownerDocument.body;for(let a=r.parentNode;a&&a!=o;)if(a.nodeType==1){let f=a,c=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&c.overflow!="visible"){let p=f.getBoundingClientRect();i=Math.max(i,p.left),n=Math.min(n,p.right),s=Math.max(s,p.top),l=Math.min(l,p.bottom)}a=c.position=="absolute"||c.position=="fixed"?f.offsetParent:f.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-e.left,right:Math.max(i,n)-e.left,top:s-(e.top+t),bottom:Math.max(s,l)-(e.top+t)}}function sG(r,t){let e=r.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class Wx{constructor(t,e,i){this.from=t,this.to=e,this.size=i}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],s=e[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(t){return Fi.replace({widget:new lG(this.size,t)}).range(this.from,this.to)}}class lG extends M1{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class lR{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new KU,this.scaler=hR,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ji.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=t.facet(hp).filter(e=>typeof e!="function"),this.heightMap=Xn.empty().applyChanges(this.stateDeco,Re.empty,this.heightOracle.setDoc(t.doc),[new io(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Fi.set(this.lineGaps.map(e=>e.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let n=i?e.head:e.anchor;if(!t.some(({from:s,to:l})=>n>=s&&n<=l)){let{from:s,to:l}=this.lineBlockAt(n);t.push(new Pm(s,l))}}this.viewports=t.sort((i,n)=>i.from-n.from),this.scaler=this.heightMap.height<=7e6?hR:new hG(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,t=>{this.viewportLines.push(this.scaler.scale==1?t:td(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(hp).filter(f=>typeof f!="function");let n=t.changedRanges,s=io.extendWithRanges(n,iG(i,this.stateDeco,t?t.changes:Li.empty(this.state.doc.length))),l=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=l&&(t.flags|=2);let o=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<o.from||e.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,e));let a=!t.changes.empty||t.flags&2||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Ji.RTL:Ji.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),o=l||this.mustMeasureContent||this.contentDOMHeight!=e.clientHeight;this.contentDOMHeight=e.clientHeight,this.mustMeasureContent=!1;let a=0,f=0,c=parseInt(i.paddingTop)||0,p=parseInt(i.paddingBottom)||0;(this.paddingTop!=c||this.paddingBottom!=p)&&(this.paddingTop=c,this.paddingBottom=p,a|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(n.lineWrapping&&(o=!0),this.editorWidth=t.scrollDOM.clientWidth,a|=8);let m=(this.printing?sG:rG)(e,this.paddingTop),O=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(o=!0)),!this.inView)return 0;let w=e.clientWidth;if((this.contentDOMWidth!=w||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=w,this.editorHeight=t.scrollDOM.clientHeight,a|=8),o){let T=t.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(T)&&(l=!0),l||n.lineWrapping&&Math.abs(w-this.contentDOMWidth)>n.charWidth){let{lineHeight:M,charWidth:N}=t.docView.measureTextSize();l=n.refresh(s,M,N,w/N,T),l&&(t.docView.minWidth=0,a|=8)}O>0&&y>0?f=Math.max(O,y):O<0&&y<0&&(f=Math.min(O,y)),n.heightChanged=!1;for(let M of this.viewports){let N=M.from==this.viewport.from?T:t.docView.measureVisibleLineHeights(M);this.heightMap=this.heightMap.updateHeight(n,0,l,new JU(M.from,N))}n.heightChanged&&(a|=2)}let v=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(this.viewport=this.getViewport(f,this.scrollTarget)),this.updateForViewport(),(a&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,s=this.state.doc,{visibleTop:l,visibleBottom:o}=this,a=new Pm(n.lineAt(l-i*1e3,We.ByHeight,s,0,0).from,n.lineAt(o+(1-i)*1e3,We.ByHeight,s,0,0).to);if(e){let{head:f}=e.range;if(f<a.from||f>a.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=n.lineAt(f,We.ByPos,s,0,0),m;e.y=="center"?m=(p.top+p.bottom)/2-c/2:e.y=="start"||e.y=="nearest"&&f<a.from?m=p.top:m=p.bottom-c,a=new Pm(n.lineAt(m-1e3/2,We.ByHeight,s,0,0).from,n.lineAt(m+c+1e3/2,We.ByHeight,s,0,0).to)}}return a}mapViewport(t,e){let i=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new Pm(this.heightMap.lineAt(i,We.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(n,We.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,We.ByPos,this.state.doc,0,0),{bottom:s}=this.heightMap.lineAt(e,We.ByPos,this.state.doc,0,0),{visibleTop:l,visibleBottom:o}=this;return(t==0||n<=l-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>l-2*1e3&&s<o+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let n of t)e.touchesRange(n.from,n.to)||i.push(new Wx(e.mapPos(n.from),e.mapPos(n.to),n.size));return i}ensureLineGaps(t){let e=[];if(this.defaultTextDirection!=Ji.LTR)return e;for(let i of this.viewportLines){if(i.length<4e3)continue;let n=oG(i.from,i.to,this.stateDeco);if(n.total<4e3)continue;let s,l;if(this.heightOracle.lineWrapping){let f=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;s=Mm(n,(this.visibleTop-i.top-f)/i.height),l=Mm(n,(this.visibleBottom-i.top+f)/i.height)}else{let f=n.total*this.heightOracle.charWidth,c=2e3*this.heightOracle.charWidth;s=Mm(n,(this.pixelViewport.left-c)/f),l=Mm(n,(this.pixelViewport.right+c)/f)}let o=[];s>i.from&&o.push({from:i.from,to:s}),l<i.to&&o.push({from:l,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&aR(o,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&aR(o,a.to-10,a.to+10);for(let{from:f,to:c}of o)c-f>1e3&&e.push(aG(t,p=>p.from>=i.from&&p.to<=i.to&&Math.abs(p.from-f)<1e3&&Math.abs(p.to-c)<1e3)||new Wx(f,c,this.gapSize(i,f,c,n)))}return e}gapSize(t,e,i,n){let s=oR(n,i)-oR(n,e);return this.heightOracle.lineWrapping?t.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(t){Wx.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=Fi.set(t.map(e=>e.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];pi.spans(t,this.viewport.from,this.viewport.to,{span(n,s){e.push({from:n,to:s})},point(){}},20);let i=e.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=e[s].from||n.to!=e[s].to);return this.visibleRanges=e,i?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||td(this.heightMap.lineAt(t,We.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(t){return td(this.heightMap.lineAt(this.scaler.fromDOM(t),We.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(t){return td(this.heightMap.blockAt(this.scaler.fromDOM(t),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Pm{constructor(t,e){this.from=t,this.to=e}}function oG(r,t,e){let i=[],n=r,s=0;return pi.spans(e,r,t,{span(){},point(l,o){l>n&&(i.push({from:n,to:l}),s+=l-n),n=o}},20),n<t&&(i.push({from:n,to:t}),s+=t-n),{total:s,ranges:i}}function Mm({total:r,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let i=Math.floor(r*e);for(let n=0;;n++){let{from:s,to:l}=t[n],o=l-s;if(i<=o)return s+i;i-=o}}function oR(r,t){let e=0;for(let{from:i,to:n}of r.ranges){if(t<=n){e+=t-i;break}e+=n-i}return e/r.total}function aR(r,t,e){for(let i=0;i<r.length;i++){let n=r[i];if(n.from<e&&n.to>t){let s=[];n.from<t&&s.push({from:n.from,to:t}),n.to>e&&s.push({from:e,to:n.to}),r.splice(i,1,...s),i+=s.length-1}}}function aG(r,t){for(let e of r)if(t(e))return e}const hR={toDOM(r){return r},fromDOM(r){return r},scale:1};class hG{constructor(t,e,i){let n=0,s=0,l=0;this.viewports=i.map(({from:o,to:a})=>{let f=e.lineAt(o,We.ByPos,t,0,0).top,c=e.lineAt(a,We.ByPos,t,0,0).bottom;return n+=c-f,{from:o,to:a,top:f,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(e.height-n);for(let o of this.viewports)o.domTop=l+(o.top-s)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.top)return n+(t-i)*this.scale;if(t<=s.bottom)return s.domTop+(t-s.top);i=s.bottom,n=s.domBottom}}fromDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.domTop)return i+(t-n)/this.scale;if(t<=s.domBottom)return s.top+(t-s.domTop);i=s.bottom,n=s.domBottom}}}function td(r,t){if(t.scale==1)return r;let e=t.toDOM(r.top),i=t.toDOM(r.bottom);return new ca(r.from,r.length,e,i-e,Array.isArray(r.type)?r.type.map(n=>td(n,t)):r.type)}const Rm=ce.define({combine:r=>r.join(" ")}),Dk=ce.define({combine:r=>r.indexOf(!0)>-1}),Bk=Ce.newName(),gL=Ce.newName(),mL=Ce.newName(),OL={"&light":"."+gL,"&dark":"."+mL};function _k(r,t,e){return new Ce(t,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!e||!e[n])throw new RangeError(`Unsupported selector: ${n}`);return e[n]}):r+" "+i}})}const uG=_k("."+Bk,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},OL),fG={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Yx=Lt.ie&&Lt.ie_version<=11;class cG{constructor(t,e,i){this.view=t,this.onChange=e,this.onScrollChanged=i,this.active=!1,this.selectionRange=new dU,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(n=>{for(let s of n)this.queue.push(s);(Lt.ie&&Lt.ie_version<=11||Lt.ios&&t.composing)&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Yx&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(t.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:e}=this,i=this.selectionRange;if(e.state.facet(Ep)?e.root.activeElement!=this.dom:!bk(e.dom,i))return;let n=i.anchorNode&&e.docView.nearest(i.anchorNode);n&&n.ignoreEvent(t)||((Lt.ie&&Lt.ie_version<=11||Lt.android&&Lt.chrome)&&!e.state.selection.main.empty&&i.focusNode&&zO(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:t}=this.view,e=_O(t),i=Lt.safari&&t.nodeType==11&&uU()==this.view.contentDOM&&dG(this.view)||e;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(i.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=e)i.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,fG),Yx&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Yx&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Td(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let t=this.queue;for(let s of this.observer.takeRecords())t.push(s);t.length&&(this.queue=[]);let e=-1,i=-1,n=!1;for(let s of t){let l=this.readMutation(s);l&&(l.typeOver&&(n=!0),e==-1?{from:e,to:i}=l:(e=Math.min(l.from,e),i=Math.max(l.to,i)))}return{from:e,to:i,typeOver:n}}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;t&&this.readSelectionRange();let{from:e,to:i,typeOver:n}=this.processRecords(),s=this.selectionChanged&&bk(this.dom,this.selectionRange);if(e<0&&!s)return;this.selectionChanged=!1;let l=this.view.state,o=this.onChange(e,i,n);return this.view.state==l&&this.view.update([]),o}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.dirty|=4),t.type=="childList"){let i=uR(e,t.previousSibling||t.target.previousSibling,-1),n=uR(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}destroy(){var t,e,i;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function uR(r,t,e){for(;t;){let i=gi.get(t);if(i&&i.parent==r)return i;let n=t.parentNode;t=n!=r.dom?n:e>0?t.nextSibling:t.previousSibling}return null}function dG(r){let t=null;function e(a){a.preventDefault(),a.stopImmediatePropagation(),t=a.getTargetRanges()[0]}if(r.contentDOM.addEventListener("beforeinput",e,!0),document.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",e,!0),!t)return null;let i=t.startContainer,n=t.startOffset,s=t.endContainer,l=t.endOffset,o=r.docView.domAtPos(r.state.selection.main.anchor);return zO(o.node,o.offset,s,l)&&([i,n,s,l]=[s,l,i,n]),{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:l}}function pG(r,t,e,i){let n,s,l=r.state.selection.main;if(t>-1){let o=r.docView.domBoundsAround(t,e,0);if(!o||r.state.readOnly)return!1;let{from:a,to:f}=o,c=r.docView.impreciseHead||r.docView.impreciseAnchor?[]:mG(r),p=new iL(c,r.state);p.readRange(o.startDOM,o.endDOM);let m=l.from,O=null;(r.inputState.lastKeyCode===8&&r.inputState.lastKeyTime>Date.now()-100||Lt.android&&p.text.length<f-a)&&(m=l.to,O="end");let y=gG(r.state.doc.sliceString(a,f,fa),p.text,m-a,O);y&&(Lt.chrome&&r.inputState.lastKeyCode==13&&y.toB==y.from+2&&p.text.slice(y.from,y.toB)==fa+fa&&y.toB--,n={from:a+y.from,to:a+y.toA,insert:Re.of(p.text.slice(y.from,y.toB).split(fa))}),s=OG(c,a)}else if(r.hasFocus||!r.state.facet(Ep)){let o=r.observer.selectionRange,{impreciseHead:a,impreciseAnchor:f}=r.docView,c=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!Gu(r.contentDOM,o.focusNode)?r.state.selection.main.head:r.docView.posFromDOM(o.focusNode,o.focusOffset),p=f&&f.node==o.anchorNode&&f.offset==o.anchorOffset||!Gu(r.contentDOM,o.anchorNode)?r.state.selection.main.anchor:r.docView.posFromDOM(o.anchorNode,o.anchorOffset);(c!=l.head||p!=l.anchor)&&(s=_t.single(p,c))}if(!n&&!s)return!1;if(!n&&i&&!l.empty&&s&&s.main.empty?n={from:l.from,to:l.to,insert:r.state.doc.slice(l.from,l.to)}:n&&n.from>=l.from&&n.to<=l.to&&(n.from!=l.from||n.to!=l.to)&&l.to-l.from-(n.to-n.from)<=4?n={from:l.from,to:l.to,insert:r.state.doc.slice(l.from,n.from).append(n.insert).append(r.state.doc.slice(n.to,l.to))}:(Lt.mac||Lt.android)&&n&&n.from==n.to&&n.from==l.head-1&&n.insert.toString()=="."&&(n={from:l.from,to:l.to,insert:Re.of([" "])}),n){let o=r.state;if(Lt.ios&&r.inputState.flushIOSKey(r)||Lt.android&&(n.from==l.from&&n.to==l.to&&n.insert.length==1&&n.insert.lines==2&&Td(r.contentDOM,"Enter",13)||n.from==l.from-1&&n.to==l.to&&n.insert.length==0&&Td(r.contentDOM,"Backspace",8)||n.from==l.from&&n.to==l.to+1&&n.insert.length==0&&Td(r.contentDOM,"Delete",46)))return!0;let a=n.insert.toString();if(r.state.facet(Y8).some(p=>p(r,n.from,n.to,a)))return!0;r.inputState.composing>=0&&r.inputState.composing++;let f;if(n.from>=l.from&&n.to<=l.to&&n.to-n.from>=(l.to-l.from)/3&&(!s||s.main.empty&&s.main.from==n.from+n.insert.length)&&r.inputState.composing<0){let p=l.from<n.from?o.sliceDoc(l.from,n.from):"",m=l.to>n.to?o.sliceDoc(n.to,l.to):"";f=o.replaceSelection(r.state.toText(p+n.insert.sliceString(0,void 0,r.state.lineBreak)+m))}else{let p=o.changes(n),m=s&&!o.selection.main.eq(s.main)&&s.main.to<=p.newLength?s.main:void 0;if(o.selection.ranges.length>1&&r.inputState.composing>=0&&n.to<=l.to&&n.to>=l.to-10){let O=r.state.sliceDoc(n.from,n.to),y=nL(r)||r.state.doc.lineAt(l.head),S=l.to-n.to,w=l.to-l.from;f=o.changeByRange(v=>{if(v.from==l.from&&v.to==l.to)return{changes:p,range:m||v.map(p)};let T=v.to-S,M=T-O.length;if(v.to-v.from!=w||r.state.sliceDoc(M,T)!=O||y&&v.to>=y.from&&v.from<=y.to)return{range:v};let N=o.changes({from:M,to:T,insert:n.insert}),P=v.to-l.to;return{changes:N,range:m?_t.range(Math.max(0,m.anchor+P),Math.max(0,m.head+P)):v.map(N)}})}else f={changes:p,selection:m&&o.selection.replaceRange(m)}}let c="input.type";return r.composing&&(c+=".compose",r.inputState.compositionFirstChange&&(c+=".start",r.inputState.compositionFirstChange=!1)),r.dispatch(f,{scrollIntoView:!0,userEvent:c}),!0}else if(s&&!s.main.eq(l)){let o=!1,a="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),a=r.inputState.lastSelectionOrigin),r.dispatch({selection:s,scrollIntoView:o,userEvent:a}),!0}else return!1}function gG(r,t,e,i){let n=Math.min(r.length,t.length),s=0;for(;s<n&&r.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==n&&r.length==t.length)return null;let l=r.length,o=t.length;for(;l>0&&o>0&&r.charCodeAt(l-1)==t.charCodeAt(o-1);)l--,o--;if(i=="end"){let a=Math.max(0,s-Math.min(l,o));e-=l+a-s}if(l<s&&r.length<t.length){let a=e<=s&&e>=l?s-e:0;s-=a,o=s+(o-l),l=s}else if(o<s){let a=e<=s&&e>=o?s-e:0;s-=a,l=s+(l-o),o=s}return{from:s,toA:l,toB:o}}function mG(r){let t=[];if(r.root.activeElement!=r.contentDOM)return t;let{anchorNode:e,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return e&&(t.push(new X5(e,i)),(n!=e||s!=i)&&t.push(new X5(n,s))),t}function OG(r,t){if(r.length==0)return null;let e=r[0].pos,i=r.length==2?r[1].pos:e;return e>-1&&i>-1?_t.single(e+t,i+t):null}class Ke{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=t.root||pU(t.parent)||document,this.viewState=new lR(t.state||Ye.create()),this.plugins=this.state.facet(Kc).map(e=>new Ix(e));for(let e of this.plugins)e.update(this);this.observer=new cG(this,(e,i,n)=>pG(this,e,i,n),e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()}),this.inputState=new VU(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new I5(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...t){this._dispatch(t.length==1&&t[0]instanceof an?t[0]:this.state.update(...t))}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,i=!1,n,s=this.state;for(let o of t){if(o.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=o.state}if(this.destroyed){this.viewState.state=s;return}if(this.observer.clear(),s.facet(Ye.phrases)!=this.state.facet(Ye.phrases))return this.setState(s);n=ZO.create(this,s,t);let l=this.viewState.scrollTarget;try{this.updateState=2;for(let o of t){if(l&&(l=l.map(o.changes)),o.scrollIntoView){let{main:a}=o.state.selection;l=new LO(a.empty?a:_t.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of o.effects)a.is(Z5)&&(l=a.value)}this.viewState.update(n,l),this.bidiCache=VO.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),e=this.docView.update(n),this.state.facet(Jc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(o=>o.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Rm)!=n.state.facet(Rm)&&(this.viewState.mustMeasureContent=!0),(e||i||l||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let o of this.state.facet(Qk))o(n)}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new lR(t),this.plugins=t.facet(Kc).map(i=>new Ix(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new I5(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Kc),i=t.state.facet(Kc);if(e!=i){let n=[];for(let s of i){let l=e.indexOf(s);if(l<0)n.push(new Ix(s));else{let o=this.plugins[l];o.mustUpdate=t,n.push(o)}}for(let s of this.plugins)s.mustUpdate!=t&&s.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let n of this.plugins)n.mustUpdate=t;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.flush();let e=null;try{for(let i=0;;i++){this.updateState=1;let n=this.viewport,s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];s&4||([this.measureRequests,l]=[l,this.measureRequests]);let o=l.map(p=>{try{return p.read(this)}catch(m){return nl(this.state,m),fR}}),a=ZO.create(this,this.state,[]),f=!1,c=!1;a.flags|=s,e?e.flags|=s:e=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),f=this.docView.update(a));for(let p=0;p<l.length;p++)if(o[p]!=fR)try{let m=l[p];m.write&&m.write(o[p],this)}catch(m){nl(this.state,m)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=!0),f&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!c&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let i of this.state.facet(Qk))i(e)}get themeClasses(){return Bk+" "+(this.state.facet(Dk)?mL:gL)+" "+this.state.facet(Rm)}updateAttrs(){let t=cR(this,U8,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ep)?"true":"false",class:"cm-content",style:`${Lt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),cR(this,G8,e);let i=this.observer.ignore(()=>{let n=Ck(this.contentDOM,this.contentAttrs,e),s=Ck(this.dom,this.editorAttrs,t);return n||s});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let n of i.effects)if(n.is(Ke.announce)){e&&(this.announceDOM.textContent=""),e=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(Jc),Ce.mount(this.root,this.styleModules.concat(uG).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),t){if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(i=>i.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return qx(this,t,U5(this,t,e,i))}moveByGroup(t,e){return qx(this,t,U5(this,t,e,i=>LU(this,t.head,i)))}moveToLineBoundary(t,e,i=!0){return NU(this,t,e,i)}moveVertically(t,e,i){return qx(this,t,ZU(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),sL(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(t),s=this.bidiSpans(n),l=s[Eu.find(s,t-n.from,-1,e)];return Q1(i,l.dir==Ji.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(H8)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>yG)return tL(t.length);let e=this.textDirectionAt(t.from);for(let n of this.bidiCache)if(n.from==t.from&&n.dir==e)return n.order;let i=$U(t.text,e);return this.bidiCache.push(new VO(t.from,t.to,e,i)),i}get hasFocus(){var t;return(document.hasFocus()||Lt.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{P8(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return Z5.of(new LO(typeof t=="number"?_t.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}static domEventHandlers(t){return Ku.define(()=>({}),{eventHandlers:t})}static theme(t,e){let i=Ce.newName(),n=[Rm.of(i),Jc.of(_k(`.${i}`,t))];return e&&e.dark&&n.push(Dk.of(!0)),n}static baseTheme(t){return m8.lowest(Jc.of(_k("."+Bk,t,OL)))}}Ke.styleModule=Jc;Ke.inputHandler=Y8;Ke.perLineTextDirection=H8;Ke.exceptionSink=W8;Ke.updateListener=Qk;Ke.editable=Ep;Ke.mouseSelectionStyle=q8;Ke.dragMovesSelection=j8;Ke.clickAddsSelectionRange=I8;Ke.decorations=hp;Ke.atomicRanges=F8;Ke.scrollMargins=K8;Ke.darkTheme=Dk;Ke.contentAttributes=G8;Ke.editorAttributes=U8;Ke.lineWrapping=Ke.contentAttributes.of({class:"cm-lineWrapping"});Ke.announce=ai.define();const yG=4096,fR={};class VO{constructor(t,e,i,n){this.from=t,this.to=e,this.dir=i,this.order=n}static update(t,e){if(e.empty)return t;let i=[],n=t.length?t[t.length-1].dir:Ji.LTR;for(let s=Math.max(0,t.length-10);s<t.length;s++){let l=t[s];l.dir==n&&!e.touchesRange(l.from,l.to)&&i.push(new VO(e.mapPos(l.from,1),e.mapPos(l.to,-1),l.dir,l.order))}return i}}function cR(r,t,e){for(let i=r.state.facet(t),n=i.length-1;n>=0;n--){let s=i[n],l=typeof s=="function"?s(r):s;l&&Ak(l,e)}return e}const bG=Lt.mac?"mac":Lt.windows?"win":Lt.linux?"linux":"key";function xG(r,t){const e=r.split(/-(?!$)/);let i=e[e.length-1];i=="Space"&&(i=" ");let n,s,l,o;for(let a=0;a<e.length-1;++a){const f=e[a];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))t=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),o&&(i="Meta-"+i),l&&(i="Shift-"+i),i}function Hx(r,t,e){return t.altKey&&(r="Alt-"+r),t.ctrlKey&&(r="Ctrl-"+r),t.metaKey&&(r="Meta-"+r),e!==!1&&t.shiftKey&&(r="Shift-"+r),r}const SG=Ke.domEventHandlers({keydown(r,t){return $G(wG(t.state),r,t,"editor")}}),yL=ce.define({enables:SG}),dR=new WeakMap;function wG(r){let t=r.facet(yL),e=dR.get(t);return e||dR.set(t,e=kG(t.reduce((i,n)=>i.concat(n),[]))),e}let na=null;const vG=4e3;function kG(r,t=bG){let e=Object.create(null),i=Object.create(null),n=(l,o)=>{let a=i[l];if(a==null)i[l]=o;else if(a!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,o,a,f)=>{let c=e[l]||(e[l]=Object.create(null)),p=o.split(/ (?!$)/).map(y=>xG(y,t));for(let y=1;y<p.length;y++){let S=p.slice(0,y).join(" ");n(S,!0),c[S]||(c[S]={preventDefault:!0,commands:[w=>{let v=na={view:w,prefix:S,scope:l};return setTimeout(()=>{na==v&&(na=null)},vG),!0}]})}let m=p.join(" ");n(m,!1);let O=c[m]||(c[m]={preventDefault:!1,commands:[]});O.commands.push(a),f&&(O.preventDefault=!0)};for(let l of r){let o=l[t]||l.key;if(o)for(let a of l.scope?l.scope.split(" "):["editor"])s(a,o,l.run,l.preventDefault),l.shift&&s(a,"Shift-"+o,l.shift,l.preventDefault)}return e}function $G(r,t,e,i){let n=o4(t),s=n.length==1&&n!=" ",l="",o=!1;na&&na.view==e&&na.scope==i&&(l=na.prefix+" ",(o=oL.indexOf(t.keyCode)<0)&&(na=null));let a=p=>{if(p){for(let m of p.commands)if(m(e))return!0;p.preventDefault&&(o=!0)}return!1},f=r[i],c;if(f){if(a(f[l+Hx(n,t,!s)]))return!0;if(s&&(t.shiftKey||t.altKey||t.metaKey)&&(c=no[t.keyCode])&&c!=n){if(a(f[l+Hx(c,t,!0)]))return!0}else if(s&&t.shiftKey&&a(f[l+Hx(n,t,!0)]))return!0}return o}const AG=!Lt.ios,CG={".cm-line":{}};AG&&(CG[".cm-line"].caretColor="transparent !important");const Ux="-10000px";class TG{constructor(t,e,i){this.facet=e,this.createTooltipView=i,this.input=t.state.facet(e),this.tooltips=this.input.filter(n=>n),this.tooltipViews=this.tooltips.map(i)}update(t){let e=t.state.facet(this.facet),i=e.filter(s=>s);if(e===this.input){for(let s of this.tooltipViews)s.update&&s.update(t);return!1}let n=[];for(let s=0;s<i.length;s++){let l=i[s],o=-1;if(l){for(let a=0;a<this.tooltips.length;a++){let f=this.tooltips[a];f&&f.create==l.create&&(o=a)}if(o<0)n[s]=this.createTooltipView(l);else{let a=n[s]=this.tooltipViews[o];a.update&&a.update(t)}}}for(let s of this.tooltipViews)n.indexOf(s)<0&&s.dom.remove();return this.input=e,this.tooltips=i,this.tooltipViews=n,!0}}function QG(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Gx=ce.define({combine:r=>{var t,e,i;return{position:Lt.ios?"absolute":((t=r.find(n=>n.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((e=r.find(n=>n.parent))===null||e===void 0?void 0:e.parent)||null,tooltipSpace:((i=r.find(n=>n.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||QG}}}),bL=Ku.fromClass(class{constructor(r){var t;this.view=r,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(Gx);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TG(r,xL,i=>this.createTooltip(i)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(t=r.dom.ownerDocument.defaultView)===null||t===void 0||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(r);t&&this.observeIntersection();let e=t||r.geometryChanged,i=r.state.facet(Gx);if(i.position!=this.position){this.position=i.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;e=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(r){let t=r.create(this.view);if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Ux,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var r,t;(r=this.view.dom.ownerDocument.defaultView)===null||r===void 0||r.removeEventListener("resize",this.measureSoon);for(let{dom:e}of this.manager.tooltipViews)e.remove();(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=this.view.dom.getBoundingClientRect();return{editor:r,parent:this.parent?this.container.getBoundingClientRect():r,pos:this.manager.tooltips.map((t,e)=>{let i=this.manager.tooltipViews[e];return i.getCoords?i.getCoords(t.pos):this.view.coordsAtPos(t.pos)}),size:this.manager.tooltipViews.map(({dom:t})=>t.getBoundingClientRect()),space:this.view.state.facet(Gx).tooltipSpace(this.view)}}writeMeasure(r){let{editor:t,space:e}=r,i=[];for(let n=0;n<this.manager.tooltips.length;n++){let s=this.manager.tooltips[n],l=this.manager.tooltipViews[n],{dom:o}=l,a=r.pos[n],f=r.size[n];if(!a||a.bottom<=Math.max(t.top,e.top)||a.top>=Math.min(t.bottom,e.bottom)||a.right<Math.max(t.left,e.left)-.1||a.left>Math.min(t.right,e.right)+.1){o.style.top=Ux;continue}let c=s.arrow?l.dom.querySelector(".cm-tooltip-arrow"):null,p=c?7:0,m=f.right-f.left,O=f.bottom-f.top,y=l.offset||MG,S=this.view.textDirection==Ji.LTR,w=f.width>e.right-e.left?S?e.left:e.right-f.width:S?Math.min(a.left-(c?14:0)+y.x,e.right-m):Math.max(e.left,a.left-m+(c?14:0)-y.x),v=!!s.above;!s.strictSide&&(v?a.top-(f.bottom-f.top)-y.y<e.top:a.bottom+(f.bottom-f.top)+y.y>e.bottom)&&v==e.bottom-a.bottom>a.top-e.top&&(v=!v);let T=v?a.top-O-p-y.y:a.bottom+p+y.y,M=w+m;if(l.overlap!==!0)for(let N of i)N.left<M&&N.right>w&&N.top<T+O&&N.bottom>T&&(T=v?N.top-O-2-p:N.bottom+p+2);this.position=="absolute"?(o.style.top=T-r.parent.top+"px",o.style.left=w-r.parent.left+"px"):(o.style.top=T+"px",o.style.left=w+"px"),c&&(c.style.left=`${a.left+(S?y.x:-y.x)-(w+14-7)}px`),l.overlap!==!0&&i.push({left:w,top:T,right:M,bottom:T+O}),o.classList.toggle("cm-tooltip-above",v),o.classList.toggle("cm-tooltip-below",!v),l.positioned&&l.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Ux}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),PG=Ke.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),MG={x:0,y:0},xL=ce.define({enables:[bL,PG]});function RG(r,t){let e=r.plugin(bL);if(!e)return null;let i=e.manager.tooltips.indexOf(t);return i<0?null:e.manager.tooltipViews[i]}class Ju extends ph{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Ju.prototype.elementClass="";Ju.prototype.toDOM=void 0;Ju.prototype.mapMode=Rn.TrackBefore;Ju.prototype.startSide=Ju.prototype.endSide=-1;Ju.prototype.point=!0;class SL{constructor(t,e,i){this.state=t,this.pos=e,this.explicit=i,this.abortListeners=[]}tokenBefore(t){let e=cr(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),i=Math.max(e.from,this.pos-250),n=e.text.slice(i-e.from,this.pos-e.from),s=n.search(wL(t,!1));return s<0?null:{from:i+s,to:this.pos,text:n.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(t,e){t=="abort"&&this.abortListeners&&this.abortListeners.push(e)}}function pR(r){let t=Object.keys(r).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function EG(r){let t=Object.create(null),e=Object.create(null);for(let{label:n}of r){t[n[0]]=!0;for(let s=1;s<n.length;s++)e[n[s]]=!0}let i=pR(t)+pR(e)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function DG(r){let t=r.map(n=>typeof n=="string"?{label:n}:n),[e,i]=t.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:EG(t);return n=>{let s=n.matchBefore(i);return s||n.explicit?{from:s?s.from:n.pos,options:t,validFor:e}:null}}class gR{constructor(t,e,i){this.completion=t,this.source=e,this.match=i}}function ga(r){return r.selection.main.head}function wL(r,t){var e;let{source:i}=r,n=t&&i[0]!="^",s=i[i.length-1]!="$";return!n&&!s?r:new RegExp(`${n?"^":""}(?:${i})${s?"$":""}`,(e=r.flags)!==null&&e!==void 0?e:r.ignoreCase?"i":"")}function BG(r,t,e,i){return Object.assign(Object.assign({},r.changeByRange(n=>{if(n==r.selection.main)return{changes:{from:e,to:i,insert:t},range:_t.cursor(e+t.length)};let s=i-e;return!n.empty||s&&r.sliceDoc(n.from-s,n.from)!=r.sliceDoc(e,i)?{range:n}:{changes:{from:n.from-s,to:n.from,insert:t},range:_t.cursor(n.from-s+t.length)}})),{userEvent:"input.complete"})}function vL(r,t){const e=t.completion.apply||t.completion.label;let i=t.source;typeof e=="string"?r.dispatch(BG(r.state,e,i.from,i.to)):e(r,t.completion,i.from,i.to)}const mR=new WeakMap;function _G(r){if(!Array.isArray(r))return r;let t=mR.get(r);return t||mR.set(r,t=DG(r)),t}class zG{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let e=0;e<t.length;){let i=Qn(t,e),n=Wr(i);this.chars.push(i);let s=t.slice(e,e+n),l=s.toUpperCase();this.folded.push(Qn(l==s?s.toLowerCase():l,0)),e+=n}this.astral=t.length!=this.chars.length}match(t){if(this.pattern.length==0)return[0];if(t.length<this.pattern.length)return null;let{chars:e,folded:i,any:n,precise:s,byWord:l}=this;if(e.length==1){let T=Qn(t,0);return T==e[0]?[0,0,Wr(T)]:T==i[0]?[-200,0,Wr(T)]:null}let o=t.indexOf(this.pattern);if(o==0)return[0,0,this.pattern.length];let a=e.length,f=0;if(o<0){for(let T=0,M=Math.min(t.length,200);T<M&&f<a;){let N=Qn(t,T);(N==e[f]||N==i[f])&&(n[f++]=T),T+=Wr(N)}if(f<a)return null}let c=0,p=0,m=!1,O=0,y=-1,S=-1,w=/[a-z]/.test(t),v=!0;for(let T=0,M=Math.min(t.length,200),N=0;T<M&&p<a;){let P=Qn(t,T);o<0&&(c<a&&P==e[c]&&(s[c++]=T),O<a&&(P==e[O]||P==i[O]?(O==0&&(y=T),S=T+1,O++):O=0));let E,A=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(E=d8(P))!=E.toLowerCase()?1:E!=E.toUpperCase()?2:0;(!T||A==1&&w||N==0&&A!=0)&&(e[p]==P||i[p]==P&&(m=!0)?l[p++]=T:l.length&&(v=!1)),N=A,T+=Wr(P)}return p==a&&l[0]==0&&v?this.result(-100+(m?-200:0),l,t):O==a&&y==0?[-200-t.length,0,S]:o>-1?[-700-t.length,o,o+this.pattern.length]:O==a?[-900-t.length,y,S]:p==a?this.result(-100+(m?-200:0)+-700+(v?0:-1100),l,t):e.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,t)}result(t,e,i){let n=[t-i.length],s=1;for(let l of e){let o=l+(this.astral?Wr(Qn(i,l)):1);s>1&&n[s-1]==l?n[s-1]=o:(n[s++]=l,n[s++]=o)}return n}}const xa=ce.define({combine(r){return oU(r,{activateOnTyping:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,optionClass:(t,e)=>i=>NG(t(i),e(i)),addToOptions:(t,e)=>t.concat(e)})}});function NG(r,t){return r?t?r+" "+t:r:t}function LG(r){let t=r.addToOptions.slice();return r.icons&&t.push({render(e){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),e.type&&i.classList.add(...e.type.split(/\s+/g).map(n=>"cm-completionIcon-"+n)),i.setAttribute("aria-hidden","true"),i},position:20}),t.push({render(e,i,n){let s=document.createElement("span");s.className="cm-completionLabel";let{label:l}=e,o=0;for(let a=1;a<n.length;){let f=n[a++],c=n[a++];f>o&&s.appendChild(document.createTextNode(l.slice(o,f)));let p=s.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(l.slice(f,c))),p.className="cm-completionMatchedText",o=c}return o<l.length&&s.appendChild(document.createTextNode(l.slice(o))),s},position:50},{render(e){if(!e.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=e.detail,i},position:80}),t.sort((e,i)=>e.position-i.position).map(e=>e.render)}function OR(r,t,e){if(r<=e)return{from:0,to:r};if(t<=r>>1){let n=Math.floor(t/e);return{from:n*e,to:(n+1)*e}}let i=Math.floor((r-t)/e);return{from:r-(i+1)*e,to:r-i*e}}class ZG{constructor(t,e){this.view=t,this.stateField=e,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:o=>this.positionInfo(o),key:this};let i=t.state.field(e),{options:n,selected:s}=i.open,l=t.state.facet(xa);this.optionContent=LG(l),this.optionClass=l.optionClass,this.range=OR(n.length,s,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",o=>{for(let a=o.target,f;a&&a!=this.dom;a=a.parentNode)if(a.nodeName=="LI"&&(f=/-(\d+)$/.exec(a.id))&&+f[1]<n.length){vL(t,n[+f[1]]),o.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(n,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=OR(e.options.length,e.selected,this.view.state.facet(xa).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e.options,t.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(e.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=e.options[e.selected],{info:n}=i;if(!n)return;let s=typeof n=="string"?document.createTextNode(n):n(i);if(!s)return;"then"in s?s.then(l=>{l&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(l)}).catch(l=>nl(this.view.state,l,"completion info")):this.addInfoPane(s)}}addInfoPane(t){let e=this.info=document.createElement("div");e.className="cm-tooltip cm-completionInfo",e.appendChild(t),this.dom.appendChild(e),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(t){let e=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)n==t?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),e=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return e&&XG(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=t.getBoundingClientRect();if(n.top>Math.min(innerHeight,e.bottom)-10||n.bottom<Math.max(0,e.top)+10)return null;let s=Math.max(0,Math.min(n.top,innerHeight-i.height))-e.top,l=this.view.textDirection==Ji.RTL,o=e.left,a=innerWidth-e.right;return l&&o<Math.min(i.width,a)?l=!1:!l&&a<Math.min(i.width,o)&&(l=!0),{top:s,left:l}}positionInfo(t){this.info&&(this.info.style.top=(t?t.top:-1e6)+"px",t&&(this.info.classList.toggle("cm-completionInfo-left",t.left),this.info.classList.toggle("cm-completionInfo-right",!t.left)))}createListBox(t,e,i){const n=document.createElement("ul");n.id=e,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let s=i.from;s<i.to;s++){let{completion:l,match:o}=t[s];const a=n.appendChild(document.createElement("li"));a.id=e+"-"+s,a.setAttribute("role","option");let f=this.optionClass(l);f&&(a.className=f);for(let c of this.optionContent){let p=c(l,this.view.state,o);p&&a.appendChild(p)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<t.length&&n.classList.add("cm-completionListIncompleteBottom"),n}}function VG(r){return t=>new ZG(t,r)}function XG(r,t){let e=r.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<e.top?r.scrollTop-=e.top-i.top:i.bottom>e.bottom&&(r.scrollTop+=i.bottom-e.bottom)}function yR(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function IG(r,t){let e=[],i=0;for(let l of r)if(l.hasResult())if(l.result.filter===!1){let o=l.result.getMatch;for(let a of l.result.options){let f=[1e9-i++];if(o)for(let c of o(a))f.push(c);e.push(new gR(a,l,f))}}else{let o=new zG(t.sliceDoc(l.from,l.to)),a;for(let f of l.result.options)(a=o.match(f.label))&&(f.boost!=null&&(a[0]+=f.boost),e.push(new gR(f,l,a)))}let n=[],s=null;for(let l of e.sort(YG))!s||s.label!=l.completion.label||s.detail!=l.completion.detail||s.type!=null&&l.completion.type!=null&&s.type!=l.completion.type||s.apply!=l.completion.apply?n.push(l):yR(l.completion)>yR(s)&&(n[n.length-1]=l),s=l.completion;return n}class Qd{constructor(t,e,i,n,s){this.options=t,this.attrs=e,this.tooltip=i,this.timestamp=n,this.selected=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Qd(this.options,bR(e,t),this.tooltip,this.timestamp,t)}static build(t,e,i,n,s){let l=IG(t,e);if(!l.length)return null;let o=0;if(n&&n.selected){let a=n.options[n.selected].completion;for(let f=0;f<l.length;f++)if(l[f].completion==a){o=f;break}}return new Qd(l,bR(i,o),{pos:t.reduce((a,f)=>f.hasResult()?Math.min(a,f.from):a,1e8),create:VG(Ar),above:s.aboveCursor},n?n.timestamp:Date.now(),o)}map(t){return new Qd(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class XO{constructor(t,e,i){this.active=t,this.id=e,this.open=i}static start(){return new XO(WG,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:e}=t,i=e.facet(xa),s=(i.override||e.languageDataAt("autocomplete",ga(e)).map(_G)).map(o=>(this.active.find(f=>f.source==o)||new Pn(o,this.active.some(f=>f.state!=0)?1:0)).update(t,i));s.length==this.active.length&&s.every((o,a)=>o==this.active[a])&&(s=this.active);let l=t.selection||s.some(o=>o.hasResult()&&t.changes.touchesRange(o.from,o.to))||!jG(s,this.active)?Qd.build(s,e,this.id,this.open,i):this.open&&t.docChanged?this.open.map(t.changes):this.open;!l&&s.every(o=>o.state!=1)&&s.some(o=>o.hasResult())&&(s=s.map(o=>o.hasResult()?new Pn(o.source,0):o));for(let o of t.effects)o.is($L)&&(l=l&&l.setSelected(o.value,this.id));return s==this.active&&l==this.open?this:new XO(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:qG}}function jG(r,t){if(r==t)return!0;for(let e=0,i=0;;){for(;e<r.length&&!r[e].hasResult;)e++;for(;i<t.length&&!t[i].hasResult;)i++;let n=e==r.length,s=i==t.length;if(n||s)return n==s;if(r[e++].result!=t[i++].result)return!1}}const qG={"aria-autocomplete":"list"};function bR(r,t){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":r+"-"+t,"aria-controls":r}}const WG=[];function YG(r,t){let e=t.match[0]-r.match[0];return e||r.completion.label.localeCompare(t.completion.label)}function zk(r){return r.isUserEvent("input.type")?"input":r.isUserEvent("delete.backward")?"delete":null}class Pn{constructor(t,e,i=-1){this.source=t,this.state=e,this.explicitPos=i}hasResult(){return!1}update(t,e){let i=zk(t),n=this;i?n=n.handleUserEvent(t,i,e):t.docChanged?n=n.handleChange(t):t.selection&&n.state!=0&&(n=new Pn(n.source,0));for(let s of t.effects)if(s.is(X$))n=new Pn(n.source,1,s.value?ga(t.state):-1);else if(s.is(IO))n=new Pn(n.source,0);else if(s.is(kL))for(let l of s.value)l.source==n.source&&(n=l);return n}handleUserEvent(t,e,i){return e=="delete"||!i.activateOnTyping?this.map(t.changes):new Pn(this.source,1)}handleChange(t){return t.changes.touchesRange(ga(t.startState))?new Pn(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Pn(this.source,this.state,t.mapPos(this.explicitPos))}}class Pd extends Pn{constructor(t,e,i,n,s){super(t,2,e),this.result=i,this.from=n,this.to=s}hasResult(){return!0}handleUserEvent(t,e,i){var n;let s=t.changes.mapPos(this.from),l=t.changes.mapPos(this.to,1),o=ga(t.state);if((this.explicitPos<0?o<=s:o<this.from)||o>l||e=="delete"&&ga(t.startState)==this.from)return new Pn(this.source,e=="input"&&i.activateOnTyping?1:0);let a=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos),f;return HG(this.result.validFor,t.state,s,l)?new Pd(this.source,a,this.result,s,l):this.result.update&&(f=this.result.update(this.result,s,l,new SL(t.state,o,a>=0)))?new Pd(this.source,a,f,f.from,(n=f.to)!==null&&n!==void 0?n:ga(t.state)):new Pn(this.source,1,a)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Pn(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new Pd(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1))}}function HG(r,t,e,i){if(!r)return!1;let n=t.sliceDoc(e,i);return typeof r=="function"?r(n,e,i,t):wL(r,!0).test(n)}const X$=ai.define(),IO=ai.define(),kL=ai.define({map(r,t){return r.map(e=>e.map(t))}}),$L=ai.define(),Ar=$a.define({create(){return XO.start()},update(r,t){return r.update(t)},provide:r=>[xL.from(r,t=>t.tooltip),Ke.contentAttributes.from(r,t=>t.attrs)]}),AL=75;function Em(r,t="option"){return e=>{let i=e.state.field(Ar,!1);if(!i||!i.open||Date.now()-i.open.timestamp<AL)return!1;let n=1,s;t=="page"&&(s=RG(e,i.open.tooltip))&&(n=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let l=i.open.selected+n*(r?1:-1),{length:o}=i.open.options;return l<0?l=t=="page"?0:o-1:l>=o&&(l=t=="page"?o-1:0),e.dispatch({effects:$L.of(l)}),!0}}const UG=r=>{let t=r.state.field(Ar,!1);return r.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<AL?!1:(vL(r,t.open.options[t.open.selected]),!0)},GG=r=>r.state.field(Ar,!1)?(r.dispatch({effects:X$.of(!0)}),!0):!1,FG=r=>{let t=r.state.field(Ar,!1);return!t||!t.active.some(e=>e.state!=0)?!1:(r.dispatch({effects:IO.of(null)}),!0)};class KG{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const xR=50,JG=50,tF=1e3,eF=Ku.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of r.state.field(Ar).active)t.state==1&&this.startQuery(t)}update(r){let t=r.state.field(Ar);if(!r.selectionSet&&!r.docChanged&&r.startState.field(Ar)==t)return;let e=r.transactions.some(i=>(i.selection||i.docChanged)&&!zk(i));for(let i=0;i<this.running.length;i++){let n=this.running[i];if(e||n.updates.length+r.transactions.length>JG&&Date.now()-n.time>tF){for(let s of n.context.abortListeners)try{s()}catch(l){nl(this.view.state,l)}n.context.abortListeners=null,this.running.splice(i--,1)}else n.updates.push(...r.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some(i=>i.state==1&&!this.running.some(n=>n.active.source==i.source))?setTimeout(()=>this.startUpdate(),xR):-1,this.composing!=0)for(let i of r.transactions)zk(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:r}=this.view,t=r.field(Ar);for(let e of t.active)e.state==1&&!this.running.some(i=>i.active.source==e.source)&&this.startQuery(e)}startQuery(r){let{state:t}=this.view,e=ga(t),i=new SL(t,e,r.explicitPos==e),n=new KG(r,i);this.running.push(n),Promise.resolve(r.source(i)).then(s=>{n.context.aborted||(n.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:IO.of(null)}),nl(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),xR))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(xa);for(let i=0;i<this.running.length;i++){let n=this.running[i];if(n.done===void 0)continue;if(this.running.splice(i--,1),n.done){let l=new Pd(n.active.source,n.active.explicitPos,n.done,n.done.from,(r=n.done.to)!==null&&r!==void 0?r:ga(n.updates.length?n.updates[0].startState:this.view.state));for(let o of n.updates)l=l.update(o,e);if(l.hasResult()){t.push(l);continue}}let s=this.view.state.field(Ar).active.find(l=>l.source==n.active.source);if(s&&s.state==1)if(n.done==null){let l=new Pn(n.active.source,0);for(let o of n.updates)l=l.update(o,e);l.state!=1&&t.push(l)}else this.startQuery(s)}t.length&&this.view.dispatch({effects:kL.of(t)})}},{eventHandlers:{blur(){let r=this.view.state.field(Ar,!1);r&&r.tooltip&&this.view.state.facet(xa).closeOnBlur&&this.view.dispatch({effects:IO.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:X$.of(!1)}),20),this.composing=0}}}),iF=Ke.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),jO={brackets:["(","[","{","'",'"'],before:")]}:;>"},lh=ai.define({map(r,t){let e=t.mapPos(r,-1,Rn.TrackAfter);return e??void 0}}),I$=ai.define({map(r,t){return t.mapPos(r)}}),j$=new class extends ph{};j$.startSide=1;j$.endSide=-1;const CL=$a.define({create(){return pi.empty},update(r,t){if(t.selection){let e=t.state.doc.lineAt(t.selection.main.head).from,i=t.startState.doc.lineAt(t.startState.selection.main.head).from;e!=t.changes.mapPos(i,-1)&&(r=pi.empty)}r=r.map(t.changes);for(let e of t.effects)e.is(lh)?r=r.update({add:[j$.range(e.value,e.value+1)]}):e.is(I$)&&(r=r.update({filter:i=>i!=e.value}));return r}});function nF(){return[sF,CL]}const Fx="()[]{}<>";function TL(r){for(let t=0;t<Fx.length;t+=2)if(Fx.charCodeAt(t)==r)return Fx.charAt(t+1);return d8(r<128?r:r+1)}function QL(r,t){return r.languageDataAt("closeBrackets",t)[0]||jO}const rF=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),sF=Ke.inputHandler.of((r,t,e,i)=>{if((rF?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let n=r.state.selection.main;if(i.length>2||i.length==2&&Wr(Qn(i,0))==1||t!=n.from||e!=n.to)return!1;let s=aF(r.state,i);return s?(r.dispatch(s),!0):!1}),lF=({state:r,dispatch:t})=>{if(r.readOnly)return!1;let i=QL(r,r.selection.main.head).brackets||jO.brackets,n=null,s=r.changeByRange(l=>{if(l.empty){let o=hF(r.doc,l.head);for(let a of i)if(a==o&&E1(r.doc,l.head)==TL(Qn(a,0)))return{changes:{from:l.head-a.length,to:l.head+a.length},range:_t.cursor(l.head-a.length),userEvent:"delete.backward"}}return{range:n=l}});return n||t(r.update(s,{scrollIntoView:!0})),!n},oF=[{key:"Backspace",run:lF}];function aF(r,t){let e=QL(r,r.selection.main.head),i=e.brackets||jO.brackets;for(let n of i){let s=TL(Qn(n,0));if(t==n)return s==n?cF(r,n,i.indexOf(n+n+n)>-1):uF(r,n,s,e.before||jO.before);if(t==s&&PL(r,r.selection.main.from))return fF(r,n,s)}return null}function PL(r,t){let e=!1;return r.field(CL).between(0,r.doc.length,i=>{i==t&&(e=!0)}),e}function E1(r,t){let e=r.sliceString(t,t+2);return e.slice(0,Wr(Qn(e,0)))}function hF(r,t){let e=r.sliceString(t-2,t);return Wr(Qn(e,0))==e.length?e:e.slice(1)}function uF(r,t,e,i){let n=null,s=r.changeByRange(l=>{if(!l.empty)return{changes:[{insert:t,from:l.from},{insert:e,from:l.to}],effects:lh.of(l.to+t.length),range:_t.range(l.anchor+t.length,l.head+t.length)};let o=E1(r.doc,l.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:t+e,from:l.head},effects:lh.of(l.head+t.length),range:_t.cursor(l.head+t.length)}:{range:n=l}});return n?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function fF(r,t,e){let i=null,n=r.selection.ranges.map(s=>s.empty&&E1(r.doc,s.head)==e?_t.cursor(s.head+e.length):i=s);return i?null:r.update({selection:_t.create(n,r.selection.mainIndex),scrollIntoView:!0,effects:r.selection.ranges.map(({from:s})=>I$.of(s))})}function cF(r,t,e){let i=null,n=r.changeByRange(s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:t,from:s.to}],effects:lh.of(s.to+t.length),range:_t.range(s.anchor+t.length,s.head+t.length)};let l=s.head,o=E1(r.doc,l);if(o==t){if(SR(r,l))return{changes:{insert:t+t,from:l},effects:lh.of(l+t.length),range:_t.cursor(l+t.length)};if(PL(r,l)){let a=e&&r.sliceDoc(l,l+t.length*3)==t+t+t;return{range:_t.cursor(l+t.length*(a?3:1)),effects:I$.of(l)}}}else{if(e&&r.sliceDoc(l-2*t.length,l)==t+t&&SR(r,l-2*t.length))return{changes:{insert:t+t+t+t,from:l},effects:lh.of(l+t.length),range:_t.cursor(l+t.length)};if(r.charCategorizer(l)(o)!=Kr.Word){let a=r.sliceDoc(l-1,l);if(a!=t&&r.charCategorizer(l)(a)!=Kr.Word&&!dF(r,l,t))return{changes:{insert:t+t,from:l},effects:lh.of(l+t.length),range:_t.cursor(l+t.length)}}}return{range:i=s}});return i?null:r.update(n,{scrollIntoView:!0,userEvent:"input.type"})}function SR(r,t){let e=cr(r).resolveInner(t+1);return e.parent&&e.from==t}function dF(r,t,e){let i=cr(r).resolveInner(t,-1);for(let n=0;n<5;n++){if(r.sliceDoc(i.from,i.from+e.length)==e)return!0;let s=i.to==t&&i.parent;if(!s)break;i=s}return!1}function pF(r={}){return[Ar,xa.of(r),eF,gF,iF]}const ML=[{key:"Ctrl-Space",run:GG},{key:"Escape",run:FG},{key:"ArrowDown",run:Em(!0)},{key:"ArrowUp",run:Em(!1)},{key:"PageDown",run:Em(!0,"page")},{key:"PageUp",run:Em(!1,"page")},{key:"Enter",run:UG}],gF=m8.highest(yL.computeN([xa],r=>r.facet(xa).defaultKeymap?[ML]:[])),mF=1024;let OF=0,Kx=class{constructor(t,e){this.from=t,this.to=e}},Ve=class{constructor(t={}){this.id=OF++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=hl.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}};Ve.closedBy=new Ve({deserialize:r=>r.split(" ")});Ve.openedBy=new Ve({deserialize:r=>r.split(" ")});Ve.group=new Ve({deserialize:r=>r.split(" ")});Ve.isolate=new Ve({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Ve.contextHash=new Ve({perNode:!0});Ve.lookAhead=new Ve({perNode:!0});Ve.mounted=new Ve({perNode:!0});let Md=class{constructor(t,e,i,n=!1){this.tree=t,this.overlay=e,this.parser=i,this.bracketed=n}static get(t){return t&&t.props&&t.props[Ve.mounted.id]}};const yF=Object.create(null);let hl=class RL{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):yF,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new RL(t.name||"",e,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Ve.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return i=>{for(let n=i.prop(Ve.group),s=-1;s<(n?n.length:0);s++){let l=e[s<0?i.name:n[s]];if(l)return l}}}};hl.none=new hl("",Object.create(null),0,8);const Dm=new WeakMap,wR=new WeakMap;var xi;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays",r[r.EnterBracketed=16]="EnterBracketed"})(xi||(xi={}));let _n=class Nk{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let t=Md.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let n=i.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Vk(this.topNode,t)}cursorAt(t,e=0,i=0){let n=Dm.get(this)||this.topNode,s=new Vk(n);return s.moveTo(t,e),Dm.set(this,s._tree),s}get topNode(){return new Sa(this,0,0,null)}resolve(t,e=0){let i=up(Dm.get(this)||this.topNode,t,e,!1);return Dm.set(this,i),i}resolveInner(t,e=0){let i=up(wR.get(this)||this.topNode,t,e,!0);return wR.set(this,i),i}resolveStack(t,e=0){return wF(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t,l=t.mode||0,o=(l&xi.IncludeAnonymous)>0;for(let a=this.cursor(l|xi.IncludeAnonymous);;){let f=!1;if(a.from<=s&&a.to>=n&&(!o&&a.type.isAnonymous||e(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:W$(hl.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,n)=>new Nk(this.type,e,i,n,this.propValues),t.makeTree||((e,i,n)=>new Nk(hl.none,e,i,n)))}static build(t){return vF(t)}};_n.empty=new _n(hl.none,[],[],0);let bF=class EL{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new EL(this.buffer,this.index)}},tf=class DL{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return hl.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let l=[];for(;t<i;)l.push(this.childString(t)),t=this.buffer[t+3];return s+"("+l.join(",")+")"}findChild(t,e,i,n,s){let{buffer:l}=this,o=-1;for(let a=t;a!=e&&!(BL(s,n,l[a+1],l[a+2])&&(o=a,i>0));a=l[a+3]);return o}slice(t,e,i){let n=this.buffer,s=new Uint16Array(e-t),l=0;for(let o=t,a=0;o<e;){s[a++]=n[o++],s[a++]=n[o++]-i;let f=s[a++]=n[o++]-i;s[a++]=n[o++]-t,l=Math.max(l,f)}return new DL(s,l,this.set)}};function BL(r,t,e,i){switch(r){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function up(r,t,e,i){for(var n;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let l=!i&&r instanceof Sa&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=i?0:xi.IgnoreOverlays;if(i)for(let l=r,o=l.parent;o;l=o,o=l.parent)l instanceof Sa&&l.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=l.from&&(r=o);for(;;){let l=r.enter(t,e,s);if(!l)return r;r=l}}let _L=class{cursor(t=0){return new Vk(this,t)}getChild(t,e=null,i=null){let n=vR(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return vR(this,t,e,i)}resolve(t,e=0){return up(this,t,e,!1)}resolveInner(t,e=0){return up(this,t,e,!0)}matchContext(t){return Lk(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let n=e.lastChild;if(!n||n.to!=e.to)break;n.type.isError&&n.from==n.to?(i=e,e=n.prevSibling):e=n}return i}get node(){return this}get next(){return this.parent}},Sa=class I0 extends _L{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,s=0){for(let l=this;;){for(let{children:o,positions:a}=l._tree,f=e>0?o.length:-1;t!=f;t+=e){let c=o[t],p=a[t]+l.from,m;if(!(!(s&xi.EnterBracketed&&c instanceof _n&&(m=Md.get(c))&&!m.overlay&&m.bracketed&&i>=p&&i<=p+c.length)&&!BL(n,i,p,p+c.length))){if(c instanceof tf){if(s&xi.ExcludeBuffers)continue;let O=c.findChild(0,c.buffer.length,e,i-p,n);if(O>-1)return new Zk(new xF(l,c,t,p),null,O)}else if(s&xi.IncludeAnonymous||!c.type.isAnonymous||q$(c)){let O;if(!(s&xi.IgnoreMounts)&&(O=Md.get(c))&&!O.overlay)return new I0(O.tree,p,t,l);let y=new I0(c,p,t,l);return s&xi.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(e<0?c.children.length-1:0,e,i,n,s)}}}if(s&xi.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?t=l.index+e:t=e<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,i=0){let n;if(!(i&xi.IgnoreOverlays)&&(n=Md.get(this._tree))&&n.overlay){let s=t-this.from,l=i&xi.EnterBracketed&&n.bracketed;for(let{from:o,to:a}of n.overlay)if((e>0||l?o<=s:o<s)&&(e<0||l?a>=s:a>s))return new I0(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function vR(r,t,e,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(let l=!1;!l;)if(l=n.type.is(e),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function Lk(r,t,e=t.length-1){for(let i=r;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}let xF=class{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}},Zk=class ed extends _L{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new ed(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,i=0){if(i&xi.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new ed(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new ed(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new ed(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let l=i.buffer[this.index+1];t.push(i.slice(n,s,l)),e.push(0)}return new _n(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function zL(r){if(!r.length)return null;let t=0,e=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>e.from||l.to<e.to)&&(e=l,t=s)}let i=e instanceof Sa&&e.index<0?null:e.parent,n=r.slice();return i?n[t]=i:n.splice(t,1),new SF(n,e)}let SF=class{constructor(t,e){this.heads=t,this.node=e}get next(){return zL(this.heads)}};function wF(r,t,e){let i=r.resolveInner(t,e),n=null;for(let s=i instanceof Sa?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(n||(n=[i])).push(l.resolve(t,e)),s=l}else{let l=Md.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=t&&l.overlay[l.overlay.length-1].to>=t){let o=new Sa(l.tree,l.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(up(o,t,e,!1))}}return n?zL(n):i}let Vk=class{get name(){return this.type.name}constructor(t,e=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=e&~xi.EnterBracketed,t instanceof Sa)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return t?t instanceof Sa?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&xi.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&xi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&xi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let s=e+t,l=t<0?-1:i._tree.children.length;s!=l;s+=t){let o=i._tree.children[s];if(this.mode&xi.IncludeAnonymous||o instanceof tf||!o.type.isAnonymous||q$(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let l=t;l;l=l._parent)if(l.index==n){if(n==this.index)return l;e=l,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new Zk(this.buffer,e,this.stack[n]);return this.bufferNode=new Zk(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return Lk(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return Lk(this._tree,t,n);let l=i[e.buffer[this.stack[s]]];if(!l.isAnonymous){if(t[n]&&t[n]!=l.name)return!1;n--}}return!0}};function q$(r){return r.children.some(t=>t instanceof tf||!t.type.isAnonymous||q$(t))}function vF(r){var t;let{buffer:e,nodeSet:i,maxBufferLength:n=mF,reused:s=[],minRepeatType:l=i.types.length}=r,o=Array.isArray(e)?new bF(e,e.length):e,a=i.types,f=0,c=0;function p(P,E,A,V,D,Z){let{id:z,start:k,end:L,size:$}=o,j=c,W=f;if($<0)if(o.next(),$==-1){let R=s[z];A.push(R),V.push(k-P);return}else if($==-3){f=z;return}else if($==-4){c=z;return}else throw new RangeError(`Unrecognized record size: ${$}`);let X=a[z],st,F,pt=k-P;if(L-k<=n&&(F=w(o.pos-E,D))){let R=new Uint16Array(F.size-F.skip),B=o.pos-F.size,H=R.length;for(;o.pos>B;)H=v(F.start,R,H);st=new tf(R,L-F.start,i),pt=F.start-P}else{let R=o.pos-$;o.next();let B=[],H=[],G=z>=l?z:-1,tt=0,mt=L;for(;o.pos>R;)G>=0&&o.id==G&&o.size>=0?(o.end<=mt-n&&(y(B,H,k,tt,o.end,mt,G,j,W),tt=B.length,mt=o.end),o.next()):Z>2500?m(k,R,B,H):p(k,R,B,H,G,Z+1);if(G>=0&&tt>0&&tt<B.length&&y(B,H,k,tt,k,mt,G,j,W),B.reverse(),H.reverse(),G>-1&&tt>0){let Rt=O(X,W);st=W$(X,B,H,0,B.length,0,L-k,Rt,Rt)}else st=S(X,B,H,L-k,j-L,W)}A.push(st),V.push(pt)}function m(P,E,A,V){let D=[],Z=0,z=-1;for(;o.pos>E;){let{id:k,start:L,end:$,size:j}=o;if(j>4)o.next();else{if(z>-1&&L<z)break;z<0&&(z=$-n),D.push(k,L,$),Z++,o.next()}}if(Z){let k=new Uint16Array(Z*4),L=D[D.length-2];for(let $=D.length-3,j=0;$>=0;$-=3)k[j++]=D[$],k[j++]=D[$+1]-L,k[j++]=D[$+2]-L,k[j++]=j;A.push(new tf(k,D[2]-L,i)),V.push(L-P)}}function O(P,E){return(A,V,D)=>{let Z=0,z=A.length-1,k,L;if(z>=0&&(k=A[z])instanceof _n){if(!z&&k.type==P&&k.length==D)return k;(L=k.prop(Ve.lookAhead))&&(Z=V[z]+k.length+L)}return S(P,A,V,D,Z,E)}}function y(P,E,A,V,D,Z,z,k,L){let $=[],j=[];for(;P.length>V;)$.push(P.pop()),j.push(E.pop()+A-D);P.push(S(i.types[z],$,j,Z-D,k-Z,L)),E.push(D-A)}function S(P,E,A,V,D,Z,z){if(Z){let k=[Ve.contextHash,Z];z=z?[k].concat(z):[k]}if(D>25){let k=[Ve.lookAhead,D];z=z?[k].concat(z):[k]}return new _n(P,E,A,V,z)}function w(P,E){let A=o.fork(),V=0,D=0,Z=0,z=A.end-n,k={size:0,start:0,skip:0};t:for(let L=A.pos-P;A.pos>L;){let $=A.size;if(A.id==E&&$>=0){k.size=V,k.start=D,k.skip=Z,Z+=4,V+=4,A.next();continue}let j=A.pos-$;if($<0||j<L||A.start<z)break;let W=A.id>=l?4:0,X=A.start;for(A.next();A.pos>j;){if(A.size<0)if(A.size==-3||A.size==-4)W+=4;else break t;else A.id>=l&&(W+=4);A.next()}D=X,V+=$,Z+=W}return(E<0||V==P)&&(k.size=V,k.start=D,k.skip=Z),k.size>4?k:void 0}function v(P,E,A){let{id:V,start:D,end:Z,size:z}=o;if(o.next(),z>=0&&V<l){let k=A;if(z>4){let L=o.pos-(z-4);for(;o.pos>L;)A=v(P,E,A)}E[--A]=k,E[--A]=Z-P,E[--A]=D-P,E[--A]=V}else z==-3?f=V:z==-4&&(c=V);return A}let T=[],M=[];for(;o.pos>0;)p(r.start||0,r.bufferStart||0,T,M,-1,0);let N=(t=r.length)!==null&&t!==void 0?t:T.length?M[0]+T[0].length:0;return new _n(a[r.topID],T.reverse(),M.reverse(),N)}const kR=new WeakMap;function j0(r,t){if(!r.isAnonymous||t instanceof tf||t.type!=r)return 1;let e=kR.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=r||!(i instanceof _n)){e=1;break}e+=j0(r,i)}kR.set(t,e)}return e}function W$(r,t,e,i,n,s,l,o,a){let f=0;for(let y=i;y<n;y++)f+=j0(r,t[y]);let c=Math.ceil(f*1.5/8),p=[],m=[];function O(y,S,w,v,T){for(let M=w;M<v;){let N=M,P=S[M],E=j0(r,y[M]);for(M++;M<v;M++){let A=j0(r,y[M]);if(E+A>=c)break;E+=A}if(M==N+1){if(E>c){let A=y[N];O(A.children,A.positions,0,A.children.length,S[N]+T);continue}p.push(y[N])}else{let A=S[M-1]+y[M-1].length-P;p.push(W$(r,y,S,N,M,P,A,null,a))}m.push(P+T-s)}}return O(t,e,i,n,0),(o||a)(p,m,l)}let q0=class Xk{constructor(t,e,i,n,s=!1,l=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let n=[new Xk(0,t.length,t,0,!1,i)];for(let s of e)s.to>t.length&&n.push(s);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],s=1,l=t.length?t[0]:null;for(let o=0,a=0,f=0;;o++){let c=o<e.length?e[o]:null,p=c?c.fromA:1e9;if(p-a>=i)for(;l&&l.from<p;){let m=l;if(a>=m.from||p<=m.to||f){let O=Math.max(m.from,a)-f,y=Math.min(m.to,p)-f;m=O>=y?null:new Xk(O,y,m.tree,m.offset+f,o>0,!!c)}if(m&&n.push(m),l.to>p)break;l=s<t.length?t[s++]:null}if(!c)break;a=c.toA,f=c.toA-c.toB}return n}},kF=class{startParse(t,e,i){return typeof t=="string"&&(t=new $F(t)),i=i?i.length?i.map(n=>new Kx(n.from,n.to)):[new Kx(0,0)]:[new Kx(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let s=n.advance();if(s)return s}}},$F=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};new Ve({perNode:!0});let AF=0,Nl=class Ik{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=AF++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof Ik&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let n=new Ik(i,[],null,[]);if(n.set.push(n),e)for(let s of e.set)n.set.push(s);return n}static defineModifier(t){let e=new $R(t);return i=>i.modified.indexOf(e)>-1?i:$R.get(i.base||i,i.modified.concat(e).sort((n,s)=>n.id-s.id))}},CF=0,$R=class NL{constructor(t){this.name=t,this.instances=[],this.id=CF++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(o=>o.base==t&&TF(e,o.modified));if(i)return i;let n=[],s=new Nl(t.name,n,t,e);for(let o of e)o.instances.push(s);let l=QF(e);for(let o of t.set)if(!o.modified.length)for(let a of l)n.push(NL.get(o,a));return s}};function TF(r,t){return r.length==t.length&&r.every((e,i)=>e==t[i])}function QF(r){let t=[[]];for(let e=0;e<r.length;e++)for(let i=0,n=t.length;i<n;i++)t.push(t[i].concat(r[e]));return t.sort((e,i)=>i.length-e.length)}function PF(r){let t=Object.create(null);for(let e in r){let i=r[e];Array.isArray(i)||(i=[i]);for(let n of e.split(" "))if(n){let s=[],l=2,o=n;for(let p=0;;){if(o=="..."&&p>0&&p+3==n.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==n.length)break;let O=n[p++];if(p==n.length&&O=="!"){l=0;break}if(O!="/")throw new RangeError("Invalid path: "+n);o=n.slice(p)}let a=s.length-1,f=s[a];if(!f)throw new RangeError("Invalid path: "+n);let c=new fp(i,l,a>0?s.slice(0,a):null);t[f]=c.sort(t[f])}}return LL.add(t)}const LL=new Ve({combine(r,t){let e,i,n;for(;r||t;){if(!r||t&&r.depth>=t.depth?(n=t,t=t.next):(n=r,r=r.next),e&&e.mode==n.mode&&!n.context&&!e.context)continue;let s=new fp(n.tags,n.mode,n.context);e?e.next=s:i=s,e=s}return i}});let fp=class{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};fp.empty=new fp([],2,null);function ZL(r,t){let e=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let l of s.tag)e[l.id]=s.class;let{scope:i,all:n=null}=t||{};return{style:s=>{let l=n;for(let o of s)for(let a of o.set){let f=e[a.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}function MF(r,t){let e=null;for(let i of r){let n=i.style(t);n&&(e=e?e+" "+n:n)}return e}function RF(r,t,e,i=0,n=r.length){let s=new EF(i,Array.isArray(t)?t:[t],e);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}class EF{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,n,s){let{type:l,from:o,to:a}=t;if(o>=i||a<=e)return;l.isTop&&(s=this.highlighters.filter(O=>!O.scope||O.scope(l)));let f=n,c=DF(t)||fp.empty,p=MF(s,c.tags);if(p&&(f&&(f+=" "),f+=p,c.mode==1&&(n+=(n?" ":"")+p)),this.startSpan(Math.max(e,o),f),c.opaque)return;let m=t.tree&&t.tree.prop(Ve.mounted);if(m&&m.overlay){let O=t.node.enter(m.overlay[0].from+o,1),y=this.highlighters.filter(w=>!w.scope||w.scope(m.tree.type)),S=t.firstChild();for(let w=0,v=o;;w++){let T=w<m.overlay.length?m.overlay[w]:null,M=T?T.from+o:a,N=Math.max(e,v),P=Math.min(i,M);if(N<P&&S)for(;t.from<P&&(this.highlightRange(t,N,P,n,s),this.startSpan(Math.min(P,t.to),f),!(t.to>=M||!t.nextSibling())););if(!T||M>i)break;v=T.to+o,v>e&&(this.highlightRange(O.cursor(),Math.max(e,T.from+o),Math.min(i,v),"",y),this.startSpan(Math.min(i,v),f))}S&&t.parent()}else if(t.firstChild()){m&&(n="");do if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,n,s),this.startSpan(Math.min(i,t.to),f)}while(t.nextSibling());t.parent()}}}function DF(r){let t=r.type.prop(LL);for(;t&&t.context&&!r.matchContext(t.context);)t=t.next;return t||null}const wt=Nl.define,Bm=wt(),Xo=wt(),AR=wt(Xo),CR=wt(Xo),Io=wt(),_m=wt(Io),Jx=wt(Io),Ds=wt(),Wa=wt(Ds),ms=wt(),Os=wt(),jk=wt(),wc=wt(jk),zm=wt(),yt={comment:Bm,lineComment:wt(Bm),blockComment:wt(Bm),docComment:wt(Bm),name:Xo,variableName:wt(Xo),typeName:AR,tagName:wt(AR),propertyName:CR,attributeName:wt(CR),className:wt(Xo),labelName:wt(Xo),namespace:wt(Xo),macroName:wt(Xo),literal:Io,string:_m,docString:wt(_m),character:wt(_m),attributeValue:wt(_m),number:Jx,integer:wt(Jx),float:wt(Jx),bool:wt(Io),regexp:wt(Io),escape:wt(Io),color:wt(Io),url:wt(Io),keyword:ms,self:wt(ms),null:wt(ms),atom:wt(ms),unit:wt(ms),modifier:wt(ms),operatorKeyword:wt(ms),controlKeyword:wt(ms),definitionKeyword:wt(ms),moduleKeyword:wt(ms),operator:Os,derefOperator:wt(Os),arithmeticOperator:wt(Os),logicOperator:wt(Os),bitwiseOperator:wt(Os),compareOperator:wt(Os),updateOperator:wt(Os),definitionOperator:wt(Os),typeOperator:wt(Os),controlOperator:wt(Os),punctuation:jk,separator:wt(jk),bracket:wc,angleBracket:wt(wc),squareBracket:wt(wc),paren:wt(wc),brace:wt(wc),content:Ds,heading:Wa,heading1:wt(Wa),heading2:wt(Wa),heading3:wt(Wa),heading4:wt(Wa),heading5:wt(Wa),heading6:wt(Wa),contentSeparator:wt(Ds),list:wt(Ds),quote:wt(Ds),emphasis:wt(Ds),strong:wt(Ds),link:wt(Ds),monospace:wt(Ds),strikethrough:wt(Ds),inserted:wt(),deleted:wt(),changed:wt(),invalid:wt(),meta:zm,documentMeta:wt(zm),annotation:wt(zm),processingInstruction:wt(zm),definition:Nl.defineModifier("definition"),constant:Nl.defineModifier("constant"),function:Nl.defineModifier("function"),standard:Nl.defineModifier("standard"),local:Nl.defineModifier("local"),special:Nl.defineModifier("special")};for(let r in yt){let t=yt[r];t instanceof Nl&&(t.name=r)}ZL([{tag:yt.link,class:"tok-link"},{tag:yt.heading,class:"tok-heading"},{tag:yt.emphasis,class:"tok-emphasis"},{tag:yt.strong,class:"tok-strong"},{tag:yt.keyword,class:"tok-keyword"},{tag:yt.atom,class:"tok-atom"},{tag:yt.bool,class:"tok-bool"},{tag:yt.url,class:"tok-url"},{tag:yt.labelName,class:"tok-labelName"},{tag:yt.inserted,class:"tok-inserted"},{tag:yt.deleted,class:"tok-deleted"},{tag:yt.literal,class:"tok-literal"},{tag:yt.string,class:"tok-string"},{tag:yt.number,class:"tok-number"},{tag:[yt.regexp,yt.escape,yt.special(yt.string)],class:"tok-string2"},{tag:yt.variableName,class:"tok-variableName"},{tag:yt.local(yt.variableName),class:"tok-variableName tok-local"},{tag:yt.definition(yt.variableName),class:"tok-variableName tok-definition"},{tag:yt.special(yt.variableName),class:"tok-variableName2"},{tag:yt.definition(yt.propertyName),class:"tok-propertyName tok-definition"},{tag:yt.typeName,class:"tok-typeName"},{tag:yt.namespace,class:"tok-namespace"},{tag:yt.className,class:"tok-className"},{tag:yt.macroName,class:"tok-macroName"},{tag:yt.propertyName,class:"tok-propertyName"},{tag:yt.operator,class:"tok-operator"},{tag:yt.comment,class:"tok-comment"},{tag:yt.meta,class:"tok-meta"},{tag:yt.invalid,class:"tok-invalid"},{tag:yt.punctuation,class:"tok-punctuation"}]);var tS;const id=new Ve,BF=new Ve;let Fs=class{constructor(t,e,i=[],n=""){this.data=t,this.name=n,Ee.prototype.hasOwnProperty("tree")||Object.defineProperty(Ee.prototype,"tree",{get(){return cp(this)}}),this.parser=e,this.extension=[ef.of(this),Ee.languageData.of((s,l,o)=>{let a=TR(s,l,o),f=a.type.prop(id);if(!f)return[];let c=s.facet(f),p=a.type.prop(BF);if(p){let m=a.resolve(l-a.from,o);for(let O of p)if(O.test(m,s)){let y=s.facet(O.facet);return O.type=="replace"?y:y.concat(c)}}return c})].concat(i)}isActiveAt(t,e,i=-1){return TR(t,e,i).type.prop(id)==this.data}findRegions(t){let e=t.facet(ef);if(e?.data==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],n=(s,l)=>{if(s.prop(id)==this.data){i.push({from:l,to:l+s.length});return}let o=s.prop(Ve.mounted);if(o){if(o.tree.prop(id)==this.data){if(o.overlay)for(let a of o.overlay)i.push({from:a.from+l,to:a.to+l});else i.push({from:l,to:l+s.length});return}else if(o.overlay){let a=i.length;if(n(o.tree,o.overlay[0].from+l),i.length>a)return}}for(let a=0;a<s.children.length;a++){let f=s.children[a];f instanceof _n&&n(f,s.positions[a]+l)}};return n(cp(t),0),i}get allowsNesting(){return!0}};Fs.setState=oi.define();function TR(r,t,e){let i=r.facet(ef),n=cp(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(t,e,xi.ExcludeBuffers|xi.EnterBracketed))s.type.isTop&&(n=s);return n}function cp(r){let t=r.field(Fs.state,!1);return t?t.tree:_n.empty}let _F=class{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}},vc=null,zF=class qk{constructor(t,e,i=[],n,s,l,o,a){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=l,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new qk(t,e,[],_n.empty,0,i,[],null)}startParse(){return this.parser.startParse(new _F(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=_n.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let n=Date.now()+t;t=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(q0.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(q0.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=vc;vc=this;try{return t()}finally{vc=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=QR(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:n,treeLen:s,viewport:l,skipped:o}=this;if(this.takeTree(),!t.empty){let a=[];if(t.iterChangedRanges((f,c,p,m)=>a.push({fromA:f,toA:c,fromB:p,toB:m})),i=q0.applyChanges(i,a),n=_n.empty,s=0,l={from:t.mapPos(l.from,-1),to:t.mapPos(l.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let c=t.mapPos(f.from,1),p=t.mapPos(f.to,-1);c<p&&o.push({from:c,to:p})}}}return new qk(this.parser,e,i,n,s,l,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<t.to&&s>t.from&&(this.fragments=QR(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends kF{createParse(e,i,n){let s=n[0].from,l=n[n.length-1].to;return{parsedPos:s,advance(){let a=vc;if(a){for(let f of n)a.tempSkipped.push(f);t&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,t]):t)}return this.parsedPos=l,new _n(hl.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return vc}};function QR(r,t,e){return q0.applyChanges(r,[{fromA:t,toA:e,fromB:t,toB:e}])}let Wk=class Yk{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new Yk(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=zF.create(t.facet(ef).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new Yk(i)}};Fs.state=ao.define({create:Wk.init,update(r,t){for(let e of t.effects)if(e.is(Fs.setState))return e.value;return t.startState.facet(ef)!=t.state.facet(ef)?Wk.init(t.state):r.apply(t)}});let VL=r=>{let t=setTimeout(()=>r(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(VL=r=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(r,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const eS=typeof navigator<"u"&&(!((tS=navigator.scheduling)===null||tS===void 0)&&tS.isInputPending)?()=>navigator.scheduling.isInputPending():null,NF=so.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Fs.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Fs.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=VL(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(Fs.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,t&&!eS?Math.max(25,t.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,a=s.context.work(()=>eS&&eS()||Date.now()>l,n+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Fs.setState.of(new Wk(s.context))})),this.chunkBudget>0&&!(a&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>hr(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ef=Zt.define({combine(r){return r.length?r[0]:null},enables:r=>[Fs.state,NF,Gt.contentAttributes.compute([r],t=>{let e=t.facet(r);return e&&e.name?{"data-language":e.name}:{}})]});class D1{constructor(t,e){this.specs=t;let i;function n(o){let a=Ce.newName();return(i||(i=Object.create(null)))["."+a]=o,a}const s=typeof e.all=="string"?e.all:e.all?n(e.all):void 0,l=e.scope;this.scope=l instanceof Fs?o=>o.prop(id)==l.data:l?o=>o==l:void 0,this.style=ZL(t.map(o=>({tag:o.tag,class:o.class||n(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=i?new Ce(i):null,this.themeType=e.themeType}static define(t,e){return new D1(t,e||{})}}const Hk=Zt.define(),LF=Zt.define({combine(r){return r.length?[r[0]]:null}});function iS(r){let t=r.facet(Hk);return t.length?t:r.facet(LF)}function ZF(r,t){let e=[XF],i;return r instanceof D1&&(r.module&&e.push(Gt.styleModule.of(r.module)),i=r.themeType),i?e.push(Hk.computeN([Gt.darkTheme],n=>n.facet(Gt.darkTheme)==(i=="dark")?[r]:[])):e.push(Hk.of(r)),e}class VF{constructor(t){this.markCache=Object.create(null),this.tree=cp(t.state),this.decorations=this.buildDeco(t,iS(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=cp(t.state),i=iS(t.state),n=i!=iS(t.startState),{viewport:s}=t.view,l=t.changes.mapPos(this.decoratedTo,1);e.length<s.to&&!n&&e.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=l):(e!=this.tree||t.viewportChanged||n)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i),this.decoratedTo=s.to)}buildDeco(t,e){if(!e||!this.tree.length)return Oe.none;let i=new KS;for(let{from:n,to:s}of t.visibleRanges)RF(this.tree,e,(l,o,a)=>{i.add(l,o,this.markCache[a]||(this.markCache[a]=Oe.mark({class:a})))},n,s);return i.finish()}}const XF=a1.high(so.fromClass(VF,{decorations:r=>r.decorations})),IF=Object.create(null),PR=[hl.none],MR=[],RR=Object.create(null),jF=Object.create(null);for(let[r,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])jF[r]=qF(IF,t);function nS(r,t){MR.indexOf(r)>-1||(MR.push(r),console.warn(t))}function qF(r,t){let e=[];for(let o of t.split(" ")){let a=[];for(let f of o.split(".")){let c=r[f]||yt[f];c?typeof c=="function"?a.length?a=a.map(c):nS(f,`Modifier ${f} used at start of tag`):a.length?nS(f,`Tag ${f} used as modifier`):a=Array.isArray(c)?c:[c]:nS(f,`Unknown highlighting tag ${f}`)}for(let f of a)e.push(f)}if(!e.length)return 0;let i=t.replace(/ /g,"_"),n=i+" "+e.map(o=>o.id),s=RR[n];if(s)return s.id;let l=RR[n]=hl.define({id:PR.length,name:i,props:[PF({[i]:e})]});return PR.push(l),l.id}Ze.RTL,Ze.LTR;const WF="#e5c07b",ER="#e06c75",YF="#56b6c2",HF="#ffffff",W0="#abb2bf",Uk="#7d8799",UF="#61afef",GF="#98c379",DR="#d19a66",FF="#c678dd",KF="#21252b",BR="#2c313a",_R="#282c34",rS="#353a42",JF="#3E4451",zR="#528bff",tK=Gt.theme({"&":{color:W0,backgroundColor:_R},".cm-content":{caretColor:zR},".cm-cursor, .cm-dropCursor":{borderLeftColor:zR},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:JF},".cm-panels":{backgroundColor:KF,color:W0},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:_R,color:Uk,border:"none"},".cm-activeLineGutter":{backgroundColor:BR},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:rS},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:rS,borderBottomColor:rS},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:BR,color:W0}}},{dark:!0}),eK=D1.define([{tag:yt.keyword,color:FF},{tag:[yt.name,yt.deleted,yt.character,yt.propertyName,yt.macroName],color:ER},{tag:[yt.function(yt.variableName),yt.labelName],color:UF},{tag:[yt.color,yt.constant(yt.name),yt.standard(yt.name)],color:DR},{tag:[yt.definition(yt.name),yt.separator],color:W0},{tag:[yt.typeName,yt.className,yt.number,yt.changed,yt.annotation,yt.modifier,yt.self,yt.namespace],color:WF},{tag:[yt.operator,yt.operatorKeyword,yt.url,yt.escape,yt.regexp,yt.link,yt.special(yt.string)],color:YF},{tag:[yt.meta,yt.comment],color:Uk},{tag:yt.strong,fontWeight:"bold"},{tag:yt.emphasis,fontStyle:"italic"},{tag:yt.strikethrough,textDecoration:"line-through"},{tag:yt.link,color:Uk,textDecoration:"underline"},{tag:yt.heading,fontWeight:"bold",color:ER},{tag:[yt.atom,yt.bool,yt.special(yt.variableName)],color:DR},{tag:[yt.processingInstruction,yt.string,yt.inserted],color:GF},{tag:yt.invalid,color:HF}]),iK=[tK,ZF(eK)],XL=1024;let nK=0,Qr=class{constructor(t,e){this.from=t,this.to=e}},De=class{constructor(t={}){this.id=nK++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=ul.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}};De.closedBy=new De({deserialize:r=>r.split(" ")});De.openedBy=new De({deserialize:r=>r.split(" ")});De.group=new De({deserialize:r=>r.split(" ")});De.isolate=new De({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});De.contextHash=new De({perNode:!0});De.lookAhead=new De({perNode:!0});De.mounted=new De({perNode:!0});let Du=class{constructor(t,e,i,n=!1){this.tree=t,this.overlay=e,this.parser=i,this.bracketed=n}static get(t){return t&&t.props&&t.props[De.mounted.id]}};const rK=Object.create(null);let ul=class IL{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):rK,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new IL(t.name||"",e,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(De.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return i=>{for(let n=i.prop(De.group),s=-1;s<(n?n.length:0);s++){let l=e[s<0?i.name:n[s]];if(l)return l}}}};ul.none=new ul("",Object.create(null),0,8);let sK=class jL{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let n=null;for(let s of t){let l=s(i);if(l){n||(n=Object.assign({},i.props));let o=l[1],a=l[0];a.combine&&a.id in n&&(o=a.combine(n[a.id],o)),n[a.id]=o}}e.push(n?new ul(i.name,n,i.id,i.flags):i)}return new jL(e)}};const Nm=new WeakMap,NR=new WeakMap;var Le;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays",r[r.EnterBracketed=16]="EnterBracketed"})(Le||(Le={}));let On=class Gk{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let t=Du.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let n=i.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new qO(this.topNode,t)}cursorAt(t,e=0,i=0){let n=Nm.get(this)||this.topNode,s=new qO(n);return s.moveTo(t,e),Nm.set(this,s._tree),s}get topNode(){return new fl(this,0,0,null)}resolve(t,e=0){let i=dp(Nm.get(this)||this.topNode,t,e,!1);return Nm.set(this,i),i}resolveInner(t,e=0){let i=dp(NR.get(this)||this.topNode,t,e,!0);return NR.set(this,i),i}resolveStack(t,e=0){return hK(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t,l=t.mode||0,o=(l&Le.IncludeAnonymous)>0;for(let a=this.cursor(l|Le.IncludeAnonymous);;){let f=!1;if(a.from<=s&&a.to>=n&&(!o&&a.type.isAnonymous||e(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:H$(ul.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,n)=>new Gk(this.type,e,i,n,this.propValues),t.makeTree||((e,i,n)=>new Gk(ul.none,e,i,n)))}static build(t){return uK(t)}};On.empty=new On(ul.none,[],[],0);let lK=class qL{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new qL(this.buffer,this.index)}},nf=class WL{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return ul.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let l=[];for(;t<i;)l.push(this.childString(t)),t=this.buffer[t+3];return s+"("+l.join(",")+")"}findChild(t,e,i,n,s){let{buffer:l}=this,o=-1;for(let a=t;a!=e&&!(YL(s,n,l[a+1],l[a+2])&&(o=a,i>0));a=l[a+3]);return o}slice(t,e,i){let n=this.buffer,s=new Uint16Array(e-t),l=0;for(let o=t,a=0;o<e;){s[a++]=n[o++],s[a++]=n[o++]-i;let f=s[a++]=n[o++]-i;s[a++]=n[o++]-t,l=Math.max(l,f)}return new WL(s,l,this.set)}};function YL(r,t,e,i){switch(r){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function dp(r,t,e,i){for(var n;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let l=!i&&r instanceof fl&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=i?0:Le.IgnoreOverlays;if(i)for(let l=r,o=l.parent;o;l=o,o=l.parent)l instanceof fl&&l.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=l.from&&(r=o);for(;;){let l=r.enter(t,e,s);if(!l)return r;r=l}}let HL=class{cursor(t=0){return new qO(this,t)}getChild(t,e=null,i=null){let n=LR(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return LR(this,t,e,i)}resolve(t,e=0){return dp(this,t,e,!1)}resolveInner(t,e=0){return dp(this,t,e,!0)}matchContext(t){return Fk(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let n=e.lastChild;if(!n||n.to!=e.to)break;n.type.isError&&n.from==n.to?(i=e,e=n.prevSibling):e=n}return i}get node(){return this}get next(){return this.parent}},fl=class Y0 extends HL{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,s=0){for(let l=this;;){for(let{children:o,positions:a}=l._tree,f=e>0?o.length:-1;t!=f;t+=e){let c=o[t],p=a[t]+l.from,m;if(!(!(s&Le.EnterBracketed&&c instanceof On&&(m=Du.get(c))&&!m.overlay&&m.bracketed&&i>=p&&i<=p+c.length)&&!YL(n,i,p,p+c.length))){if(c instanceof nf){if(s&Le.ExcludeBuffers)continue;let O=c.findChild(0,c.buffer.length,e,i-p,n);if(O>-1)return new Kk(new oK(l,c,t,p),null,O)}else if(s&Le.IncludeAnonymous||!c.type.isAnonymous||Y$(c)){let O;if(!(s&Le.IgnoreMounts)&&(O=Du.get(c))&&!O.overlay)return new Y0(O.tree,p,t,l);let y=new Y0(c,p,t,l);return s&Le.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(e<0?c.children.length-1:0,e,i,n,s)}}}if(s&Le.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?t=l.index+e:t=e<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,i=0){let n;if(!(i&Le.IgnoreOverlays)&&(n=Du.get(this._tree))&&n.overlay){let s=t-this.from,l=i&Le.EnterBracketed&&n.bracketed;for(let{from:o,to:a}of n.overlay)if((e>0||l?o<=s:o<s)&&(e<0||l?a>=s:a>s))return new Y0(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function LR(r,t,e,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(let l=!1;!l;)if(l=n.type.is(e),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function Fk(r,t,e=t.length-1){for(let i=r;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}let oK=class{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}},Kk=class nd extends HL{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new nd(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,i=0){if(i&Le.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new nd(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new nd(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new nd(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let l=i.buffer[this.index+1];t.push(i.slice(n,s,l)),e.push(0)}return new On(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function UL(r){if(!r.length)return null;let t=0,e=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>e.from||l.to<e.to)&&(e=l,t=s)}let i=e instanceof fl&&e.index<0?null:e.parent,n=r.slice();return i?n[t]=i:n.splice(t,1),new aK(n,e)}let aK=class{constructor(t,e){this.heads=t,this.node=e}get next(){return UL(this.heads)}};function hK(r,t,e){let i=r.resolveInner(t,e),n=null;for(let s=i instanceof fl?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(n||(n=[i])).push(l.resolve(t,e)),s=l}else{let l=Du.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=t&&l.overlay[l.overlay.length-1].to>=t){let o=new fl(l.tree,l.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(dp(o,t,e,!1))}}return n?UL(n):i}let qO=class{get name(){return this.type.name}constructor(t,e=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=e&~Le.EnterBracketed,t instanceof fl)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return t?t instanceof fl?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&Le.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Le.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Le.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let s=e+t,l=t<0?-1:i._tree.children.length;s!=l;s+=t){let o=i._tree.children[s];if(this.mode&Le.IncludeAnonymous||o instanceof nf||!o.type.isAnonymous||Y$(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let l=t;l;l=l._parent)if(l.index==n){if(n==this.index)return l;e=l,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new Kk(this.buffer,e,this.stack[n]);return this.bufferNode=new Kk(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return Fk(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return Fk(this._tree,t,n);let l=i[e.buffer[this.stack[s]]];if(!l.isAnonymous){if(t[n]&&t[n]!=l.name)return!1;n--}}return!0}};function Y$(r){return r.children.some(t=>t instanceof nf||!t.type.isAnonymous||Y$(t))}function uK(r){var t;let{buffer:e,nodeSet:i,maxBufferLength:n=XL,reused:s=[],minRepeatType:l=i.types.length}=r,o=Array.isArray(e)?new lK(e,e.length):e,a=i.types,f=0,c=0;function p(P,E,A,V,D,Z){let{id:z,start:k,end:L,size:$}=o,j=c,W=f;if($<0)if(o.next(),$==-1){let R=s[z];A.push(R),V.push(k-P);return}else if($==-3){f=z;return}else if($==-4){c=z;return}else throw new RangeError(`Unrecognized record size: ${$}`);let X=a[z],st,F,pt=k-P;if(L-k<=n&&(F=w(o.pos-E,D))){let R=new Uint16Array(F.size-F.skip),B=o.pos-F.size,H=R.length;for(;o.pos>B;)H=v(F.start,R,H);st=new nf(R,L-F.start,i),pt=F.start-P}else{let R=o.pos-$;o.next();let B=[],H=[],G=z>=l?z:-1,tt=0,mt=L;for(;o.pos>R;)G>=0&&o.id==G&&o.size>=0?(o.end<=mt-n&&(y(B,H,k,tt,o.end,mt,G,j,W),tt=B.length,mt=o.end),o.next()):Z>2500?m(k,R,B,H):p(k,R,B,H,G,Z+1);if(G>=0&&tt>0&&tt<B.length&&y(B,H,k,tt,k,mt,G,j,W),B.reverse(),H.reverse(),G>-1&&tt>0){let Rt=O(X,W);st=H$(X,B,H,0,B.length,0,L-k,Rt,Rt)}else st=S(X,B,H,L-k,j-L,W)}A.push(st),V.push(pt)}function m(P,E,A,V){let D=[],Z=0,z=-1;for(;o.pos>E;){let{id:k,start:L,end:$,size:j}=o;if(j>4)o.next();else{if(z>-1&&L<z)break;z<0&&(z=$-n),D.push(k,L,$),Z++,o.next()}}if(Z){let k=new Uint16Array(Z*4),L=D[D.length-2];for(let $=D.length-3,j=0;$>=0;$-=3)k[j++]=D[$],k[j++]=D[$+1]-L,k[j++]=D[$+2]-L,k[j++]=j;A.push(new nf(k,D[2]-L,i)),V.push(L-P)}}function O(P,E){return(A,V,D)=>{let Z=0,z=A.length-1,k,L;if(z>=0&&(k=A[z])instanceof On){if(!z&&k.type==P&&k.length==D)return k;(L=k.prop(De.lookAhead))&&(Z=V[z]+k.length+L)}return S(P,A,V,D,Z,E)}}function y(P,E,A,V,D,Z,z,k,L){let $=[],j=[];for(;P.length>V;)$.push(P.pop()),j.push(E.pop()+A-D);P.push(S(i.types[z],$,j,Z-D,k-Z,L)),E.push(D-A)}function S(P,E,A,V,D,Z,z){if(Z){let k=[De.contextHash,Z];z=z?[k].concat(z):[k]}if(D>25){let k=[De.lookAhead,D];z=z?[k].concat(z):[k]}return new On(P,E,A,V,z)}function w(P,E){let A=o.fork(),V=0,D=0,Z=0,z=A.end-n,k={size:0,start:0,skip:0};t:for(let L=A.pos-P;A.pos>L;){let $=A.size;if(A.id==E&&$>=0){k.size=V,k.start=D,k.skip=Z,Z+=4,V+=4,A.next();continue}let j=A.pos-$;if($<0||j<L||A.start<z)break;let W=A.id>=l?4:0,X=A.start;for(A.next();A.pos>j;){if(A.size<0)if(A.size==-3||A.size==-4)W+=4;else break t;else A.id>=l&&(W+=4);A.next()}D=X,V+=$,Z+=W}return(E<0||V==P)&&(k.size=V,k.start=D,k.skip=Z),k.size>4?k:void 0}function v(P,E,A){let{id:V,start:D,end:Z,size:z}=o;if(o.next(),z>=0&&V<l){let k=A;if(z>4){let L=o.pos-(z-4);for(;o.pos>L;)A=v(P,E,A)}E[--A]=k,E[--A]=Z-P,E[--A]=D-P,E[--A]=V}else z==-3?f=V:z==-4&&(c=V);return A}let T=[],M=[];for(;o.pos>0;)p(r.start||0,r.bufferStart||0,T,M,-1,0);let N=(t=r.length)!==null&&t!==void 0?t:T.length?M[0]+T[0].length:0;return new On(a[r.topID],T.reverse(),M.reverse(),N)}const ZR=new WeakMap;function H0(r,t){if(!r.isAnonymous||t instanceof nf||t.type!=r)return 1;let e=ZR.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=r||!(i instanceof On)){e=1;break}e+=H0(r,i)}ZR.set(t,e)}return e}function H$(r,t,e,i,n,s,l,o,a){let f=0;for(let y=i;y<n;y++)f+=H0(r,t[y]);let c=Math.ceil(f*1.5/8),p=[],m=[];function O(y,S,w,v,T){for(let M=w;M<v;){let N=M,P=S[M],E=H0(r,y[M]);for(M++;M<v;M++){let A=H0(r,y[M]);if(E+A>=c)break;E+=A}if(M==N+1){if(E>c){let A=y[N];O(A.children,A.positions,0,A.children.length,S[N]+T);continue}p.push(y[N])}else{let A=S[M-1]+y[M-1].length-P;p.push(H$(r,y,S,N,M,P,A,null,a))}m.push(P+T-s)}}return O(t,e,i,n,0),(o||a)(p,m,l)}let VR=class Jk{constructor(t,e,i,n,s=!1,l=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let n=[new Jk(0,t.length,t,0,!1,i)];for(let s of e)s.to>t.length&&n.push(s);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],s=1,l=t.length?t[0]:null;for(let o=0,a=0,f=0;;o++){let c=o<e.length?e[o]:null,p=c?c.fromA:1e9;if(p-a>=i)for(;l&&l.from<p;){let m=l;if(a>=m.from||p<=m.to||f){let O=Math.max(m.from,a)-f,y=Math.min(m.to,p)-f;m=O>=y?null:new Jk(O,y,m.tree,m.offset+f,o>0,!!c)}if(m&&n.push(m),l.to>p)break;l=s<t.length?t[s++]:null}if(!c)break;a=c.toA,f=c.toA-c.toB}return n}},fK=class{startParse(t,e,i){return typeof t=="string"&&(t=new cK(t)),i=i?i.length?i.map(n=>new Qr(n.from,n.to)):[new Qr(0,0)]:[new Qr(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let s=n.advance();if(s)return s}}},cK=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};function dK(r){return(t,e,i,n)=>new gK(t,r,e,i,n)}class XR{constructor(t,e,i,n,s,l){this.parser=t,this.parse=e,this.overlay=i,this.bracketed=n,this.target=s,this.from=l}}function IR(r){if(!r.length||r.some(t=>t.from>=t.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(r))}class pK{constructor(t,e,i,n,s,l,o,a){this.parser=t,this.predicate=e,this.mounts=i,this.index=n,this.start=s,this.bracketed=l,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const t2=new De({perNode:!0});class gK{constructor(t,e,i,n,s){this.nest=e,this.input=i,this.fragments=n,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let n of this.inner)n.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new On(i.type,i.children,i.positions,i.length,i.propValues.concat([[t2,this.stoppedAt]]))),i}let t=this.inner[this.innerDone],e=t.parse.advance();if(e){this.innerDone++;let i=Object.assign(Object.create(null),t.target.props);i[De.mounted.id]=new Du(e,t.overlay,t.parser,t.bracketed),t.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].from<t&&(t=Math.min(t,this.inner[e].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].parse.stopAt(t)}startInner(){let t=new yK(this.fragments),e=null,i=null,n=new qO(new fl(this.baseTree,this.ranges[0].from,0,null),Le.IncludeAnonymous|Le.IgnoreMounts);t:for(let s,l;;){let o=!0,a;if(this.stoppedAt!=null&&n.from>=this.stoppedAt)o=!1;else if(t.hasNode(n)){if(e){let f=e.mounts.find(c=>c.frag.from<=n.from&&c.frag.to>=n.to&&c.mount.overlay);if(f)for(let c of f.mount.overlay){let p=c.from+f.pos,m=c.to+f.pos;p>=n.from&&m<=n.to&&!e.ranges.some(O=>O.from<m&&O.to>p)&&e.ranges.push({from:p,to:m})}}o=!1}else if(i&&(l=mK(i.ranges,n.from,n.to)))o=l!=2;else if(!n.type.isAnonymous&&(s=this.nest(n,this.input))&&(n.from<n.to||!s.overlay)){n.tree||(OK(n),e&&e.depth++,i&&i.depth++);let f=t.findMounts(n.from,s.parser);if(typeof s.overlay=="function")e=new pK(s.parser,s.overlay,f,this.inner.length,n.from,!!s.bracketed,n.tree,e);else{let c=WR(this.ranges,s.overlay||(n.from<n.to?[new Qr(n.from,n.to)]:[]));c.length&&IR(c),(c.length||!s.overlay)&&this.inner.push(new XR(s.parser,c.length?s.parser.startParse(this.input,YR(f,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(p=>new Qr(p.from-n.from,p.to-n.from)):null,!!s.bracketed,n.tree,c.length?c[0].from:n.from)),s.overlay?c.length&&(i={ranges:c,depth:0,prev:i}):o=!1}}else if(e&&(a=e.predicate(n))&&(a===!0&&(a=new Qr(n.from,n.to)),a.from<a.to)){let f=e.ranges.length-1;f>=0&&e.ranges[f].to==a.from?e.ranges[f]={from:e.ranges[f].from,to:a.to}:e.ranges.push(a)}if(o&&n.firstChild())e&&e.depth++,i&&i.depth++;else for(;!n.nextSibling();){if(!n.parent())break t;if(e&&!--e.depth){let f=WR(this.ranges,e.ranges);f.length&&(IR(f),this.inner.splice(e.index,0,new XR(e.parser,e.parser.startParse(this.input,YR(e.mounts,f),f),e.ranges.map(c=>new Qr(c.from-e.start,c.to-e.start)),e.bracketed,e.target,f[0].from))),e=e.prev}i&&!--i.depth&&(i=i.prev)}}}}function mK(r,t,e){for(let i of r){if(i.from>=e)break;if(i.to>t)return i.from<=t&&i.to>=e?2:1}return 0}function jR(r,t,e,i,n,s){if(t<e){let l=r.buffer[t+1];i.push(r.slice(t,e,l)),n.push(l-s)}}function OK(r){let{node:t}=r,e=[],i=t.context.buffer;do e.push(r.index),r.parent();while(!r.tree);let n=r.tree,s=n.children.indexOf(i),l=n.children[s],o=l.buffer,a=[s];function f(c,p,m,O,y,S){let w=e[S],v=[],T=[];jR(l,c,w,v,T,O);let M=o[w+1],N=o[w+2];a.push(v.length);let P=S?f(w+4,o[w+3],l.set.types[o[w]],M,N-M,S-1):t.toTree();return v.push(P),T.push(M-O),jR(l,o[w+3],p,v,T,O),new On(m,v,T,y)}n.children[s]=f(0,o.length,ul.none,0,l.length,e.length-1);for(let c of a){let p=r.tree.children[c],m=r.tree.positions[c];r.yield(new fl(p,m+r.from,c,r._tree))}}class qR{constructor(t,e){this.offset=e,this.done=!1,this.cursor=t.cursor(Le.IncludeAnonymous|Le.IgnoreMounts)}moveTo(t){let{cursor:e}=this,i=t-this.offset;for(;!this.done&&e.from<i;)e.to>=t&&e.enter(i,1,Le.IgnoreOverlays|Le.ExcludeBuffers)||e.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let e=this.cursor.tree;;){if(e==t.tree)return!0;if(e.children.length&&e.positions[0]==0&&e.children[0]instanceof On)e=e.children[0];else break}return!1}}let yK=class{constructor(t){var e;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let i=this.curFrag=t[0];this.curTo=(e=i.tree.prop(t2))!==null&&e!==void 0?e:i.to,this.inner=new qR(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let e=this.curFrag=this.fragments[this.fragI];this.curTo=(t=e.tree.prop(t2))!==null&&t!==void 0?t:e.to,this.inner=new qR(e.tree,-e.offset)}}findMounts(t,e){var i;let n=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let s=this.inner.cursor.node;s;s=s.parent){let l=(i=s.tree)===null||i===void 0?void 0:i.prop(De.mounted);if(l&&l.parser==e)for(let o=this.fragI;o<this.fragments.length;o++){let a=this.fragments[o];if(a.from>=s.to)break;a.tree==this.curFrag.tree&&n.push({frag:a,pos:s.from-a.offset,mount:l})}}}return n}};function WR(r,t){let e=null,i=t;for(let n=1,s=0;n<r.length;n++){let l=r[n-1].to,o=r[n].from;for(;s<i.length;s++){let a=i[s];if(a.from>=o)break;a.to<=l||(e||(i=e=t.slice()),a.from<l?(e[s]=new Qr(a.from,l),a.to>o&&e.splice(s+1,0,new Qr(o,a.to))):a.to>o?e[s--]=new Qr(o,a.to):e.splice(s--,1))}}return i}function bK(r,t,e,i){let n=0,s=0,l=!1,o=!1,a=-1e9,f=[];for(;;){let c=n==r.length?1e9:l?r[n].to:r[n].from,p=s==t.length?1e9:o?t[s].to:t[s].from;if(l!=o){let m=Math.max(a,e),O=Math.min(c,p,i);m<O&&f.push(new Qr(m,O))}if(a=Math.min(c,p),a==1e9)break;c==a&&(l?(l=!1,n++):l=!0),p==a&&(o?(o=!1,s++):o=!0)}return f}function YR(r,t){let e=[];for(let{pos:i,mount:n,frag:s}of r){let l=i+(n.overlay?n.overlay[0].from:0),o=l+n.tree.length,a=Math.max(s.from,l),f=Math.min(s.to,o);if(n.overlay){let c=n.overlay.map(m=>new Qr(m.from+i,m.to+i)),p=bK(t,c,a,f);for(let m=0,O=a;;m++){let y=m==p.length,S=y?f:p[m].from;if(S>O&&e.push(new VR(O,S,n.tree,-l,s.from>=O||s.openStart,s.to<=S||s.openEnd)),y)break;O=p[m].to}}else e.push(new VR(a,f,n.tree,-l,s.from>=l||s.openStart,s.to<=o||s.openEnd))}return e}var HR={};let xK=class e2{constructor(t,e,i,n,s,l,o,a,f,c=0,p){this.p=t,this.stack=e,this.state=i,this.reducePos=n,this.pos=s,this.score=l,this.buffer=o,this.bufferBase=a,this.curContext=f,this.lookAhead=c,this.parent=p}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let n=t.parser.context;return new e2(t,[],e,i,i,0,[],0,n?new UR(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let i=t>>19,n=t&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=s.dynamicPrecedence(n);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(i-1)*3-(t&262144?6:0),f=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-f;c>=2e3&&!(!((e=this.p.parser.nodeSet.types[n])===null||e===void 0)&&e.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=c));let p=a?this.stack[a-1]:0,m=this.bufferBase+this.buffer.length-p;if(n<s.minRepeatTerm||t&131072){let O=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,f,O,m+4,!0)}if(t&262144)this.state=this.stack[a];else{let O=this.stack[a-3];this.state=s.getGoto(O,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,f)}storeNode(t,e,i,n=4,s=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(e==i)return;if(l.buffer[o-2]>=e){l.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(t,e,i,n);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let a=l;a>0&&this.buffer[a-2]>i;a-=4)if(this.buffer[a-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>i;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,n>4&&(n-=4)}this.buffer[l]=t,this.buffer[l+1]=e,this.buffer[l+2]=i,this.buffer[l+3]=n}}shift(t,e,i,n){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let s=t,{parser:l}=this.p;this.pos=n;let o=l.stateFlag(s,1);!o&&(n>i||e<=l.maxNode)&&(this.reducePos=n),this.pushState(s,o?i:Math.min(i,this.reducePos)),this.shiftContext(e,i),e<=l.maxNode&&this.buffer.push(e,i,n,4)}else this.pos=n,this.shiftContext(e,i),e<=this.p.parser.maxNode&&this.buffer.push(e,i,n,4)}apply(t,e,i,n){t&65536?this.reduce(t):this.shift(t,e,i,n)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let i=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new e2(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new SK(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(i==0)return!1;if((i&65536)==0)return!0;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let s=0,l;s<e.length;s+=2)(l=e[s+1])!=this.state&&this.p.parser.hasAction(l,t)&&n.push(e[s],l);if(this.stack.length<120)for(let s=0;n.length<8&&s<e.length;s+=2){let l=e[s+1];n.some((o,a)=>a&1&&o==l)||n.push(e[s],l)}e=n}let i=[];for(let n=0;n<e.length&&i.length<4;n+=2){let s=e[n+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(e[n],this.pos),l.reducePos=this.pos,l.score-=200,i.push(l)}return i}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let i=e>>19,n=e&65535,s=this.stack.length-i*3;if(s<0||t.getGoto(this.stack[s],n,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;e=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],i=(n,s)=>{if(!e.includes(n))return e.push(n),t.allActions(n,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-s;if(o>1){let a=l&65535,f=this.stack.length-o*3;if(f>=0&&t.getGoto(this.stack[f],a,!1)>=0)return o<<19|65536|a}}else{let o=i(l,s+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new UR(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){return t<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},UR=class{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}},SK=class{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,i=t>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=n}},wK=class i2{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new i2(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new i2(this.stack,this.pos,this.index)}};function Lm(r,t=Uint16Array){if(typeof r!="string")return r;let e=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let l=r.charCodeAt(i++),o=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let a=l-32;if(a>=46&&(a-=46,o=!0),s+=a,o)break;s*=46}e?e[n++]=s:e=new t(s)}return e}let U0=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}};const GR=new U0;let vK=class{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=GR,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,n=this.rangeIndex,s=this.pos+t;for(;s<i.from;){if(!n)return null;let l=this.ranges[--n];s-=i.from-l.to,i=l}for(;e<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let l=this.ranges[++n];s+=l.from-i.to,i=l}return s}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,i,n;if(e>=0&&e<this.chunk.length)i=this.pos+t,n=this.chunk.charCodeAt(e);else{let s=this.resolveOffset(t,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=GR,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(i+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return i}},Bu=class{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:i}=e.p;kK(this.data,t,e,this.id,i.data,i.tokenPrecTable)}};Bu.prototype.contextual=Bu.prototype.fallback=Bu.prototype.extend=!1;Bu.prototype.fallback=Bu.prototype.extend=!1;let B1=class{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}};function kK(r,t,e,i,n,s){let l=0,o=1<<i,{dialect:a}=e.p.parser;t:for(;(o&r[l])!=0;){let f=r[l+1];for(let O=l+3;O<f;O+=2)if((r[O+1]&o)>0){let y=r[O];if(a.allows(y)&&(t.token.value==-1||t.token.value==y||$K(y,t.token.value,n,s))){t.acceptToken(y);break}}let c=t.next,p=0,m=r[l+2];if(t.next<0&&m>p&&r[f+m*3-3]==65535){l=r[f+m*3-1];continue t}for(;p<m;){let O=p+m>>1,y=f+O+(O<<1),S=r[y],w=r[y+1]||65536;if(c<S)m=O;else if(c>=w)p=O+1;else{l=r[y+2],t.advance();continue t}}break}}function FR(r,t,e){for(let i=t,n;(n=r[i])!=65535;i++)if(n==e)return i-t;return-1}function $K(r,t,e,i){let n=FR(e,i,t);return n<0||FR(e,i,r)<n}const Kn=typeof process<"u"&&HR&&/\bparse\b/.test(HR.LOG);let sS=null;function KR(r,t,e){let i=r.cursor(Le.IncludeAnonymous);for(i.moveTo(t);;)if(!(e<0?i.childBefore(t):i.childAfter(t)))for(;;){if((e<0?i.to<t:i.from>t)&&!i.type.isError)return e<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(r.length,Math.max(i.from+1,t+25));if(e<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return e<0?0:r.length}}let AK=class{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?KR(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?KR(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],n=this.index[e];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],l=this.start[e]+i.positions[n];if(l>t)return this.nextStart=l,null;if(s instanceof On){if(l==t){if(l<this.safeFrom)return null;let o=l+s.length;if(o<=this.safeTo){let a=s.prop(De.lookAhead);if(!a||o+a<this.fragment.to)return s}}this.index[e]++,l+s.length>=Math.max(this.safeFrom,t)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[e]++,this.nextStart=l+s.length}}},CK=class{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(i=>new U0)}getActions(t){let e=0,i=null,{parser:n}=t.p,{tokenizers:s}=n,l=n.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let f=0;f<s.length;f++){if((1<<f&l)==0)continue;let c=s[f],p=this.tokens[f];if(!(i&&!c.fallback)&&((c.contextual||p.start!=t.pos||p.mask!=l||p.context!=o)&&(this.updateCachedToken(p,c,t),p.mask=l,p.context=o),p.lookAhead>p.end+25&&(a=Math.max(p.lookAhead,a)),p.value!=0)){let m=e;if(p.extended>-1&&(e=this.addActions(t,p.extended,p.end,e)),e=this.addActions(t,p.value,p.end,e),!c.extend&&(i=p,e>m))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),!i&&t.pos==this.stream.end&&(i=new U0,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new U0,{pos:i,p:n}=t;return e.start=i,e.end=Math.min(i+1,n.stream.end),e.value=i==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,i){let n=this.stream.clipPos(i.pos);if(e.token(this.stream.reset(n,t),i),t.value>-1){let{parser:s}=i.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==t.value){let o=s.specializers[l](this.stream.read(t.start,t.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?t.value=o>>1:t.extended=o>>1;break}}}else t.value=0,t.end=this.stream.clipPos(n+1)}putAction(t,e,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=i,n}addActions(t,e,i,n){let{state:s}=t,{parser:l}=t.p,{data:o}=l;for(let a=0;a<2;a++)for(let f=l.stateSlot(s,a?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=Ll(o,f+2);else{n==0&&o[f+1]==2&&(n=this.putAction(Ll(o,f+2),e,i,n));break}o[f]==e&&(n=this.putAction(Ll(o,f+1),e,i,n))}return n}},TK=class{constructor(t,e,i,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new vK(e,n),this.tokens=new CK(t,this.stream),this.topTerm=t.top[1];let{from:s}=n[0];this.stacks=[xK.start(this,t.top[0],s)],this.fragments=i.length&&this.stream.end-s>t.bufferLength*4?new AK(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&t.length==1){let[l]=t;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<t.length;l++){let o=t[l];for(;;){if(this.tokens.mainToken=null,o.pos>e)i.push(o);else{if(this.advanceStack(o,i,t))continue;{n||(n=[],s=[]),n.push(o);let a=this.tokens.getMainToken(o);s.push(a.value,a.end)}}break}}if(!i.length){let l=n&&RK(n);if(l)return Kn&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw Kn&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&n){let l=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(l)return Kn&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(i.length>l)for(i.sort((o,a)=>a.score-o.score);i.length>l;)i.pop();i.some(o=>o.reducePos>e)&&this.recovering--}else if(i.length>1){t:for(let l=0;l<i.length-1;l++){let o=i[l];for(let a=l+1;a<i.length;a++){let f=i[a];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)i.splice(a--,1);else{i.splice(l--,1);continue t}}}i.length>12&&(i.sort((l,o)=>o.score-l.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let l=1;l<i.length;l++)i[l].pos<this.minStackPos&&(this.minStackPos=i[l].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let n=t.pos,{parser:s}=this,l=Kn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let f=t.curContext&&t.curContext.tracker.strict,c=f?t.curContext.hash:0;for(let p=this.fragments.nodeAt(n);p;){let m=this.parser.nodeSet.types[p.type.id]==p.type?s.getGoto(t.state,p.type.id):-1;if(m>-1&&p.length&&(!f||(p.prop(De.contextHash)||0)==c))return t.useNode(p,m),Kn&&console.log(l+this.stackID(t)+` (via reuse of ${s.getName(p.type.id)})`),!0;if(!(p instanceof On)||p.children.length==0||p.positions[0]>0)break;let O=p.children[0];if(O instanceof On&&p.positions[0]==0)p=O;else break}}let o=s.stateSlot(t.state,4);if(o>0)return t.reduce(o),Kn&&console.log(l+this.stackID(t)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let f=0;f<a.length;){let c=a[f++],p=a[f++],m=a[f++],O=f==a.length||!i,y=O?t:t.split(),S=this.tokens.mainToken;if(y.apply(c,p,S?S.start:y.pos,m),Kn&&console.log(l+this.stackID(y)+` (via ${(c&65536)==0?"shift":`reduce of ${s.getName(c&65535)}`} for ${s.getName(p)} @ ${n}${y==t?"":", split"})`),O)return!0;y.pos>n?e.push(y):i.push(y)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return JR(t,e),!0}}runRecovery(t,e,i){let n=null,s=!1;for(let l=0;l<t.length;l++){let o=t[l],a=e[l<<1],f=e[(l<<1)+1],c=Kn?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),Kn&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let p=o.split(),m=c;for(let O=0;O<10&&p.forceReduce()&&(Kn&&console.log(m+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,i));O++)Kn&&(m=this.stackID(p)+" -> ");for(let O of o.recoverByInsert(a))Kn&&console.log(c+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,i);this.stream.end>o.pos?(f==o.pos&&(f++,a=0),o.recoverByDelete(a,f),Kn&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),JR(o,i)):(!n||n.score<p.score)&&(n=p)}return n}stackToTree(t){return t.close(),On.build({buffer:wK.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(sS||(sS=new WeakMap)).get(t);return e||sS.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}};function JR(r,t){for(let e=0;e<t.length;e++){let i=t[e];if(i.pos==r.pos&&i.sameState(r)){t[e].score<r.score&&(t[e]=r);return}}t.push(r)}let QK=class{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||this.disabled[t]==0}};const lS=r=>r;let PK=class{constructor(t){this.start=t.start,this.shift=t.shift||lS,this.reduce=t.reduce||lS,this.reuse=t.reuse||lS,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}},MK=class n2 extends fK{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let i=Object.keys(t.topRules).map(o=>t.topRules[o][1]),n=[];for(let o=0;o<e.length;o++)n.push([]);function s(o,a,f){n[o].push([a,a.deserialize(String(f))])}if(t.nodeProps)for(let o of t.nodeProps){let a=o[0];typeof a=="string"&&(a=De[a]);for(let f=1;f<o.length;){let c=o[f++];if(c>=0)s(c,a,o[f++]);else{let p=o[f+-c];for(let m=-c;m>0;m--)s(o[f++],a,p);f++}}}this.nodeSet=new sK(e.map((o,a)=>ul.define({name:a>=this.minRepeatTerm?void 0:o,id:a,props:n[a],top:i.indexOf(a)>-1,error:a==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(a)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=XL;let l=Lm(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(tE),this.states=Lm(t.states,Uint32Array),this.data=Lm(t.stateData),this.goto=Lm(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(o=>typeof o=="number"?new Bu(l,o):o),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let n=new TK(this,t,e,i);for(let s of this.wrappers)n=s(n,t,e,i);return n}getGoto(t,e,i=!1){let n=this.goto;if(e>=n[0])return-1;for(let s=n[e+1];;){let l=n[s++],o=l&1,a=n[s++];if(o&&i)return a;for(let f=s+(l>>1);s<f;s++)if(n[s]==t)return a;if(o)return-1}}hasAction(t,e){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(t,n?2:1),l;;s+=3){if((l=i[s])==65535)if(i[s+1]==1)l=i[s=Ll(i,s+2)];else{if(i[s+1]==2)return Ll(i,s+2);break}if(l==e||l==0)return Ll(i,s+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,i=>i==e?!0:null)}allActions(t,e){let i=this.stateSlot(t,4),n=i?e(i):void 0;for(let s=this.stateSlot(t,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ll(this.data,s+2);else break;n=e(Ll(this.data,s+1))}return n}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Ll(this.data,i+2);else break;if((this.data[i+2]&1)==0){let n=this.data[i+1];e.some((s,l)=>l&1&&s==n)||e.push(this.data[i],n)}}return e}configure(t){let e=Object.assign(Object.create(n2.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(i=>{let n=t.tokenizers.find(s=>s.from==i);return n?n.to:i})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=t.specializers.find(o=>o.from==i.external);if(!s)return i;let l=Object.assign(Object.assign({},i),{external:s.to});return e.specializers[n]=tE(l),l})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map(()=>!1);if(t)for(let s of t.split(" ")){let l=e.indexOf(s);l>=0&&(i[l]=!0)}let n=null;for(let s=0;s<e.length;s++)if(!i[s])for(let l=this.dialects[e[s]],o;(o=this.data[l++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[o]=1;return new QK(t,i,n)}static deserialize(t){return new n2(t)}};function Ll(r,t){return r[t]|r[t+1]<<16}function RK(r){let t=null;for(let e of r){let i=e.p.stoppedAt;(e.pos==e.p.stream.end||i!=null&&e.pos>i)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function tE(r){if(r.external){let t=r.extend?1:0;return(e,i)=>r.external(e,i)<<1|t}return r.get}let EK=0,Zl=class r2{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=EK++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof r2&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let n=new r2(i,[],null,[]);if(n.set.push(n),e)for(let s of e.set)n.set.push(s);return n}static defineModifier(t){let e=new eE(t);return i=>i.modified.indexOf(e)>-1?i:eE.get(i.base||i,i.modified.concat(e).sort((n,s)=>n.id-s.id))}},DK=0,eE=class GL{constructor(t){this.name=t,this.instances=[],this.id=DK++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(o=>o.base==t&&BK(e,o.modified));if(i)return i;let n=[],s=new Zl(t.name,n,t,e);for(let o of e)o.instances.push(s);let l=_K(e);for(let o of t.set)if(!o.modified.length)for(let a of l)n.push(GL.get(o,a));return s}};function BK(r,t){return r.length==t.length&&r.every((e,i)=>e==t[i])}function _K(r){let t=[[]];for(let e=0;e<r.length;e++)for(let i=0,n=t.length;i<n;i++)t.push(t[i].concat(r[e]));return t.sort((e,i)=>i.length-e.length)}function zK(r){let t=Object.create(null);for(let e in r){let i=r[e];Array.isArray(i)||(i=[i]);for(let n of e.split(" "))if(n){let s=[],l=2,o=n;for(let p=0;;){if(o=="..."&&p>0&&p+3==n.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==n.length)break;let O=n[p++];if(p==n.length&&O=="!"){l=0;break}if(O!="/")throw new RangeError("Invalid path: "+n);o=n.slice(p)}let a=s.length-1,f=s[a];if(!f)throw new RangeError("Invalid path: "+n);let c=new WO(i,l,a>0?s.slice(0,a):null);t[f]=c.sort(t[f])}}return NK.add(t)}const NK=new De({combine(r,t){let e,i,n;for(;r||t;){if(!r||t&&r.depth>=t.depth?(n=t,t=t.next):(n=r,r=r.next),e&&e.mode==n.mode&&!n.context&&!e.context)continue;let s=new WO(n.tags,n.mode,n.context);e?e.next=s:i=s,e=s}return i}});let WO=class{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};WO.empty=new WO([],2,null);function LK(r,t){let e=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let l of s.tag)e[l.id]=s.class;let{scope:i,all:n=null}={};return{style:s=>{let l=n;for(let o of s)for(let a of o.set){let f=e[a.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}const vt=Zl.define,Zm=vt(),jo=vt(),iE=vt(jo),nE=vt(jo),qo=vt(),Vm=vt(qo),oS=vt(qo),Bs=vt(),Ya=vt(Bs),ys=vt(),bs=vt(),s2=vt(),kc=vt(s2),Xm=vt(),Ht={comment:Zm,lineComment:vt(Zm),blockComment:vt(Zm),docComment:vt(Zm),name:jo,variableName:vt(jo),typeName:iE,tagName:vt(iE),propertyName:nE,attributeName:vt(nE),className:vt(jo),labelName:vt(jo),namespace:vt(jo),macroName:vt(jo),literal:qo,string:Vm,docString:vt(Vm),character:vt(Vm),attributeValue:vt(Vm),number:oS,integer:vt(oS),float:vt(oS),bool:vt(qo),regexp:vt(qo),escape:vt(qo),color:vt(qo),url:vt(qo),keyword:ys,self:vt(ys),null:vt(ys),atom:vt(ys),unit:vt(ys),modifier:vt(ys),operatorKeyword:vt(ys),controlKeyword:vt(ys),definitionKeyword:vt(ys),moduleKeyword:vt(ys),operator:bs,derefOperator:vt(bs),arithmeticOperator:vt(bs),logicOperator:vt(bs),bitwiseOperator:vt(bs),compareOperator:vt(bs),updateOperator:vt(bs),definitionOperator:vt(bs),typeOperator:vt(bs),controlOperator:vt(bs),punctuation:s2,separator:vt(s2),bracket:kc,angleBracket:vt(kc),squareBracket:vt(kc),paren:vt(kc),brace:vt(kc),content:Bs,heading:Ya,heading1:vt(Ya),heading2:vt(Ya),heading3:vt(Ya),heading4:vt(Ya),heading5:vt(Ya),heading6:vt(Ya),contentSeparator:vt(Bs),list:vt(Bs),quote:vt(Bs),emphasis:vt(Bs),strong:vt(Bs),link:vt(Bs),monospace:vt(Bs),strikethrough:vt(Bs),inserted:vt(),deleted:vt(),changed:vt(),invalid:vt(),meta:Xm,documentMeta:vt(Xm),annotation:vt(Xm),processingInstruction:vt(Xm),definition:Zl.defineModifier("definition"),constant:Zl.defineModifier("constant"),function:Zl.defineModifier("function"),standard:Zl.defineModifier("standard"),local:Zl.defineModifier("local"),special:Zl.defineModifier("special")};for(let r in Ht){let t=Ht[r];t instanceof Zl&&(t.name=r)}LK([{tag:Ht.link,class:"tok-link"},{tag:Ht.heading,class:"tok-heading"},{tag:Ht.emphasis,class:"tok-emphasis"},{tag:Ht.strong,class:"tok-strong"},{tag:Ht.keyword,class:"tok-keyword"},{tag:Ht.atom,class:"tok-atom"},{tag:Ht.bool,class:"tok-bool"},{tag:Ht.url,class:"tok-url"},{tag:Ht.labelName,class:"tok-labelName"},{tag:Ht.inserted,class:"tok-inserted"},{tag:Ht.deleted,class:"tok-deleted"},{tag:Ht.literal,class:"tok-literal"},{tag:Ht.string,class:"tok-string"},{tag:Ht.number,class:"tok-number"},{tag:[Ht.regexp,Ht.escape,Ht.special(Ht.string)],class:"tok-string2"},{tag:Ht.variableName,class:"tok-variableName"},{tag:Ht.local(Ht.variableName),class:"tok-variableName tok-local"},{tag:Ht.definition(Ht.variableName),class:"tok-variableName tok-definition"},{tag:Ht.special(Ht.variableName),class:"tok-variableName2"},{tag:Ht.definition(Ht.propertyName),class:"tok-propertyName tok-definition"},{tag:Ht.typeName,class:"tok-typeName"},{tag:Ht.namespace,class:"tok-namespace"},{tag:Ht.className,class:"tok-className"},{tag:Ht.macroName,class:"tok-macroName"},{tag:Ht.propertyName,class:"tok-propertyName"},{tag:Ht.operator,class:"tok-operator"},{tag:Ht.comment,class:"tok-comment"},{tag:Ht.meta,class:"tok-meta"},{tag:Ht.invalid,class:"tok-invalid"},{tag:Ht.punctuation,class:"tok-punctuation"}]);const ZK=55,VK=1,XK=56,IK=2,jK=57,qK=3,rE=4,WK=5,U$=6,FL=7,KL=8,JL=9,t6=10,YK=11,HK=12,UK=13,aS=58,GK=14,FK=15,sE=59,e6=21,KK=23,i6=24,JK=25,l2=27,n6=28,tJ=29,eJ=32,iJ=35,nJ=37,rJ=38,sJ=0,lJ=1,oJ={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},aJ={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},lE={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function hJ(r){return r==45||r==46||r==58||r>=65&&r<=90||r==95||r>=97&&r<=122||r>=161}let oE=null,aE=null,hE=0;function o2(r,t){let e=r.pos+t;if(hE==e&&aE==r)return oE;let i=r.peek(t),n="";for(;hJ(i);)n+=String.fromCharCode(i),i=r.peek(++t);return aE=r,hE=e,oE=n?n.toLowerCase():i==uJ||i==fJ?void 0:null}const r6=60,YO=62,G$=47,uJ=63,fJ=33,cJ=45;function uE(r,t){this.name=r,this.parent=t}const dJ=[U$,t6,FL,KL,JL],pJ=new PK({start:null,shift(r,t,e,i){return dJ.indexOf(t)>-1?new uE(o2(i,1)||"",r):r},reduce(r,t){return t==e6&&r?r.parent:r},reuse(r,t,e,i){let n=t.type.id;return n==U$||n==nJ?new uE(o2(i,1)||"",r):r},strict:!1}),gJ=new B1((r,t)=>{if(r.next!=r6){r.next<0&&t.context&&r.acceptToken(aS);return}r.advance();let e=r.next==G$;e&&r.advance();let i=o2(r,0);if(i===void 0)return;if(!i)return r.acceptToken(e?FK:GK);let n=t.context?t.context.name:null;if(e){if(i==n)return r.acceptToken(YK);if(n&&aJ[n])return r.acceptToken(aS,-2);if(t.dialectEnabled(sJ))return r.acceptToken(HK);for(let s=t.context;s;s=s.parent)if(s.name==i)return;r.acceptToken(UK)}else{if(i=="script")return r.acceptToken(FL);if(i=="style")return r.acceptToken(KL);if(i=="textarea")return r.acceptToken(JL);if(oJ.hasOwnProperty(i))return r.acceptToken(t6);n&&lE[n]&&lE[n][i]?r.acceptToken(aS,-1):r.acceptToken(U$)}},{contextual:!0}),mJ=new B1(r=>{for(let t=0,e=0;;e++){if(r.next<0){e&&r.acceptToken(sE);break}if(r.next==cJ)t++;else if(r.next==YO&&t>=2){e>=3&&r.acceptToken(sE,-2);break}else t=0;r.advance()}});function OJ(r){for(;r;r=r.parent)if(r.name=="svg"||r.name=="math")return!0;return!1}const yJ=new B1((r,t)=>{if(r.next==G$&&r.peek(1)==YO){let e=t.dialectEnabled(lJ)||OJ(t.context);r.acceptToken(e?WK:rE,2)}else r.next==YO&&r.acceptToken(rE,1)});function F$(r,t,e){let i=2+r.length;return new B1(n=>{for(let s=0,l=0,o=0;;o++){if(n.next<0){o&&n.acceptToken(t);break}if(s==0&&n.next==r6||s==1&&n.next==G$||s>=2&&s<i&&n.next==r.charCodeAt(s-2))s++,l++;else if(s==i&&n.next==YO){o>l?n.acceptToken(t,-l):n.acceptToken(e,-(l-2));break}else if((n.next==10||n.next==13)&&o){n.acceptToken(t,1);break}else s=l=0;n.advance()}})}const bJ=F$("script",ZK,VK),xJ=F$("style",XK,IK),SJ=F$("textarea",jK,qK),wJ=zK({"Text RawText IncompleteTag IncompleteCloseTag":Ht.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Ht.angleBracket,TagName:Ht.tagName,"MismatchedCloseTag/TagName":[Ht.tagName,Ht.invalid],AttributeName:Ht.attributeName,"AttributeValue UnquotedAttributeValue":Ht.attributeValue,Is:Ht.definitionOperator,"EntityReference CharacterReference":Ht.character,Comment:Ht.blockComment,ProcessingInst:Ht.processingInstruction,DoctypeDecl:Ht.documentMeta}),vJ=MK.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:pJ,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[wJ],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[bJ,xJ,SJ,yJ,gJ,mJ,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function s6(r,t){let e=Object.create(null);for(let i of r.getChildren(i6)){let n=i.getChild(JK),s=i.getChild(l2)||i.getChild(n6);n&&(e[t.read(n.from,n.to)]=s?s.type.id==l2?t.read(s.from+1,s.to-1):t.read(s.from,s.to):"")}return e}function fE(r,t){let e=r.getChild(KK);return e?t.read(e.from,e.to):" "}function hS(r,t,e){let i;for(let n of e)if(!n.attrs||n.attrs(i||(i=s6(r.node.parent.firstChild,t))))return{parser:n.parser,bracketed:!0};return null}function l6(r=[],t=[]){let e=[],i=[],n=[],s=[];for(let o of r)(o.tag=="script"?e:o.tag=="style"?i:o.tag=="textarea"?n:s).push(o);let l=t.length?Object.create(null):null;for(let o of t)(l[o.name]||(l[o.name]=[])).push(o);return dK((o,a)=>{let f=o.type.id;if(f==tJ)return hS(o,a,e);if(f==eJ)return hS(o,a,i);if(f==iJ)return hS(o,a,n);if(f==e6&&s.length){let c=o.node,p=c.firstChild,m=p&&fE(p,a),O;if(m){for(let y of s)if(y.tag==m&&(!y.attrs||y.attrs(O||(O=s6(p,a))))){let S=c.lastChild,w=S.type.id==rJ?S.from:c.to;if(w>p.to)return{parser:y.parser,overlay:[{from:p.to,to:w}]}}}}if(l&&f==i6){let c=o.node,p;if(p=c.firstChild){let m=l[a.read(p.from,p.to)];if(m)for(let O of m){if(O.tagName&&O.tagName!=fE(c.parent,a))continue;let y=c.lastChild;if(y.type.id==l2){let S=y.from+1,w=y.lastChild,v=y.to-(w&&w.isError?0:1);if(v>S)return{parser:O.parser,overlay:[{from:S,to:v}],bracketed:!0}}else if(y.type.id==n6)return{parser:O.parser,overlay:[{from:y.from,to:y.to}]}}}}return null})}const o6=1024;let kJ=0,uS=class{constructor(t,e){this.from=t,this.to=e}},Ue=class{constructor(t={}){this.id=kJ++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=lo.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}};Ue.closedBy=new Ue({deserialize:r=>r.split(" ")});Ue.openedBy=new Ue({deserialize:r=>r.split(" ")});Ue.group=new Ue({deserialize:r=>r.split(" ")});Ue.isolate=new Ue({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Ue.contextHash=new Ue({perNode:!0});Ue.lookAhead=new Ue({perNode:!0});Ue.mounted=new Ue({perNode:!0});let Rd=class{constructor(t,e,i,n=!1){this.tree=t,this.overlay=e,this.parser=i,this.bracketed=n}static get(t){return t&&t.props&&t.props[Ue.mounted.id]}};const $J=Object.create(null);let lo=class a6{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):$J,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new a6(t.name||"",e,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Ue.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return i=>{for(let n=i.prop(Ue.group),s=-1;s<(n?n.length:0);s++){let l=e[s<0?i.name:n[s]];if(l)return l}}}};lo.none=new lo("",Object.create(null),0,8);let AJ=class h6{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let n=null;for(let s of t){let l=s(i);if(l){n||(n=Object.assign({},i.props));let o=l[1],a=l[0];a.combine&&a.id in n&&(o=a.combine(n[a.id],o)),n[a.id]=o}}e.push(n?new lo(i.name,n,i.id,i.flags):i)}return new h6(e)}};const Im=new WeakMap,cE=new WeakMap;var Ai;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays",r[r.EnterBracketed=16]="EnterBracketed"})(Ai||(Ai={}));let Mr=class a2{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let t=Rd.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let n=i.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new f2(this.topNode,t)}cursorAt(t,e=0,i=0){let n=Im.get(this)||this.topNode,s=new f2(n);return s.moveTo(t,e),Im.set(this,s._tree),s}get topNode(){return new wa(this,0,0,null)}resolve(t,e=0){let i=pp(Im.get(this)||this.topNode,t,e,!1);return Im.set(this,i),i}resolveInner(t,e=0){let i=pp(cE.get(this)||this.topNode,t,e,!0);return cE.set(this,i),i}resolveStack(t,e=0){return PJ(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t,l=t.mode||0,o=(l&Ai.IncludeAnonymous)>0;for(let a=this.cursor(l|Ai.IncludeAnonymous);;){let f=!1;if(a.from<=s&&a.to>=n&&(!o&&a.type.isAnonymous||e(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:J$(lo.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,n)=>new a2(this.type,e,i,n,this.propValues),t.makeTree||((e,i,n)=>new a2(lo.none,e,i,n)))}static build(t){return MJ(t)}};Mr.empty=new Mr(lo.none,[],[],0);let CJ=class u6{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new u6(this.buffer,this.index)}},rf=class f6{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return lo.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let l=[];for(;t<i;)l.push(this.childString(t)),t=this.buffer[t+3];return s+"("+l.join(",")+")"}findChild(t,e,i,n,s){let{buffer:l}=this,o=-1;for(let a=t;a!=e&&!(c6(s,n,l[a+1],l[a+2])&&(o=a,i>0));a=l[a+3]);return o}slice(t,e,i){let n=this.buffer,s=new Uint16Array(e-t),l=0;for(let o=t,a=0;o<e;){s[a++]=n[o++],s[a++]=n[o++]-i;let f=s[a++]=n[o++]-i;s[a++]=n[o++]-t,l=Math.max(l,f)}return new f6(s,l,this.set)}};function c6(r,t,e,i){switch(r){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function pp(r,t,e,i){for(var n;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let l=!i&&r instanceof wa&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=i?0:Ai.IgnoreOverlays;if(i)for(let l=r,o=l.parent;o;l=o,o=l.parent)l instanceof wa&&l.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=l.from&&(r=o);for(;;){let l=r.enter(t,e,s);if(!l)return r;r=l}}let d6=class{cursor(t=0){return new f2(this,t)}getChild(t,e=null,i=null){let n=dE(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return dE(this,t,e,i)}resolve(t,e=0){return pp(this,t,e,!1)}resolveInner(t,e=0){return pp(this,t,e,!0)}matchContext(t){return h2(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let n=e.lastChild;if(!n||n.to!=e.to)break;n.type.isError&&n.from==n.to?(i=e,e=n.prevSibling):e=n}return i}get node(){return this}get next(){return this.parent}},wa=class G0 extends d6{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,s=0){for(let l=this;;){for(let{children:o,positions:a}=l._tree,f=e>0?o.length:-1;t!=f;t+=e){let c=o[t],p=a[t]+l.from,m;if(!(!(s&Ai.EnterBracketed&&c instanceof Mr&&(m=Rd.get(c))&&!m.overlay&&m.bracketed&&i>=p&&i<=p+c.length)&&!c6(n,i,p,p+c.length))){if(c instanceof rf){if(s&Ai.ExcludeBuffers)continue;let O=c.findChild(0,c.buffer.length,e,i-p,n);if(O>-1)return new u2(new TJ(l,c,t,p),null,O)}else if(s&Ai.IncludeAnonymous||!c.type.isAnonymous||K$(c)){let O;if(!(s&Ai.IgnoreMounts)&&(O=Rd.get(c))&&!O.overlay)return new G0(O.tree,p,t,l);let y=new G0(c,p,t,l);return s&Ai.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(e<0?c.children.length-1:0,e,i,n,s)}}}if(s&Ai.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?t=l.index+e:t=e<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,i=0){let n;if(!(i&Ai.IgnoreOverlays)&&(n=Rd.get(this._tree))&&n.overlay){let s=t-this.from,l=i&Ai.EnterBracketed&&n.bracketed;for(let{from:o,to:a}of n.overlay)if((e>0||l?o<=s:o<s)&&(e<0||l?a>=s:a>s))return new G0(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function dE(r,t,e,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(let l=!1;!l;)if(l=n.type.is(e),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function h2(r,t,e=t.length-1){for(let i=r;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}let TJ=class{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}},u2=class rd extends d6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new rd(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,i=0){if(i&Ai.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new rd(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new rd(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new rd(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let l=i.buffer[this.index+1];t.push(i.slice(n,s,l)),e.push(0)}return new Mr(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function p6(r){if(!r.length)return null;let t=0,e=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>e.from||l.to<e.to)&&(e=l,t=s)}let i=e instanceof wa&&e.index<0?null:e.parent,n=r.slice();return i?n[t]=i:n.splice(t,1),new QJ(n,e)}let QJ=class{constructor(t,e){this.heads=t,this.node=e}get next(){return p6(this.heads)}};function PJ(r,t,e){let i=r.resolveInner(t,e),n=null;for(let s=i instanceof wa?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(n||(n=[i])).push(l.resolve(t,e)),s=l}else{let l=Rd.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=t&&l.overlay[l.overlay.length-1].to>=t){let o=new wa(l.tree,l.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(pp(o,t,e,!1))}}return n?p6(n):i}let f2=class{get name(){return this.type.name}constructor(t,e=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=e&~Ai.EnterBracketed,t instanceof wa)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return t?t instanceof wa?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&Ai.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ai.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Ai.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let s=e+t,l=t<0?-1:i._tree.children.length;s!=l;s+=t){let o=i._tree.children[s];if(this.mode&Ai.IncludeAnonymous||o instanceof rf||!o.type.isAnonymous||K$(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let l=t;l;l=l._parent)if(l.index==n){if(n==this.index)return l;e=l,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new u2(this.buffer,e,this.stack[n]);return this.bufferNode=new u2(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return h2(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return h2(this._tree,t,n);let l=i[e.buffer[this.stack[s]]];if(!l.isAnonymous){if(t[n]&&t[n]!=l.name)return!1;n--}}return!0}};function K$(r){return r.children.some(t=>t instanceof rf||!t.type.isAnonymous||K$(t))}function MJ(r){var t;let{buffer:e,nodeSet:i,maxBufferLength:n=o6,reused:s=[],minRepeatType:l=i.types.length}=r,o=Array.isArray(e)?new CJ(e,e.length):e,a=i.types,f=0,c=0;function p(P,E,A,V,D,Z){let{id:z,start:k,end:L,size:$}=o,j=c,W=f;if($<0)if(o.next(),$==-1){let R=s[z];A.push(R),V.push(k-P);return}else if($==-3){f=z;return}else if($==-4){c=z;return}else throw new RangeError(`Unrecognized record size: ${$}`);let X=a[z],st,F,pt=k-P;if(L-k<=n&&(F=w(o.pos-E,D))){let R=new Uint16Array(F.size-F.skip),B=o.pos-F.size,H=R.length;for(;o.pos>B;)H=v(F.start,R,H);st=new rf(R,L-F.start,i),pt=F.start-P}else{let R=o.pos-$;o.next();let B=[],H=[],G=z>=l?z:-1,tt=0,mt=L;for(;o.pos>R;)G>=0&&o.id==G&&o.size>=0?(o.end<=mt-n&&(y(B,H,k,tt,o.end,mt,G,j,W),tt=B.length,mt=o.end),o.next()):Z>2500?m(k,R,B,H):p(k,R,B,H,G,Z+1);if(G>=0&&tt>0&&tt<B.length&&y(B,H,k,tt,k,mt,G,j,W),B.reverse(),H.reverse(),G>-1&&tt>0){let Rt=O(X,W);st=J$(X,B,H,0,B.length,0,L-k,Rt,Rt)}else st=S(X,B,H,L-k,j-L,W)}A.push(st),V.push(pt)}function m(P,E,A,V){let D=[],Z=0,z=-1;for(;o.pos>E;){let{id:k,start:L,end:$,size:j}=o;if(j>4)o.next();else{if(z>-1&&L<z)break;z<0&&(z=$-n),D.push(k,L,$),Z++,o.next()}}if(Z){let k=new Uint16Array(Z*4),L=D[D.length-2];for(let $=D.length-3,j=0;$>=0;$-=3)k[j++]=D[$],k[j++]=D[$+1]-L,k[j++]=D[$+2]-L,k[j++]=j;A.push(new rf(k,D[2]-L,i)),V.push(L-P)}}function O(P,E){return(A,V,D)=>{let Z=0,z=A.length-1,k,L;if(z>=0&&(k=A[z])instanceof Mr){if(!z&&k.type==P&&k.length==D)return k;(L=k.prop(Ue.lookAhead))&&(Z=V[z]+k.length+L)}return S(P,A,V,D,Z,E)}}function y(P,E,A,V,D,Z,z,k,L){let $=[],j=[];for(;P.length>V;)$.push(P.pop()),j.push(E.pop()+A-D);P.push(S(i.types[z],$,j,Z-D,k-Z,L)),E.push(D-A)}function S(P,E,A,V,D,Z,z){if(Z){let k=[Ue.contextHash,Z];z=z?[k].concat(z):[k]}if(D>25){let k=[Ue.lookAhead,D];z=z?[k].concat(z):[k]}return new Mr(P,E,A,V,z)}function w(P,E){let A=o.fork(),V=0,D=0,Z=0,z=A.end-n,k={size:0,start:0,skip:0};t:for(let L=A.pos-P;A.pos>L;){let $=A.size;if(A.id==E&&$>=0){k.size=V,k.start=D,k.skip=Z,Z+=4,V+=4,A.next();continue}let j=A.pos-$;if($<0||j<L||A.start<z)break;let W=A.id>=l?4:0,X=A.start;for(A.next();A.pos>j;){if(A.size<0)if(A.size==-3||A.size==-4)W+=4;else break t;else A.id>=l&&(W+=4);A.next()}D=X,V+=$,Z+=W}return(E<0||V==P)&&(k.size=V,k.start=D,k.skip=Z),k.size>4?k:void 0}function v(P,E,A){let{id:V,start:D,end:Z,size:z}=o;if(o.next(),z>=0&&V<l){let k=A;if(z>4){let L=o.pos-(z-4);for(;o.pos>L;)A=v(P,E,A)}E[--A]=k,E[--A]=Z-P,E[--A]=D-P,E[--A]=V}else z==-3?f=V:z==-4&&(c=V);return A}let T=[],M=[];for(;o.pos>0;)p(r.start||0,r.bufferStart||0,T,M,-1,0);let N=(t=r.length)!==null&&t!==void 0?t:T.length?M[0]+T[0].length:0;return new Mr(a[r.topID],T.reverse(),M.reverse(),N)}const pE=new WeakMap;function F0(r,t){if(!r.isAnonymous||t instanceof rf||t.type!=r)return 1;let e=pE.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=r||!(i instanceof Mr)){e=1;break}e+=F0(r,i)}pE.set(t,e)}return e}function J$(r,t,e,i,n,s,l,o,a){let f=0;for(let y=i;y<n;y++)f+=F0(r,t[y]);let c=Math.ceil(f*1.5/8),p=[],m=[];function O(y,S,w,v,T){for(let M=w;M<v;){let N=M,P=S[M],E=F0(r,y[M]);for(M++;M<v;M++){let A=F0(r,y[M]);if(E+A>=c)break;E+=A}if(M==N+1){if(E>c){let A=y[N];O(A.children,A.positions,0,A.children.length,S[N]+T);continue}p.push(y[N])}else{let A=S[M-1]+y[M-1].length-P;p.push(J$(r,y,S,N,M,P,A,null,a))}m.push(P+T-s)}}return O(t,e,i,n,0),(o||a)(p,m,l)}let RJ=class{startParse(t,e,i){return typeof t=="string"&&(t=new EJ(t)),i=i?i.length?i.map(n=>new uS(n.from,n.to)):[new uS(0,0)]:[new uS(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let s=n.advance();if(s)return s}}},EJ=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};new Ue({perNode:!0});var gE={};let DJ=class c2{constructor(t,e,i,n,s,l,o,a,f,c=0,p){this.p=t,this.stack=e,this.state=i,this.reducePos=n,this.pos=s,this.score=l,this.buffer=o,this.bufferBase=a,this.curContext=f,this.lookAhead=c,this.parent=p}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let n=t.parser.context;return new c2(t,[],e,i,i,0,[],0,n?new mE(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let i=t>>19,n=t&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=s.dynamicPrecedence(n);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(i-1)*3-(t&262144?6:0),f=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-f;c>=2e3&&!(!((e=this.p.parser.nodeSet.types[n])===null||e===void 0)&&e.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=c));let p=a?this.stack[a-1]:0,m=this.bufferBase+this.buffer.length-p;if(n<s.minRepeatTerm||t&131072){let O=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,f,O,m+4,!0)}if(t&262144)this.state=this.stack[a];else{let O=this.stack[a-3];this.state=s.getGoto(O,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,f)}storeNode(t,e,i,n=4,s=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(e==i)return;if(l.buffer[o-2]>=e){l.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(t,e,i,n);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let a=l;a>0&&this.buffer[a-2]>i;a-=4)if(this.buffer[a-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>i;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,n>4&&(n-=4)}this.buffer[l]=t,this.buffer[l+1]=e,this.buffer[l+2]=i,this.buffer[l+3]=n}}shift(t,e,i,n){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let s=t,{parser:l}=this.p;this.pos=n;let o=l.stateFlag(s,1);!o&&(n>i||e<=l.maxNode)&&(this.reducePos=n),this.pushState(s,o?i:Math.min(i,this.reducePos)),this.shiftContext(e,i),e<=l.maxNode&&this.buffer.push(e,i,n,4)}else this.pos=n,this.shiftContext(e,i),e<=this.p.parser.maxNode&&this.buffer.push(e,i,n,4)}apply(t,e,i,n){t&65536?this.reduce(t):this.shift(t,e,i,n)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let i=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new c2(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new BJ(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(i==0)return!1;if((i&65536)==0)return!0;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let s=0,l;s<e.length;s+=2)(l=e[s+1])!=this.state&&this.p.parser.hasAction(l,t)&&n.push(e[s],l);if(this.stack.length<120)for(let s=0;n.length<8&&s<e.length;s+=2){let l=e[s+1];n.some((o,a)=>a&1&&o==l)||n.push(e[s],l)}e=n}let i=[];for(let n=0;n<e.length&&i.length<4;n+=2){let s=e[n+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(e[n],this.pos),l.reducePos=this.pos,l.score-=200,i.push(l)}return i}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let i=e>>19,n=e&65535,s=this.stack.length-i*3;if(s<0||t.getGoto(this.stack[s],n,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;e=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],i=(n,s)=>{if(!e.includes(n))return e.push(n),t.allActions(n,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-s;if(o>1){let a=l&65535,f=this.stack.length-o*3;if(f>=0&&t.getGoto(this.stack[f],a,!1)>=0)return o<<19|65536|a}}else{let o=i(l,s+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new mE(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){return t<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},mE=class{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}},BJ=class{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,i=t>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=n}},_J=class d2{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new d2(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new d2(this.stack,this.pos,this.index)}};function sd(r,t=Uint16Array){if(typeof r!="string")return r;let e=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let l=r.charCodeAt(i++),o=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let a=l-32;if(a>=46&&(a-=46,o=!0),s+=a,o)break;s*=46}e?e[n++]=s:e=new t(s)}return e}let K0=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}};const OE=new K0;let zJ=class{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=OE,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,n=this.rangeIndex,s=this.pos+t;for(;s<i.from;){if(!n)return null;let l=this.ranges[--n];s-=i.from-l.to,i=l}for(;e<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let l=this.ranges[++n];s+=l.from-i.to,i=l}return s}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,i,n;if(e>=0&&e<this.chunk.length)i=this.pos+t,n=this.chunk.charCodeAt(e);else{let s=this.resolveOffset(t,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=OE,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(i+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return i}},_u=class{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:i}=e.p;m6(this.data,t,e,this.id,i.data,i.tokenPrecTable)}};_u.prototype.contextual=_u.prototype.fallback=_u.prototype.extend=!1;let g6=class{constructor(t,e,i){this.precTable=e,this.elseToken=i,this.data=typeof t=="string"?sd(t):t}token(t,e){let i=t.pos,n=0;for(;;){let s=t.next<0,l=t.resolveOffset(1,1);if(m6(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(s||n++,l==null)break;t.reset(l,t.token)}n&&(t.reset(i,t.token),t.acceptToken(this.elseToken,n))}};g6.prototype.contextual=_u.prototype.fallback=_u.prototype.extend=!1;let _1=class{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}};function m6(r,t,e,i,n,s){let l=0,o=1<<i,{dialect:a}=e.p.parser;t:for(;(o&r[l])!=0;){let f=r[l+1];for(let O=l+3;O<f;O+=2)if((r[O+1]&o)>0){let y=r[O];if(a.allows(y)&&(t.token.value==-1||t.token.value==y||NJ(y,t.token.value,n,s))){t.acceptToken(y);break}}let c=t.next,p=0,m=r[l+2];if(t.next<0&&m>p&&r[f+m*3-3]==65535){l=r[f+m*3-1];continue t}for(;p<m;){let O=p+m>>1,y=f+O+(O<<1),S=r[y],w=r[y+1]||65536;if(c<S)m=O;else if(c>=w)p=O+1;else{l=r[y+2],t.advance();continue t}}break}}function yE(r,t,e){for(let i=t,n;(n=r[i])!=65535;i++)if(n==e)return i-t;return-1}function NJ(r,t,e,i){let n=yE(e,i,t);return n<0||yE(e,i,r)<n}const Jn=typeof process<"u"&&gE&&/\bparse\b/.test(gE.LOG);let fS=null;function bE(r,t,e){let i=r.cursor(Ai.IncludeAnonymous);for(i.moveTo(t);;)if(!(e<0?i.childBefore(t):i.childAfter(t)))for(;;){if((e<0?i.to<t:i.from>t)&&!i.type.isError)return e<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(r.length,Math.max(i.from+1,t+25));if(e<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return e<0?0:r.length}}let LJ=class{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?bE(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?bE(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],n=this.index[e];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],l=this.start[e]+i.positions[n];if(l>t)return this.nextStart=l,null;if(s instanceof Mr){if(l==t){if(l<this.safeFrom)return null;let o=l+s.length;if(o<=this.safeTo){let a=s.prop(Ue.lookAhead);if(!a||o+a<this.fragment.to)return s}}this.index[e]++,l+s.length>=Math.max(this.safeFrom,t)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[e]++,this.nextStart=l+s.length}}},ZJ=class{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(i=>new K0)}getActions(t){let e=0,i=null,{parser:n}=t.p,{tokenizers:s}=n,l=n.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let f=0;f<s.length;f++){if((1<<f&l)==0)continue;let c=s[f],p=this.tokens[f];if(!(i&&!c.fallback)&&((c.contextual||p.start!=t.pos||p.mask!=l||p.context!=o)&&(this.updateCachedToken(p,c,t),p.mask=l,p.context=o),p.lookAhead>p.end+25&&(a=Math.max(p.lookAhead,a)),p.value!=0)){let m=e;if(p.extended>-1&&(e=this.addActions(t,p.extended,p.end,e)),e=this.addActions(t,p.value,p.end,e),!c.extend&&(i=p,e>m))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),!i&&t.pos==this.stream.end&&(i=new K0,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new K0,{pos:i,p:n}=t;return e.start=i,e.end=Math.min(i+1,n.stream.end),e.value=i==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,i){let n=this.stream.clipPos(i.pos);if(e.token(this.stream.reset(n,t),i),t.value>-1){let{parser:s}=i.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==t.value){let o=s.specializers[l](this.stream.read(t.start,t.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?t.value=o>>1:t.extended=o>>1;break}}}else t.value=0,t.end=this.stream.clipPos(n+1)}putAction(t,e,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=i,n}addActions(t,e,i,n){let{state:s}=t,{parser:l}=t.p,{data:o}=l;for(let a=0;a<2;a++)for(let f=l.stateSlot(s,a?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=Vl(o,f+2);else{n==0&&o[f+1]==2&&(n=this.putAction(Vl(o,f+2),e,i,n));break}o[f]==e&&(n=this.putAction(Vl(o,f+1),e,i,n))}return n}},VJ=class{constructor(t,e,i,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new zJ(e,n),this.tokens=new ZJ(t,this.stream),this.topTerm=t.top[1];let{from:s}=n[0];this.stacks=[DJ.start(this,t.top[0],s)],this.fragments=i.length&&this.stream.end-s>t.bufferLength*4?new LJ(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&t.length==1){let[l]=t;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<t.length;l++){let o=t[l];for(;;){if(this.tokens.mainToken=null,o.pos>e)i.push(o);else{if(this.advanceStack(o,i,t))continue;{n||(n=[],s=[]),n.push(o);let a=this.tokens.getMainToken(o);s.push(a.value,a.end)}}break}}if(!i.length){let l=n&&jJ(n);if(l)return Jn&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw Jn&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&n){let l=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(l)return Jn&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(i.length>l)for(i.sort((o,a)=>a.score-o.score);i.length>l;)i.pop();i.some(o=>o.reducePos>e)&&this.recovering--}else if(i.length>1){t:for(let l=0;l<i.length-1;l++){let o=i[l];for(let a=l+1;a<i.length;a++){let f=i[a];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)i.splice(a--,1);else{i.splice(l--,1);continue t}}}i.length>12&&(i.sort((l,o)=>o.score-l.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let l=1;l<i.length;l++)i[l].pos<this.minStackPos&&(this.minStackPos=i[l].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let n=t.pos,{parser:s}=this,l=Jn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let f=t.curContext&&t.curContext.tracker.strict,c=f?t.curContext.hash:0;for(let p=this.fragments.nodeAt(n);p;){let m=this.parser.nodeSet.types[p.type.id]==p.type?s.getGoto(t.state,p.type.id):-1;if(m>-1&&p.length&&(!f||(p.prop(Ue.contextHash)||0)==c))return t.useNode(p,m),Jn&&console.log(l+this.stackID(t)+` (via reuse of ${s.getName(p.type.id)})`),!0;if(!(p instanceof Mr)||p.children.length==0||p.positions[0]>0)break;let O=p.children[0];if(O instanceof Mr&&p.positions[0]==0)p=O;else break}}let o=s.stateSlot(t.state,4);if(o>0)return t.reduce(o),Jn&&console.log(l+this.stackID(t)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let f=0;f<a.length;){let c=a[f++],p=a[f++],m=a[f++],O=f==a.length||!i,y=O?t:t.split(),S=this.tokens.mainToken;if(y.apply(c,p,S?S.start:y.pos,m),Jn&&console.log(l+this.stackID(y)+` (via ${(c&65536)==0?"shift":`reduce of ${s.getName(c&65535)}`} for ${s.getName(p)} @ ${n}${y==t?"":", split"})`),O)return!0;y.pos>n?e.push(y):i.push(y)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return xE(t,e),!0}}runRecovery(t,e,i){let n=null,s=!1;for(let l=0;l<t.length;l++){let o=t[l],a=e[l<<1],f=e[(l<<1)+1],c=Jn?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),Jn&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let p=o.split(),m=c;for(let O=0;O<10&&p.forceReduce()&&(Jn&&console.log(m+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,i));O++)Jn&&(m=this.stackID(p)+" -> ");for(let O of o.recoverByInsert(a))Jn&&console.log(c+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,i);this.stream.end>o.pos?(f==o.pos&&(f++,a=0),o.recoverByDelete(a,f),Jn&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),xE(o,i)):(!n||n.score<p.score)&&(n=p)}return n}stackToTree(t){return t.close(),Mr.build({buffer:_J.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(fS||(fS=new WeakMap)).get(t);return e||fS.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}};function xE(r,t){for(let e=0;e<t.length;e++){let i=t[e];if(i.pos==r.pos&&i.sameState(r)){t[e].score<r.score&&(t[e]=r);return}}t.push(r)}let XJ=class{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||this.disabled[t]==0}},IJ=class p2 extends RJ{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let i=Object.keys(t.topRules).map(o=>t.topRules[o][1]),n=[];for(let o=0;o<e.length;o++)n.push([]);function s(o,a,f){n[o].push([a,a.deserialize(String(f))])}if(t.nodeProps)for(let o of t.nodeProps){let a=o[0];typeof a=="string"&&(a=Ue[a]);for(let f=1;f<o.length;){let c=o[f++];if(c>=0)s(c,a,o[f++]);else{let p=o[f+-c];for(let m=-c;m>0;m--)s(o[f++],a,p);f++}}}this.nodeSet=new AJ(e.map((o,a)=>lo.define({name:a>=this.minRepeatTerm?void 0:o,id:a,props:n[a],top:i.indexOf(a)>-1,error:a==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(a)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=o6;let l=sd(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(SE),this.states=sd(t.states,Uint32Array),this.data=sd(t.stateData),this.goto=sd(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(o=>typeof o=="number"?new _u(l,o):o),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let n=new VJ(this,t,e,i);for(let s of this.wrappers)n=s(n,t,e,i);return n}getGoto(t,e,i=!1){let n=this.goto;if(e>=n[0])return-1;for(let s=n[e+1];;){let l=n[s++],o=l&1,a=n[s++];if(o&&i)return a;for(let f=s+(l>>1);s<f;s++)if(n[s]==t)return a;if(o)return-1}}hasAction(t,e){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(t,n?2:1),l;;s+=3){if((l=i[s])==65535)if(i[s+1]==1)l=i[s=Vl(i,s+2)];else{if(i[s+1]==2)return Vl(i,s+2);break}if(l==e||l==0)return Vl(i,s+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,i=>i==e?!0:null)}allActions(t,e){let i=this.stateSlot(t,4),n=i?e(i):void 0;for(let s=this.stateSlot(t,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Vl(this.data,s+2);else break;n=e(Vl(this.data,s+1))}return n}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Vl(this.data,i+2);else break;if((this.data[i+2]&1)==0){let n=this.data[i+1];e.some((s,l)=>l&1&&s==n)||e.push(this.data[i],n)}}return e}configure(t){let e=Object.assign(Object.create(p2.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(i=>{let n=t.tokenizers.find(s=>s.from==i);return n?n.to:i})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=t.specializers.find(o=>o.from==i.external);if(!s)return i;let l=Object.assign(Object.assign({},i),{external:s.to});return e.specializers[n]=SE(l),l})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map(()=>!1);if(t)for(let s of t.split(" ")){let l=e.indexOf(s);l>=0&&(i[l]=!0)}let n=null;for(let s=0;s<e.length;s++)if(!i[s])for(let l=this.dialects[e[s]],o;(o=this.data[l++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[o]=1;return new XJ(t,i,n)}static deserialize(t){return new p2(t)}};function Vl(r,t){return r[t]|r[t+1]<<16}function jJ(r){let t=null;for(let e of r){let i=e.p.stoppedAt;(e.pos==e.p.stream.end||i!=null&&e.pos>i)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function SE(r){if(r.external){let t=r.extend?1:0;return(e,i)=>r.external(e,i)<<1|t}return r.get}let qJ=0,Xl=class g2{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=qJ++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof g2&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let n=new g2(i,[],null,[]);if(n.set.push(n),e)for(let s of e.set)n.set.push(s);return n}static defineModifier(t){let e=new wE(t);return i=>i.modified.indexOf(e)>-1?i:wE.get(i.base||i,i.modified.concat(e).sort((n,s)=>n.id-s.id))}},WJ=0,wE=class O6{constructor(t){this.name=t,this.instances=[],this.id=WJ++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(o=>o.base==t&&YJ(e,o.modified));if(i)return i;let n=[],s=new Xl(t.name,n,t,e);for(let o of e)o.instances.push(s);let l=HJ(e);for(let o of t.set)if(!o.modified.length)for(let a of l)n.push(O6.get(o,a));return s}};function YJ(r,t){return r.length==t.length&&r.every((e,i)=>e==t[i])}function HJ(r){let t=[[]];for(let e=0;e<r.length;e++)for(let i=0,n=t.length;i<n;i++)t.push(t[i].concat(r[e]));return t.sort((e,i)=>i.length-e.length)}function UJ(r){let t=Object.create(null);for(let e in r){let i=r[e];Array.isArray(i)||(i=[i]);for(let n of e.split(" "))if(n){let s=[],l=2,o=n;for(let p=0;;){if(o=="..."&&p>0&&p+3==n.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==n.length)break;let O=n[p++];if(p==n.length&&O=="!"){l=0;break}if(O!="/")throw new RangeError("Invalid path: "+n);o=n.slice(p)}let a=s.length-1,f=s[a];if(!f)throw new RangeError("Invalid path: "+n);let c=new HO(i,l,a>0?s.slice(0,a):null);t[f]=c.sort(t[f])}}return GJ.add(t)}const GJ=new Ue({combine(r,t){let e,i,n;for(;r||t;){if(!r||t&&r.depth>=t.depth?(n=t,t=t.next):(n=r,r=r.next),e&&e.mode==n.mode&&!n.context&&!e.context)continue;let s=new HO(n.tags,n.mode,n.context);e?e.next=s:i=s,e=s}return i}});let HO=class{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};HO.empty=new HO([],2,null);function FJ(r,t){let e=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let l of s.tag)e[l.id]=s.class;let{scope:i,all:n=null}={};return{style:s=>{let l=n;for(let o of s)for(let a of o.set){let f=e[a.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}const kt=Xl.define,jm=kt(),Wo=kt(),vE=kt(Wo),kE=kt(Wo),Yo=kt(),qm=kt(Yo),cS=kt(Yo),_s=kt(),Ha=kt(_s),xs=kt(),Ss=kt(),m2=kt(),$c=kt(m2),Wm=kt(),Mt={comment:jm,lineComment:kt(jm),blockComment:kt(jm),docComment:kt(jm),name:Wo,variableName:kt(Wo),typeName:vE,tagName:kt(vE),propertyName:kE,attributeName:kt(kE),className:kt(Wo),labelName:kt(Wo),namespace:kt(Wo),macroName:kt(Wo),literal:Yo,string:qm,docString:kt(qm),character:kt(qm),attributeValue:kt(qm),number:cS,integer:kt(cS),float:kt(cS),bool:kt(Yo),regexp:kt(Yo),escape:kt(Yo),color:kt(Yo),url:kt(Yo),keyword:xs,self:kt(xs),null:kt(xs),atom:kt(xs),unit:kt(xs),modifier:kt(xs),operatorKeyword:kt(xs),controlKeyword:kt(xs),definitionKeyword:kt(xs),moduleKeyword:kt(xs),operator:Ss,derefOperator:kt(Ss),arithmeticOperator:kt(Ss),logicOperator:kt(Ss),bitwiseOperator:kt(Ss),compareOperator:kt(Ss),updateOperator:kt(Ss),definitionOperator:kt(Ss),typeOperator:kt(Ss),controlOperator:kt(Ss),punctuation:m2,separator:kt(m2),bracket:$c,angleBracket:kt($c),squareBracket:kt($c),paren:kt($c),brace:kt($c),content:_s,heading:Ha,heading1:kt(Ha),heading2:kt(Ha),heading3:kt(Ha),heading4:kt(Ha),heading5:kt(Ha),heading6:kt(Ha),contentSeparator:kt(_s),list:kt(_s),quote:kt(_s),emphasis:kt(_s),strong:kt(_s),link:kt(_s),monospace:kt(_s),strikethrough:kt(_s),inserted:kt(),deleted:kt(),changed:kt(),invalid:kt(),meta:Wm,documentMeta:kt(Wm),annotation:kt(Wm),processingInstruction:kt(Wm),definition:Xl.defineModifier("definition"),constant:Xl.defineModifier("constant"),function:Xl.defineModifier("function"),standard:Xl.defineModifier("standard"),local:Xl.defineModifier("local"),special:Xl.defineModifier("special")};for(let r in Mt){let t=Mt[r];t instanceof Xl&&(t.name=r)}FJ([{tag:Mt.link,class:"tok-link"},{tag:Mt.heading,class:"tok-heading"},{tag:Mt.emphasis,class:"tok-emphasis"},{tag:Mt.strong,class:"tok-strong"},{tag:Mt.keyword,class:"tok-keyword"},{tag:Mt.atom,class:"tok-atom"},{tag:Mt.bool,class:"tok-bool"},{tag:Mt.url,class:"tok-url"},{tag:Mt.labelName,class:"tok-labelName"},{tag:Mt.inserted,class:"tok-inserted"},{tag:Mt.deleted,class:"tok-deleted"},{tag:Mt.literal,class:"tok-literal"},{tag:Mt.string,class:"tok-string"},{tag:Mt.number,class:"tok-number"},{tag:[Mt.regexp,Mt.escape,Mt.special(Mt.string)],class:"tok-string2"},{tag:Mt.variableName,class:"tok-variableName"},{tag:Mt.local(Mt.variableName),class:"tok-variableName tok-local"},{tag:Mt.definition(Mt.variableName),class:"tok-variableName tok-definition"},{tag:Mt.special(Mt.variableName),class:"tok-variableName2"},{tag:Mt.definition(Mt.propertyName),class:"tok-propertyName tok-definition"},{tag:Mt.typeName,class:"tok-typeName"},{tag:Mt.namespace,class:"tok-namespace"},{tag:Mt.className,class:"tok-className"},{tag:Mt.macroName,class:"tok-macroName"},{tag:Mt.propertyName,class:"tok-propertyName"},{tag:Mt.operator,class:"tok-operator"},{tag:Mt.comment,class:"tok-comment"},{tag:Mt.meta,class:"tok-meta"},{tag:Mt.invalid,class:"tok-invalid"},{tag:Mt.punctuation,class:"tok-punctuation"}]);const KJ=122,$E=1,JJ=123,ttt=124,y6=2,ett=125,itt=3,ntt=4,b6=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],rtt=58,stt=40,x6=95,ltt=91,J0=45,ott=46,att=35,htt=37,utt=38,ftt=92,ctt=10,dtt=42;function gp(r){return r>=65&&r<=90||r>=97&&r<=122||r>=161}function tA(r){return r>=48&&r<=57}function AE(r){return tA(r)||r>=97&&r<=102||r>=65&&r<=70}const S6=(r,t,e)=>(i,n)=>{for(let s=!1,l=0,o=0;;o++){let{next:a}=i;if(gp(a)||a==J0||a==x6||s&&tA(a))!s&&(a!=J0||o>0)&&(s=!0),l===o&&a==J0&&l++,i.advance();else if(a==ftt&&i.peek(1)!=ctt){if(i.advance(),AE(i.next)){do i.advance();while(AE(i.next));i.next==32&&i.advance()}else i.next>-1&&i.advance();s=!0}else{s&&i.acceptToken(l==2&&n.canShift(y6)?t:a==stt?e:r);break}}},ptt=new _1(S6(JJ,y6,ttt)),gtt=new _1(S6(ett,itt,ntt)),mtt=new _1(r=>{if(b6.includes(r.peek(-1))){let{next:t}=r;(gp(t)||t==x6||t==att||t==ott||t==dtt||t==ltt||t==rtt&&gp(r.peek(1))||t==J0||t==utt)&&r.acceptToken(KJ)}}),Ott=new _1(r=>{if(!b6.includes(r.peek(-1))){let{next:t}=r;if(t==htt&&(r.advance(),r.acceptToken($E)),gp(t)){do r.advance();while(gp(r.next)||tA(r.next));r.acceptToken($E)}}}),ytt=UJ({"AtKeyword import charset namespace keyframes media supports":Mt.definitionKeyword,"from to selector":Mt.keyword,NamespaceName:Mt.namespace,KeyframeName:Mt.labelName,KeyframeRangeName:Mt.operatorKeyword,TagName:Mt.tagName,ClassName:Mt.className,PseudoClassName:Mt.constant(Mt.className),IdName:Mt.labelName,"FeatureName PropertyName":Mt.propertyName,AttributeName:Mt.attributeName,NumberLiteral:Mt.number,KeywordQuery:Mt.keyword,UnaryQueryOp:Mt.operatorKeyword,"CallTag ValueName":Mt.atom,VariableName:Mt.variableName,Callee:Mt.operatorKeyword,Unit:Mt.unit,"UniversalSelector NestingSelector":Mt.definitionOperator,"MatchOp CompareOp":Mt.compareOperator,"ChildOp SiblingOp, LogicOp":Mt.logicOperator,BinOp:Mt.arithmeticOperator,Important:Mt.modifier,Comment:Mt.blockComment,ColorLiteral:Mt.color,"ParenthesizedContent StringLiteral":Mt.string,":":Mt.punctuation,"PseudoOp #":Mt.derefOperator,"; ,":Mt.separator,"( )":Mt.paren,"[ ]":Mt.squareBracket,"{ }":Mt.brace}),btt={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},xtt={__proto__:null,or:98,and:98,not:106,only:106,layer:170},Stt={__proto__:null,selector:112,layer:166},wtt={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},vtt={__proto__:null,to:207},ktt=IJ.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[ytt],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[mtt,Ott,ptt,gtt,1,2,3,4,new g6("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},dynamicPrecedences:{76:1},specialized:[{term:124,get:r=>btt[r]||-1},{term:125,get:r=>xtt[r]||-1},{term:4,get:r=>Stt[r]||-1},{term:25,get:r=>wtt[r]||-1},{term:123,get:r=>vtt[r]||-1}],tokenPrec:1963}),$tt=1024;let Att=0,dS=class{constructor(t,e){this.from=t,this.to=e}},Be=class{constructor(t={}){this.id=Att++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=cl.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}};Be.closedBy=new Be({deserialize:r=>r.split(" ")});Be.openedBy=new Be({deserialize:r=>r.split(" ")});Be.group=new Be({deserialize:r=>r.split(" ")});Be.isolate=new Be({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Be.contextHash=new Be({perNode:!0});Be.lookAhead=new Be({perNode:!0});Be.mounted=new Be({perNode:!0});let Ed=class{constructor(t,e,i,n=!1){this.tree=t,this.overlay=e,this.parser=i,this.bracketed=n}static get(t){return t&&t.props&&t.props[Be.mounted.id]}};const Ctt=Object.create(null);let cl=class w6{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):Ctt,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new w6(t.name||"",e,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Be.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return i=>{for(let n=i.prop(Be.group),s=-1;s<(n?n.length:0);s++){let l=e[s<0?i.name:n[s]];if(l)return l}}}};cl.none=new cl("",Object.create(null),0,8);const Ym=new WeakMap,CE=new WeakMap;var ci;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays",r[r.EnterBracketed=16]="EnterBracketed"})(ci||(ci={}));let zn=class O2{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let t=Ed.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let n=i.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new b2(this.topNode,t)}cursorAt(t,e=0,i=0){let n=Ym.get(this)||this.topNode,s=new b2(n);return s.moveTo(t,e),Ym.set(this,s._tree),s}get topNode(){return new dl(this,0,0,null)}resolve(t,e=0){let i=mp(Ym.get(this)||this.topNode,t,e,!1);return Ym.set(this,i),i}resolveInner(t,e=0){let i=mp(CE.get(this)||this.topNode,t,e,!0);return CE.set(this,i),i}resolveStack(t,e=0){return Mtt(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t,l=t.mode||0,o=(l&ci.IncludeAnonymous)>0;for(let a=this.cursor(l|ci.IncludeAnonymous);;){let f=!1;if(a.from<=s&&a.to>=n&&(!o&&a.type.isAnonymous||e(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:iA(cl.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,n)=>new O2(this.type,e,i,n,this.propValues),t.makeTree||((e,i,n)=>new O2(cl.none,e,i,n)))}static build(t){return Rtt(t)}};zn.empty=new zn(cl.none,[],[],0);let Ttt=class v6{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new v6(this.buffer,this.index)}},sf=class k6{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return cl.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let l=[];for(;t<i;)l.push(this.childString(t)),t=this.buffer[t+3];return s+"("+l.join(",")+")"}findChild(t,e,i,n,s){let{buffer:l}=this,o=-1;for(let a=t;a!=e&&!($6(s,n,l[a+1],l[a+2])&&(o=a,i>0));a=l[a+3]);return o}slice(t,e,i){let n=this.buffer,s=new Uint16Array(e-t),l=0;for(let o=t,a=0;o<e;){s[a++]=n[o++],s[a++]=n[o++]-i;let f=s[a++]=n[o++]-i;s[a++]=n[o++]-t,l=Math.max(l,f)}return new k6(s,l,this.set)}};function $6(r,t,e,i){switch(r){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function mp(r,t,e,i){for(var n;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let l=!i&&r instanceof dl&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=i?0:ci.IgnoreOverlays;if(i)for(let l=r,o=l.parent;o;l=o,o=l.parent)l instanceof dl&&l.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=l.from&&(r=o);for(;;){let l=r.enter(t,e,s);if(!l)return r;r=l}}let A6=class{cursor(t=0){return new b2(this,t)}getChild(t,e=null,i=null){let n=TE(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return TE(this,t,e,i)}resolve(t,e=0){return mp(this,t,e,!1)}resolveInner(t,e=0){return mp(this,t,e,!0)}matchContext(t){return y2(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let n=e.lastChild;if(!n||n.to!=e.to)break;n.type.isError&&n.from==n.to?(i=e,e=n.prevSibling):e=n}return i}get node(){return this}get next(){return this.parent}},dl=class tO extends A6{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,s=0){for(let l=this;;){for(let{children:o,positions:a}=l._tree,f=e>0?o.length:-1;t!=f;t+=e){let c=o[t],p=a[t]+l.from,m;if(!(!(s&ci.EnterBracketed&&c instanceof zn&&(m=Ed.get(c))&&!m.overlay&&m.bracketed&&i>=p&&i<=p+c.length)&&!$6(n,i,p,p+c.length))){if(c instanceof sf){if(s&ci.ExcludeBuffers)continue;let O=c.findChild(0,c.buffer.length,e,i-p,n);if(O>-1)return new Op(new Qtt(l,c,t,p),null,O)}else if(s&ci.IncludeAnonymous||!c.type.isAnonymous||eA(c)){let O;if(!(s&ci.IgnoreMounts)&&(O=Ed.get(c))&&!O.overlay)return new tO(O.tree,p,t,l);let y=new tO(c,p,t,l);return s&ci.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(e<0?c.children.length-1:0,e,i,n,s)}}}if(s&ci.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?t=l.index+e:t=e<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,i=0){let n;if(!(i&ci.IgnoreOverlays)&&(n=Ed.get(this._tree))&&n.overlay){let s=t-this.from,l=i&ci.EnterBracketed&&n.bracketed;for(let{from:o,to:a}of n.overlay)if((e>0||l?o<=s:o<s)&&(e<0||l?a>=s:a>s))return new tO(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function TE(r,t,e,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(let l=!1;!l;)if(l=n.type.is(e),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function y2(r,t,e=t.length-1){for(let i=r;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}let Qtt=class{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}},Op=class ld extends A6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new ld(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,i=0){if(i&ci.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new ld(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new ld(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new ld(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let l=i.buffer[this.index+1];t.push(i.slice(n,s,l)),e.push(0)}return new zn(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function C6(r){if(!r.length)return null;let t=0,e=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>e.from||l.to<e.to)&&(e=l,t=s)}let i=e instanceof dl&&e.index<0?null:e.parent,n=r.slice();return i?n[t]=i:n.splice(t,1),new Ptt(n,e)}let Ptt=class{constructor(t,e){this.heads=t,this.node=e}get next(){return C6(this.heads)}};function Mtt(r,t,e){let i=r.resolveInner(t,e),n=null;for(let s=i instanceof dl?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(n||(n=[i])).push(l.resolve(t,e)),s=l}else{let l=Ed.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=t&&l.overlay[l.overlay.length-1].to>=t){let o=new dl(l.tree,l.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(mp(o,t,e,!1))}}return n?C6(n):i}let b2=class{get name(){return this.type.name}constructor(t,e=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=e&~ci.EnterBracketed,t instanceof dl)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return t?t instanceof dl?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&ci.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ci.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&ci.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let s=e+t,l=t<0?-1:i._tree.children.length;s!=l;s+=t){let o=i._tree.children[s];if(this.mode&ci.IncludeAnonymous||o instanceof sf||!o.type.isAnonymous||eA(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let l=t;l;l=l._parent)if(l.index==n){if(n==this.index)return l;e=l,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new Op(this.buffer,e,this.stack[n]);return this.bufferNode=new Op(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return y2(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return y2(this._tree,t,n);let l=i[e.buffer[this.stack[s]]];if(!l.isAnonymous){if(t[n]&&t[n]!=l.name)return!1;n--}}return!0}};function eA(r){return r.children.some(t=>t instanceof sf||!t.type.isAnonymous||eA(t))}function Rtt(r){var t;let{buffer:e,nodeSet:i,maxBufferLength:n=$tt,reused:s=[],minRepeatType:l=i.types.length}=r,o=Array.isArray(e)?new Ttt(e,e.length):e,a=i.types,f=0,c=0;function p(P,E,A,V,D,Z){let{id:z,start:k,end:L,size:$}=o,j=c,W=f;if($<0)if(o.next(),$==-1){let R=s[z];A.push(R),V.push(k-P);return}else if($==-3){f=z;return}else if($==-4){c=z;return}else throw new RangeError(`Unrecognized record size: ${$}`);let X=a[z],st,F,pt=k-P;if(L-k<=n&&(F=w(o.pos-E,D))){let R=new Uint16Array(F.size-F.skip),B=o.pos-F.size,H=R.length;for(;o.pos>B;)H=v(F.start,R,H);st=new sf(R,L-F.start,i),pt=F.start-P}else{let R=o.pos-$;o.next();let B=[],H=[],G=z>=l?z:-1,tt=0,mt=L;for(;o.pos>R;)G>=0&&o.id==G&&o.size>=0?(o.end<=mt-n&&(y(B,H,k,tt,o.end,mt,G,j,W),tt=B.length,mt=o.end),o.next()):Z>2500?m(k,R,B,H):p(k,R,B,H,G,Z+1);if(G>=0&&tt>0&&tt<B.length&&y(B,H,k,tt,k,mt,G,j,W),B.reverse(),H.reverse(),G>-1&&tt>0){let Rt=O(X,W);st=iA(X,B,H,0,B.length,0,L-k,Rt,Rt)}else st=S(X,B,H,L-k,j-L,W)}A.push(st),V.push(pt)}function m(P,E,A,V){let D=[],Z=0,z=-1;for(;o.pos>E;){let{id:k,start:L,end:$,size:j}=o;if(j>4)o.next();else{if(z>-1&&L<z)break;z<0&&(z=$-n),D.push(k,L,$),Z++,o.next()}}if(Z){let k=new Uint16Array(Z*4),L=D[D.length-2];for(let $=D.length-3,j=0;$>=0;$-=3)k[j++]=D[$],k[j++]=D[$+1]-L,k[j++]=D[$+2]-L,k[j++]=j;A.push(new sf(k,D[2]-L,i)),V.push(L-P)}}function O(P,E){return(A,V,D)=>{let Z=0,z=A.length-1,k,L;if(z>=0&&(k=A[z])instanceof zn){if(!z&&k.type==P&&k.length==D)return k;(L=k.prop(Be.lookAhead))&&(Z=V[z]+k.length+L)}return S(P,A,V,D,Z,E)}}function y(P,E,A,V,D,Z,z,k,L){let $=[],j=[];for(;P.length>V;)$.push(P.pop()),j.push(E.pop()+A-D);P.push(S(i.types[z],$,j,Z-D,k-Z,L)),E.push(D-A)}function S(P,E,A,V,D,Z,z){if(Z){let k=[Be.contextHash,Z];z=z?[k].concat(z):[k]}if(D>25){let k=[Be.lookAhead,D];z=z?[k].concat(z):[k]}return new zn(P,E,A,V,z)}function w(P,E){let A=o.fork(),V=0,D=0,Z=0,z=A.end-n,k={size:0,start:0,skip:0};t:for(let L=A.pos-P;A.pos>L;){let $=A.size;if(A.id==E&&$>=0){k.size=V,k.start=D,k.skip=Z,Z+=4,V+=4,A.next();continue}let j=A.pos-$;if($<0||j<L||A.start<z)break;let W=A.id>=l?4:0,X=A.start;for(A.next();A.pos>j;){if(A.size<0)if(A.size==-3||A.size==-4)W+=4;else break t;else A.id>=l&&(W+=4);A.next()}D=X,V+=$,Z+=W}return(E<0||V==P)&&(k.size=V,k.start=D,k.skip=Z),k.size>4?k:void 0}function v(P,E,A){let{id:V,start:D,end:Z,size:z}=o;if(o.next(),z>=0&&V<l){let k=A;if(z>4){let L=o.pos-(z-4);for(;o.pos>L;)A=v(P,E,A)}E[--A]=k,E[--A]=Z-P,E[--A]=D-P,E[--A]=V}else z==-3?f=V:z==-4&&(c=V);return A}let T=[],M=[];for(;o.pos>0;)p(r.start||0,r.bufferStart||0,T,M,-1,0);let N=(t=r.length)!==null&&t!==void 0?t:T.length?M[0]+T[0].length:0;return new zn(a[r.topID],T.reverse(),M.reverse(),N)}const QE=new WeakMap;function eO(r,t){if(!r.isAnonymous||t instanceof sf||t.type!=r)return 1;let e=QE.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=r||!(i instanceof zn)){e=1;break}e+=eO(r,i)}QE.set(t,e)}return e}function iA(r,t,e,i,n,s,l,o,a){let f=0;for(let y=i;y<n;y++)f+=eO(r,t[y]);let c=Math.ceil(f*1.5/8),p=[],m=[];function O(y,S,w,v,T){for(let M=w;M<v;){let N=M,P=S[M],E=eO(r,y[M]);for(M++;M<v;M++){let A=eO(r,y[M]);if(E+A>=c)break;E+=A}if(M==N+1){if(E>c){let A=y[N];O(A.children,A.positions,0,A.children.length,S[N]+T);continue}p.push(y[N])}else{let A=S[M-1]+y[M-1].length-P;p.push(iA(r,y,S,N,M,P,A,null,a))}m.push(P+T-s)}}return O(t,e,i,n,0),(o||a)(p,m,l)}let Ett=class{constructor(){this.map=new WeakMap}setBuffer(t,e,i){let n=this.map.get(t);n||this.map.set(t,n=new Map),n.set(e,i)}getBuffer(t,e){let i=this.map.get(t);return i&&i.get(e)}set(t,e){t instanceof Op?this.setBuffer(t.context.buffer,t.index,e):t instanceof dl&&this.map.set(t.tree,e)}get(t){return t instanceof Op?this.getBuffer(t.context.buffer,t.index):t instanceof dl?this.map.get(t.tree):void 0}cursorSet(t,e){t.buffer?this.setBuffer(t.buffer.buffer,t.index,e):this.map.set(t.tree,e)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}},iO=class x2{constructor(t,e,i,n,s=!1,l=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let n=[new x2(0,t.length,t,0,!1,i)];for(let s of e)s.to>t.length&&n.push(s);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],s=1,l=t.length?t[0]:null;for(let o=0,a=0,f=0;;o++){let c=o<e.length?e[o]:null,p=c?c.fromA:1e9;if(p-a>=i)for(;l&&l.from<p;){let m=l;if(a>=m.from||p<=m.to||f){let O=Math.max(m.from,a)-f,y=Math.min(m.to,p)-f;m=O>=y?null:new x2(O,y,m.tree,m.offset+f,o>0,!!c)}if(m&&n.push(m),l.to>p)break;l=s<t.length?t[s++]:null}if(!c)break;a=c.toA,f=c.toA-c.toB}return n}},Dtt=class{startParse(t,e,i){return typeof t=="string"&&(t=new Btt(t)),i=i?i.length?i.map(n=>new dS(n.from,n.to)):[new dS(0,0)]:[new dS(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let s=n.advance();if(s)return s}}},Btt=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};new Be({perNode:!0});let _tt=0,Il=class S2{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=_tt++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof S2&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let n=new S2(i,[],null,[]);if(n.set.push(n),e)for(let s of e.set)n.set.push(s);return n}static defineModifier(t){let e=new PE(t);return i=>i.modified.indexOf(e)>-1?i:PE.get(i.base||i,i.modified.concat(e).sort((n,s)=>n.id-s.id))}},ztt=0,PE=class T6{constructor(t){this.name=t,this.instances=[],this.id=ztt++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(o=>o.base==t&&Ntt(e,o.modified));if(i)return i;let n=[],s=new Il(t.name,n,t,e);for(let o of e)o.instances.push(s);let l=Ltt(e);for(let o of t.set)if(!o.modified.length)for(let a of l)n.push(T6.get(o,a));return s}};function Ntt(r,t){return r.length==t.length&&r.every((e,i)=>e==t[i])}function Ltt(r){let t=[[]];for(let e=0;e<r.length;e++)for(let i=0,n=t.length;i<n;i++)t.push(t[i].concat(r[e]));return t.sort((e,i)=>i.length-e.length)}function Ztt(r){let t=Object.create(null);for(let e in r){let i=r[e];Array.isArray(i)||(i=[i]);for(let n of e.split(" "))if(n){let s=[],l=2,o=n;for(let p=0;;){if(o=="..."&&p>0&&p+3==n.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==n.length)break;let O=n[p++];if(p==n.length&&O=="!"){l=0;break}if(O!="/")throw new RangeError("Invalid path: "+n);o=n.slice(p)}let a=s.length-1,f=s[a];if(!f)throw new RangeError("Invalid path: "+n);let c=new UO(i,l,a>0?s.slice(0,a):null);t[f]=c.sort(t[f])}}return Vtt.add(t)}const Vtt=new Be({combine(r,t){let e,i,n;for(;r||t;){if(!r||t&&r.depth>=t.depth?(n=t,t=t.next):(n=r,r=r.next),e&&e.mode==n.mode&&!n.context&&!e.context)continue;let s=new UO(n.tags,n.mode,n.context);e?e.next=s:i=s,e=s}return i}});let UO=class{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};UO.empty=new UO([],2,null);function Xtt(r,t){let e=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let l of s.tag)e[l.id]=s.class;let{scope:i,all:n=null}={};return{style:s=>{let l=n;for(let o of s)for(let a of o.set){let f=e[a.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}const $t=Il.define,Hm=$t(),Ho=$t(),ME=$t(Ho),RE=$t(Ho),Uo=$t(),Um=$t(Uo),pS=$t(Uo),zs=$t(),Ua=$t(zs),ws=$t(),vs=$t(),w2=$t(),Ac=$t(w2),Gm=$t(),te={comment:Hm,lineComment:$t(Hm),blockComment:$t(Hm),docComment:$t(Hm),name:Ho,variableName:$t(Ho),typeName:ME,tagName:$t(ME),propertyName:RE,attributeName:$t(RE),className:$t(Ho),labelName:$t(Ho),namespace:$t(Ho),macroName:$t(Ho),literal:Uo,string:Um,docString:$t(Um),character:$t(Um),attributeValue:$t(Um),number:pS,integer:$t(pS),float:$t(pS),bool:$t(Uo),regexp:$t(Uo),escape:$t(Uo),color:$t(Uo),url:$t(Uo),keyword:ws,self:$t(ws),null:$t(ws),atom:$t(ws),unit:$t(ws),modifier:$t(ws),operatorKeyword:$t(ws),controlKeyword:$t(ws),definitionKeyword:$t(ws),moduleKeyword:$t(ws),operator:vs,derefOperator:$t(vs),arithmeticOperator:$t(vs),logicOperator:$t(vs),bitwiseOperator:$t(vs),compareOperator:$t(vs),updateOperator:$t(vs),definitionOperator:$t(vs),typeOperator:$t(vs),controlOperator:$t(vs),punctuation:w2,separator:$t(w2),bracket:Ac,angleBracket:$t(Ac),squareBracket:$t(Ac),paren:$t(Ac),brace:$t(Ac),content:zs,heading:Ua,heading1:$t(Ua),heading2:$t(Ua),heading3:$t(Ua),heading4:$t(Ua),heading5:$t(Ua),heading6:$t(Ua),contentSeparator:$t(zs),list:$t(zs),quote:$t(zs),emphasis:$t(zs),strong:$t(zs),link:$t(zs),monospace:$t(zs),strikethrough:$t(zs),inserted:$t(),deleted:$t(),changed:$t(),invalid:$t(),meta:Gm,documentMeta:$t(Gm),annotation:$t(Gm),processingInstruction:$t(Gm),definition:Il.defineModifier("definition"),constant:Il.defineModifier("constant"),function:Il.defineModifier("function"),standard:Il.defineModifier("standard"),local:Il.defineModifier("local"),special:Il.defineModifier("special")};for(let r in te){let t=te[r];t instanceof Il&&(t.name=r)}Xtt([{tag:te.link,class:"tok-link"},{tag:te.heading,class:"tok-heading"},{tag:te.emphasis,class:"tok-emphasis"},{tag:te.strong,class:"tok-strong"},{tag:te.keyword,class:"tok-keyword"},{tag:te.atom,class:"tok-atom"},{tag:te.bool,class:"tok-bool"},{tag:te.url,class:"tok-url"},{tag:te.labelName,class:"tok-labelName"},{tag:te.inserted,class:"tok-inserted"},{tag:te.deleted,class:"tok-deleted"},{tag:te.literal,class:"tok-literal"},{tag:te.string,class:"tok-string"},{tag:te.number,class:"tok-number"},{tag:[te.regexp,te.escape,te.special(te.string)],class:"tok-string2"},{tag:te.variableName,class:"tok-variableName"},{tag:te.local(te.variableName),class:"tok-variableName tok-local"},{tag:te.definition(te.variableName),class:"tok-variableName tok-definition"},{tag:te.special(te.variableName),class:"tok-variableName2"},{tag:te.definition(te.propertyName),class:"tok-propertyName tok-definition"},{tag:te.typeName,class:"tok-typeName"},{tag:te.namespace,class:"tok-namespace"},{tag:te.className,class:"tok-className"},{tag:te.macroName,class:"tok-macroName"},{tag:te.propertyName,class:"tok-propertyName"},{tag:te.operator,class:"tok-operator"},{tag:te.comment,class:"tok-comment"},{tag:te.meta,class:"tok-meta"},{tag:te.invalid,class:"tok-invalid"},{tag:te.punctuation,class:"tok-punctuation"}]);var gS;const od=new Be;function Itt(r){return Zt.define({combine:r?t=>t.concat(r):void 0})}const jtt=new Be;let Ks=class{constructor(t,e,i=[],n=""){this.data=t,this.name=n,Ee.prototype.hasOwnProperty("tree")||Object.defineProperty(Ee.prototype,"tree",{get(){return GO(this)}}),this.parser=e,this.extension=[lf.of(this),Ee.languageData.of((s,l,o)=>{let a=EE(s,l,o),f=a.type.prop(od);if(!f)return[];let c=s.facet(f),p=a.type.prop(jtt);if(p){let m=a.resolve(l-a.from,o);for(let O of p)if(O.test(m,s)){let y=s.facet(O.facet);return O.type=="replace"?y:y.concat(c)}}return c})].concat(i)}isActiveAt(t,e,i=-1){return EE(t,e,i).type.prop(od)==this.data}findRegions(t){let e=t.facet(lf);if(e?.data==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],n=(s,l)=>{if(s.prop(od)==this.data){i.push({from:l,to:l+s.length});return}let o=s.prop(Be.mounted);if(o){if(o.tree.prop(od)==this.data){if(o.overlay)for(let a of o.overlay)i.push({from:a.from+l,to:a.to+l});else i.push({from:l,to:l+s.length});return}else if(o.overlay){let a=i.length;if(n(o.tree,o.overlay[0].from+l),i.length>a)return}}for(let a=0;a<s.children.length;a++){let f=s.children[a];f instanceof zn&&n(f,s.positions[a]+l)}};return n(GO(t),0),i}get allowsNesting(){return!0}};Ks.setState=oi.define();function EE(r,t,e){let i=r.facet(lf),n=GO(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(t,e,ci.ExcludeBuffers|ci.EnterBracketed))s.type.isTop&&(n=s);return n}let qtt=class v2 extends Ks{constructor(t,e,i){super(t,e,[],i),this.parser=e}static define(t){let e=Itt(t.languageData);return new v2(e,t.parser.configure({props:[od.add(i=>i.isTop?e:void 0)]}),t.name)}configure(t,e){return new v2(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function GO(r){let t=r.field(Ks.state,!1);return t?t.tree:zn.empty}let Wtt=class{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}},Cc=null,Ytt=class k2{constructor(t,e,i=[],n,s,l,o,a){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=l,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new k2(t,e,[],zn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Wtt(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=zn.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let n=Date.now()+t;t=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(iO.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(iO.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Cc;Cc=this;try{return t()}finally{Cc=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=DE(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:n,treeLen:s,viewport:l,skipped:o}=this;if(this.takeTree(),!t.empty){let a=[];if(t.iterChangedRanges((f,c,p,m)=>a.push({fromA:f,toA:c,fromB:p,toB:m})),i=iO.applyChanges(i,a),n=zn.empty,s=0,l={from:t.mapPos(l.from,-1),to:t.mapPos(l.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let c=t.mapPos(f.from,1),p=t.mapPos(f.to,-1);c<p&&o.push({from:c,to:p})}}}return new k2(this.parser,e,i,n,s,l,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<t.to&&s>t.from&&(this.fragments=DE(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends Dtt{createParse(e,i,n){let s=n[0].from,l=n[n.length-1].to;return{parsedPos:s,advance(){let a=Cc;if(a){for(let f of n)a.tempSkipped.push(f);t&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,t]):t)}return this.parsedPos=l,new zn(cl.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Cc}};function DE(r,t,e){return iO.applyChanges(r,[{fromA:t,toA:e,fromB:t,toB:e}])}let $2=class A2{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new A2(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=Ytt.create(t.facet(lf).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new A2(i)}};Ks.state=ao.define({create:$2.init,update(r,t){for(let e of t.effects)if(e.is(Ks.setState))return e.value;return t.startState.facet(lf)!=t.state.facet(lf)?$2.init(t.state):r.apply(t)}});let Q6=r=>{let t=setTimeout(()=>r(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(Q6=r=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(r,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const mS=typeof navigator<"u"&&(!((gS=navigator.scheduling)===null||gS===void 0)&&gS.isInputPending)?()=>navigator.scheduling.isInputPending():null,Htt=so.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Ks.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Ks.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=Q6(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(Ks.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,t&&!mS?Math.max(25,t.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,a=s.context.work(()=>mS&&mS()||Date.now()>l,n+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ks.setState.of(new $2(s.context))})),this.chunkBudget>0&&!(a&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>hr(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),lf=Zt.define({combine(r){return r.length?r[0]:null},enables:r=>[Ks.state,Htt,Gt.contentAttributes.compute([r],t=>{let e=t.facet(r);return e&&e.name?{"data-language":e.name}:{}})]});let Utt=class{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}};const Gtt=new Be;function Ftt({except:r,units:t=1}={}){return e=>{let i=r&&r.test(e.textAfter);return e.baseIndent+(i?0:t*e.unit)}}const Ktt=new Be;function Jtt(r){let t=r.firstChild,e=r.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?r.to:e.from}:null}const tet=Object.create(null),BE=[cl.none],_E=[],zE=Object.create(null),eet=Object.create(null);for(let[r,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])eet[r]=iet(tet,t);function OS(r,t){_E.indexOf(r)>-1||(_E.push(r),console.warn(t))}function iet(r,t){let e=[];for(let o of t.split(" ")){let a=[];for(let f of o.split(".")){let c=r[f]||te[f];c?typeof c=="function"?a.length?a=a.map(c):OS(f,`Modifier ${f} used at start of tag`):a.length?OS(f,`Tag ${f} used as modifier`):a=Array.isArray(c)?c:[c]:OS(f,`Unknown highlighting tag ${f}`)}for(let f of a)e.push(f)}if(!e.length)return 0;let i=t.replace(/ /g,"_"),n=i+" "+e.map(o=>o.id),s=zE[n];if(s)return s.id;let l=zE[n]=cl.define({id:BE.length,name:i,props:[Ztt({[i]:e})]});return BE.push(l),l.id}Ze.RTL,Ze.LTR;let yS=null;function bS(){if(!yS&&typeof document=="object"&&document.body){let{style:r}=document.body,t=[],e=new Set;for(let i in r)i!="cssText"&&i!="cssFloat"&&typeof r[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())),e.has(i)||(t.push(i),e.add(i)));yS=t.sort().map(i=>({type:"property",label:i,apply:i+": "}))}return yS||[]}const NE=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(r=>({type:"class",label:r})),LE=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(r=>({type:"keyword",label:r})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(r=>({type:"constant",label:r}))),net=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(r=>({type:"type",label:r})),ret=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(r=>({type:"keyword",label:r})),_l=/^(\w[\w-]*|-\w[\w-]*|)$/,set=/^-(-[\w-]*)?$/;function oet(r,t){var e;if((r.name=="("||r.type.isError)&&(r=r.parent||r),r.name!="ArgList")return!1;let i=(e=r.parent)===null||e===void 0?void 0:e.firstChild;return i?.name!="Callee"?!1:t.sliceString(i.from,i.to)=="var"}const ZE=new Ett,aet=["Declaration"];function het(r){for(let t=r;;){if(t.type.isTop)return t;if(!(t=t.parent))return r}}function P6(r,t,e){if(t.to-t.from>4096){let i=ZE.get(t);if(i)return i;let n=[],s=new Set,l=t.cursor(ci.IncludeAnonymous);if(l.firstChild())do for(let o of P6(r,l.node,e))s.has(o.label)||(s.add(o.label),n.push(o));while(l.nextSibling());return ZE.set(t,n),n}else{let i=[],n=new Set;return t.cursor().iterate(s=>{var l;if(e(s)&&s.matchContext(aet)&&((l=s.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let o=r.sliceString(s.from,s.to);n.has(o)||(n.add(o),i.push({label:o,type:"variable"}))}}),i}}const uet=r=>t=>{let{state:e,pos:i}=t,n=GO(e).resolveInner(i,-1),s=n.type.isError&&n.from==n.to-1&&e.doc.sliceString(n.from,n.to)=="-";if(n.name=="PropertyName"||(s||n.name=="TagName")&&/^(Block|Styles)$/.test(n.resolve(n.to).name))return{from:n.from,options:bS(),validFor:_l};if(n.name=="ValueName")return{from:n.from,options:LE,validFor:_l};if(n.name=="PseudoClassName")return{from:n.from,options:NE,validFor:_l};if(r(n)||(t.explicit||s)&&oet(n,e.doc))return{from:r(n)||s?n.from:i,options:P6(e.doc,het(n),r),validFor:set};if(n.name=="TagName"){for(let{parent:a}=n;a;a=a.parent)if(a.name=="Block")return{from:n.from,options:bS(),validFor:_l};return{from:n.from,options:net,validFor:_l}}if(n.name=="AtKeyword")return{from:n.from,options:ret,validFor:_l};if(!t.explicit)return null;let l=n.resolve(i),o=l.childBefore(i);return o&&o.name==":"&&l.name=="PseudoClassSelector"?{from:i,options:NE,validFor:_l}:o&&o.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:i,options:LE,validFor:_l}:l.name=="Block"||l.name=="Styles"?{from:i,options:bS(),validFor:_l}:null},fet=uet(r=>r.name=="VariableName"),FO=qtt.define({name:"css",parser:ktt.configure({props:[Gtt.add({Declaration:Ftt()}),Ktt.add({"Block KeyframeList":Jtt})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function M6(){return new Utt(FO,FO.data.of({autocomplete:fet}))}const R6=1024;let cet=0,xS=class{constructor(t,e){this.from=t,this.to=e}},Ge=class{constructor(t={}){this.id=cet++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=oo.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}};Ge.closedBy=new Ge({deserialize:r=>r.split(" ")});Ge.openedBy=new Ge({deserialize:r=>r.split(" ")});Ge.group=new Ge({deserialize:r=>r.split(" ")});Ge.isolate=new Ge({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Ge.contextHash=new Ge({perNode:!0});Ge.lookAhead=new Ge({perNode:!0});Ge.mounted=new Ge({perNode:!0});let Dd=class{constructor(t,e,i,n=!1){this.tree=t,this.overlay=e,this.parser=i,this.bracketed=n}static get(t){return t&&t.props&&t.props[Ge.mounted.id]}};const det=Object.create(null);let oo=class E6{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):det,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new E6(t.name||"",e,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Ge.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return i=>{for(let n=i.prop(Ge.group),s=-1;s<(n?n.length:0);s++){let l=e[s<0?i.name:n[s]];if(l)return l}}}};oo.none=new oo("",Object.create(null),0,8);class nA{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let n=null;for(let s of t){let l=s(i);if(l){n||(n=Object.assign({},i.props));let o=l[1],a=l[0];a.combine&&a.id in n&&(o=a.combine(n[a.id],o)),n[a.id]=o}}e.push(n?new oo(i.name,n,i.id,i.flags):i)}return new nA(e)}}const Fm=new WeakMap,VE=new WeakMap;var Ci;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays",r[r.EnterBracketed=16]="EnterBracketed"})(Ci||(Ci={}));let Rr=class C2{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let t=Dd.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let n=i.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new P2(this.topNode,t)}cursorAt(t,e=0,i=0){let n=Fm.get(this)||this.topNode,s=new P2(n);return s.moveTo(t,e),Fm.set(this,s._tree),s}get topNode(){return new va(this,0,0,null)}resolve(t,e=0){let i=yp(Fm.get(this)||this.topNode,t,e,!1);return Fm.set(this,i),i}resolveInner(t,e=0){let i=yp(VE.get(this)||this.topNode,t,e,!0);return VE.set(this,i),i}resolveStack(t,e=0){return Oet(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t,l=t.mode||0,o=(l&Ci.IncludeAnonymous)>0;for(let a=this.cursor(l|Ci.IncludeAnonymous);;){let f=!1;if(a.from<=s&&a.to>=n&&(!o&&a.type.isAnonymous||e(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:sA(oo.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,n)=>new C2(this.type,e,i,n,this.propValues),t.makeTree||((e,i,n)=>new C2(oo.none,e,i,n)))}static build(t){return yet(t)}};Rr.empty=new Rr(oo.none,[],[],0);let pet=class D6{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new D6(this.buffer,this.index)}},of=class B6{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return oo.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let l=[];for(;t<i;)l.push(this.childString(t)),t=this.buffer[t+3];return s+"("+l.join(",")+")"}findChild(t,e,i,n,s){let{buffer:l}=this,o=-1;for(let a=t;a!=e&&!(_6(s,n,l[a+1],l[a+2])&&(o=a,i>0));a=l[a+3]);return o}slice(t,e,i){let n=this.buffer,s=new Uint16Array(e-t),l=0;for(let o=t,a=0;o<e;){s[a++]=n[o++],s[a++]=n[o++]-i;let f=s[a++]=n[o++]-i;s[a++]=n[o++]-t,l=Math.max(l,f)}return new B6(s,l,this.set)}};function _6(r,t,e,i){switch(r){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function yp(r,t,e,i){for(var n;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let l=!i&&r instanceof va&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=i?0:Ci.IgnoreOverlays;if(i)for(let l=r,o=l.parent;o;l=o,o=l.parent)l instanceof va&&l.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=l.from&&(r=o);for(;;){let l=r.enter(t,e,s);if(!l)return r;r=l}}let z6=class{cursor(t=0){return new P2(this,t)}getChild(t,e=null,i=null){let n=XE(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return XE(this,t,e,i)}resolve(t,e=0){return yp(this,t,e,!1)}resolveInner(t,e=0){return yp(this,t,e,!0)}matchContext(t){return T2(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let n=e.lastChild;if(!n||n.to!=e.to)break;n.type.isError&&n.from==n.to?(i=e,e=n.prevSibling):e=n}return i}get node(){return this}get next(){return this.parent}},va=class nO extends z6{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,s=0){for(let l=this;;){for(let{children:o,positions:a}=l._tree,f=e>0?o.length:-1;t!=f;t+=e){let c=o[t],p=a[t]+l.from,m;if(!(!(s&Ci.EnterBracketed&&c instanceof Rr&&(m=Dd.get(c))&&!m.overlay&&m.bracketed&&i>=p&&i<=p+c.length)&&!_6(n,i,p,p+c.length))){if(c instanceof of){if(s&Ci.ExcludeBuffers)continue;let O=c.findChild(0,c.buffer.length,e,i-p,n);if(O>-1)return new Q2(new get(l,c,t,p),null,O)}else if(s&Ci.IncludeAnonymous||!c.type.isAnonymous||rA(c)){let O;if(!(s&Ci.IgnoreMounts)&&(O=Dd.get(c))&&!O.overlay)return new nO(O.tree,p,t,l);let y=new nO(c,p,t,l);return s&Ci.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(e<0?c.children.length-1:0,e,i,n,s)}}}if(s&Ci.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?t=l.index+e:t=e<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,i=0){let n;if(!(i&Ci.IgnoreOverlays)&&(n=Dd.get(this._tree))&&n.overlay){let s=t-this.from,l=i&Ci.EnterBracketed&&n.bracketed;for(let{from:o,to:a}of n.overlay)if((e>0||l?o<=s:o<s)&&(e<0||l?a>=s:a>s))return new nO(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function XE(r,t,e,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(let l=!1;!l;)if(l=n.type.is(e),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function T2(r,t,e=t.length-1){for(let i=r;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}let get=class{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}},Q2=class ad extends z6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new ad(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,i=0){if(i&Ci.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new ad(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new ad(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new ad(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let l=i.buffer[this.index+1];t.push(i.slice(n,s,l)),e.push(0)}return new Rr(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function N6(r){if(!r.length)return null;let t=0,e=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>e.from||l.to<e.to)&&(e=l,t=s)}let i=e instanceof va&&e.index<0?null:e.parent,n=r.slice();return i?n[t]=i:n.splice(t,1),new met(n,e)}let met=class{constructor(t,e){this.heads=t,this.node=e}get next(){return N6(this.heads)}};function Oet(r,t,e){let i=r.resolveInner(t,e),n=null;for(let s=i instanceof va?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(n||(n=[i])).push(l.resolve(t,e)),s=l}else{let l=Dd.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=t&&l.overlay[l.overlay.length-1].to>=t){let o=new va(l.tree,l.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(yp(o,t,e,!1))}}return n?N6(n):i}let P2=class{get name(){return this.type.name}constructor(t,e=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=e&~Ci.EnterBracketed,t instanceof va)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return t?t instanceof va?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&Ci.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ci.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Ci.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let s=e+t,l=t<0?-1:i._tree.children.length;s!=l;s+=t){let o=i._tree.children[s];if(this.mode&Ci.IncludeAnonymous||o instanceof of||!o.type.isAnonymous||rA(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let l=t;l;l=l._parent)if(l.index==n){if(n==this.index)return l;e=l,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new Q2(this.buffer,e,this.stack[n]);return this.bufferNode=new Q2(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return T2(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return T2(this._tree,t,n);let l=i[e.buffer[this.stack[s]]];if(!l.isAnonymous){if(t[n]&&t[n]!=l.name)return!1;n--}}return!0}};function rA(r){return r.children.some(t=>t instanceof of||!t.type.isAnonymous||rA(t))}function yet(r){var t;let{buffer:e,nodeSet:i,maxBufferLength:n=R6,reused:s=[],minRepeatType:l=i.types.length}=r,o=Array.isArray(e)?new pet(e,e.length):e,a=i.types,f=0,c=0;function p(P,E,A,V,D,Z){let{id:z,start:k,end:L,size:$}=o,j=c,W=f;if($<0)if(o.next(),$==-1){let R=s[z];A.push(R),V.push(k-P);return}else if($==-3){f=z;return}else if($==-4){c=z;return}else throw new RangeError(`Unrecognized record size: ${$}`);let X=a[z],st,F,pt=k-P;if(L-k<=n&&(F=w(o.pos-E,D))){let R=new Uint16Array(F.size-F.skip),B=o.pos-F.size,H=R.length;for(;o.pos>B;)H=v(F.start,R,H);st=new of(R,L-F.start,i),pt=F.start-P}else{let R=o.pos-$;o.next();let B=[],H=[],G=z>=l?z:-1,tt=0,mt=L;for(;o.pos>R;)G>=0&&o.id==G&&o.size>=0?(o.end<=mt-n&&(y(B,H,k,tt,o.end,mt,G,j,W),tt=B.length,mt=o.end),o.next()):Z>2500?m(k,R,B,H):p(k,R,B,H,G,Z+1);if(G>=0&&tt>0&&tt<B.length&&y(B,H,k,tt,k,mt,G,j,W),B.reverse(),H.reverse(),G>-1&&tt>0){let Rt=O(X,W);st=sA(X,B,H,0,B.length,0,L-k,Rt,Rt)}else st=S(X,B,H,L-k,j-L,W)}A.push(st),V.push(pt)}function m(P,E,A,V){let D=[],Z=0,z=-1;for(;o.pos>E;){let{id:k,start:L,end:$,size:j}=o;if(j>4)o.next();else{if(z>-1&&L<z)break;z<0&&(z=$-n),D.push(k,L,$),Z++,o.next()}}if(Z){let k=new Uint16Array(Z*4),L=D[D.length-2];for(let $=D.length-3,j=0;$>=0;$-=3)k[j++]=D[$],k[j++]=D[$+1]-L,k[j++]=D[$+2]-L,k[j++]=j;A.push(new of(k,D[2]-L,i)),V.push(L-P)}}function O(P,E){return(A,V,D)=>{let Z=0,z=A.length-1,k,L;if(z>=0&&(k=A[z])instanceof Rr){if(!z&&k.type==P&&k.length==D)return k;(L=k.prop(Ge.lookAhead))&&(Z=V[z]+k.length+L)}return S(P,A,V,D,Z,E)}}function y(P,E,A,V,D,Z,z,k,L){let $=[],j=[];for(;P.length>V;)$.push(P.pop()),j.push(E.pop()+A-D);P.push(S(i.types[z],$,j,Z-D,k-Z,L)),E.push(D-A)}function S(P,E,A,V,D,Z,z){if(Z){let k=[Ge.contextHash,Z];z=z?[k].concat(z):[k]}if(D>25){let k=[Ge.lookAhead,D];z=z?[k].concat(z):[k]}return new Rr(P,E,A,V,z)}function w(P,E){let A=o.fork(),V=0,D=0,Z=0,z=A.end-n,k={size:0,start:0,skip:0};t:for(let L=A.pos-P;A.pos>L;){let $=A.size;if(A.id==E&&$>=0){k.size=V,k.start=D,k.skip=Z,Z+=4,V+=4,A.next();continue}let j=A.pos-$;if($<0||j<L||A.start<z)break;let W=A.id>=l?4:0,X=A.start;for(A.next();A.pos>j;){if(A.size<0)if(A.size==-3||A.size==-4)W+=4;else break t;else A.id>=l&&(W+=4);A.next()}D=X,V+=$,Z+=W}return(E<0||V==P)&&(k.size=V,k.start=D,k.skip=Z),k.size>4?k:void 0}function v(P,E,A){let{id:V,start:D,end:Z,size:z}=o;if(o.next(),z>=0&&V<l){let k=A;if(z>4){let L=o.pos-(z-4);for(;o.pos>L;)A=v(P,E,A)}E[--A]=k,E[--A]=Z-P,E[--A]=D-P,E[--A]=V}else z==-3?f=V:z==-4&&(c=V);return A}let T=[],M=[];for(;o.pos>0;)p(r.start||0,r.bufferStart||0,T,M,-1,0);let N=(t=r.length)!==null&&t!==void 0?t:T.length?M[0]+T[0].length:0;return new Rr(a[r.topID],T.reverse(),M.reverse(),N)}const IE=new WeakMap;function rO(r,t){if(!r.isAnonymous||t instanceof of||t.type!=r)return 1;let e=IE.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=r||!(i instanceof Rr)){e=1;break}e+=rO(r,i)}IE.set(t,e)}return e}function sA(r,t,e,i,n,s,l,o,a){let f=0;for(let y=i;y<n;y++)f+=rO(r,t[y]);let c=Math.ceil(f*1.5/8),p=[],m=[];function O(y,S,w,v,T){for(let M=w;M<v;){let N=M,P=S[M],E=rO(r,y[M]);for(M++;M<v;M++){let A=rO(r,y[M]);if(E+A>=c)break;E+=A}if(M==N+1){if(E>c){let A=y[N];O(A.children,A.positions,0,A.children.length,S[N]+T);continue}p.push(y[N])}else{let A=S[M-1]+y[M-1].length-P;p.push(sA(r,y,S,N,M,P,A,null,a))}m.push(P+T-s)}}return O(t,e,i,n,0),(o||a)(p,m,l)}let bet=class{startParse(t,e,i){return typeof t=="string"&&(t=new xet(t)),i=i?i.length?i.map(n=>new xS(n.from,n.to)):[new xS(0,0)]:[new xS(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let s=n.advance();if(s)return s}}},xet=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};new Ge({perNode:!0});var jE={};class KO{constructor(t,e,i,n,s,l,o,a,f,c=0,p){this.p=t,this.stack=e,this.state=i,this.reducePos=n,this.pos=s,this.score=l,this.buffer=o,this.bufferBase=a,this.curContext=f,this.lookAhead=c,this.parent=p}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let n=t.parser.context;return new KO(t,[],e,i,i,0,[],0,n?new qE(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let i=t>>19,n=t&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=s.dynamicPrecedence(n);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(i-1)*3-(t&262144?6:0),f=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-f;c>=2e3&&!(!((e=this.p.parser.nodeSet.types[n])===null||e===void 0)&&e.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=c));let p=a?this.stack[a-1]:0,m=this.bufferBase+this.buffer.length-p;if(n<s.minRepeatTerm||t&131072){let O=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,f,O,m+4,!0)}if(t&262144)this.state=this.stack[a];else{let O=this.stack[a-3];this.state=s.getGoto(O,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,f)}storeNode(t,e,i,n=4,s=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(e==i)return;if(l.buffer[o-2]>=e){l.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(t,e,i,n);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let a=l;a>0&&this.buffer[a-2]>i;a-=4)if(this.buffer[a-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>i;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,n>4&&(n-=4)}this.buffer[l]=t,this.buffer[l+1]=e,this.buffer[l+2]=i,this.buffer[l+3]=n}}shift(t,e,i,n){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let s=t,{parser:l}=this.p;this.pos=n;let o=l.stateFlag(s,1);!o&&(n>i||e<=l.maxNode)&&(this.reducePos=n),this.pushState(s,o?i:Math.min(i,this.reducePos)),this.shiftContext(e,i),e<=l.maxNode&&this.buffer.push(e,i,n,4)}else this.pos=n,this.shiftContext(e,i),e<=this.p.parser.maxNode&&this.buffer.push(e,i,n,4)}apply(t,e,i,n){t&65536?this.reduce(t):this.shift(t,e,i,n)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let i=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new KO(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new wet(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(i==0)return!1;if((i&65536)==0)return!0;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let s=0,l;s<e.length;s+=2)(l=e[s+1])!=this.state&&this.p.parser.hasAction(l,t)&&n.push(e[s],l);if(this.stack.length<120)for(let s=0;n.length<8&&s<e.length;s+=2){let l=e[s+1];n.some((o,a)=>a&1&&o==l)||n.push(e[s],l)}e=n}let i=[];for(let n=0;n<e.length&&i.length<4;n+=2){let s=e[n+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(e[n],this.pos),l.reducePos=this.pos,l.score-=200,i.push(l)}return i}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let i=e>>19,n=e&65535,s=this.stack.length-i*3;if(s<0||t.getGoto(this.stack[s],n,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;e=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],i=(n,s)=>{if(!e.includes(n))return e.push(n),t.allActions(n,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-s;if(o>1){let a=l&65535,f=this.stack.length-o*3;if(f>=0&&t.getGoto(this.stack[f],a,!1)>=0)return o<<19|65536|a}}else{let o=i(l,s+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new qE(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){return t<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class qE{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class wet{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,i=t>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=n}}class JO{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new JO(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new JO(this.stack,this.pos,this.index)}}function hd(r,t=Uint16Array){if(typeof r!="string")return r;let e=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let l=r.charCodeAt(i++),o=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let a=l-32;if(a>=46&&(a-=46,o=!0),s+=a,o)break;s*=46}e?e[n++]=s:e=new t(s)}return e}class sO{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const WE=new sO;class vet{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=WE,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,n=this.rangeIndex,s=this.pos+t;for(;s<i.from;){if(!n)return null;let l=this.ranges[--n];s-=i.from-l.to,i=l}for(;e<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let l=this.ranges[++n];s+=l.from-i.to,i=l}return s}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,i,n;if(e>=0&&e<this.chunk.length)i=this.pos+t,n=this.chunk.charCodeAt(e);else{let s=this.resolveOffset(t,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=WE,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(i+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return i}}class zu{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:i}=e.p;L6(this.data,t,e,this.id,i.data,i.tokenPrecTable)}}zu.prototype.contextual=zu.prototype.fallback=zu.prototype.extend=!1;class M2{constructor(t,e,i){this.precTable=e,this.elseToken=i,this.data=typeof t=="string"?hd(t):t}token(t,e){let i=t.pos,n=0;for(;;){let s=t.next<0,l=t.resolveOffset(1,1);if(L6(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(s||n++,l==null)break;t.reset(l,t.token)}n&&(t.reset(i,t.token),t.acceptToken(this.elseToken,n))}}M2.prototype.contextual=zu.prototype.fallback=zu.prototype.extend=!1;class Dp{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function L6(r,t,e,i,n,s){let l=0,o=1<<i,{dialect:a}=e.p.parser;t:for(;(o&r[l])!=0;){let f=r[l+1];for(let O=l+3;O<f;O+=2)if((r[O+1]&o)>0){let y=r[O];if(a.allows(y)&&(t.token.value==-1||t.token.value==y||ket(y,t.token.value,n,s))){t.acceptToken(y);break}}let c=t.next,p=0,m=r[l+2];if(t.next<0&&m>p&&r[f+m*3-3]==65535){l=r[f+m*3-1];continue t}for(;p<m;){let O=p+m>>1,y=f+O+(O<<1),S=r[y],w=r[y+1]||65536;if(c<S)m=O;else if(c>=w)p=O+1;else{l=r[y+2],t.advance();continue t}}break}}function YE(r,t,e){for(let i=t,n;(n=r[i])!=65535;i++)if(n==e)return i-t;return-1}function ket(r,t,e,i){let n=YE(e,i,t);return n<0||YE(e,i,r)<n}const tr=typeof process<"u"&&jE&&/\bparse\b/.test(jE.LOG);let SS=null;function HE(r,t,e){let i=r.cursor(Ci.IncludeAnonymous);for(i.moveTo(t);;)if(!(e<0?i.childBefore(t):i.childAfter(t)))for(;;){if((e<0?i.to<t:i.from>t)&&!i.type.isError)return e<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(r.length,Math.max(i.from+1,t+25));if(e<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return e<0?0:r.length}}class $et{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?HE(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?HE(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],n=this.index[e];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],l=this.start[e]+i.positions[n];if(l>t)return this.nextStart=l,null;if(s instanceof Rr){if(l==t){if(l<this.safeFrom)return null;let o=l+s.length;if(o<=this.safeTo){let a=s.prop(Ge.lookAhead);if(!a||o+a<this.fragment.to)return s}}this.index[e]++,l+s.length>=Math.max(this.safeFrom,t)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[e]++,this.nextStart=l+s.length}}}class Aet{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(i=>new sO)}getActions(t){let e=0,i=null,{parser:n}=t.p,{tokenizers:s}=n,l=n.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let f=0;f<s.length;f++){if((1<<f&l)==0)continue;let c=s[f],p=this.tokens[f];if(!(i&&!c.fallback)&&((c.contextual||p.start!=t.pos||p.mask!=l||p.context!=o)&&(this.updateCachedToken(p,c,t),p.mask=l,p.context=o),p.lookAhead>p.end+25&&(a=Math.max(p.lookAhead,a)),p.value!=0)){let m=e;if(p.extended>-1&&(e=this.addActions(t,p.extended,p.end,e)),e=this.addActions(t,p.value,p.end,e),!c.extend&&(i=p,e>m))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),!i&&t.pos==this.stream.end&&(i=new sO,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new sO,{pos:i,p:n}=t;return e.start=i,e.end=Math.min(i+1,n.stream.end),e.value=i==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,i){let n=this.stream.clipPos(i.pos);if(e.token(this.stream.reset(n,t),i),t.value>-1){let{parser:s}=i.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==t.value){let o=s.specializers[l](this.stream.read(t.start,t.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?t.value=o>>1:t.extended=o>>1;break}}}else t.value=0,t.end=this.stream.clipPos(n+1)}putAction(t,e,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=i,n}addActions(t,e,i,n){let{state:s}=t,{parser:l}=t.p,{data:o}=l;for(let a=0;a<2;a++)for(let f=l.stateSlot(s,a?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=jl(o,f+2);else{n==0&&o[f+1]==2&&(n=this.putAction(jl(o,f+2),e,i,n));break}o[f]==e&&(n=this.putAction(jl(o,f+1),e,i,n))}return n}}class Cet{constructor(t,e,i,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new vet(e,n),this.tokens=new Aet(t,this.stream),this.topTerm=t.top[1];let{from:s}=n[0];this.stacks=[KO.start(this,t.top[0],s)],this.fragments=i.length&&this.stream.end-s>t.bufferLength*4?new $et(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&t.length==1){let[l]=t;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<t.length;l++){let o=t[l];for(;;){if(this.tokens.mainToken=null,o.pos>e)i.push(o);else{if(this.advanceStack(o,i,t))continue;{n||(n=[],s=[]),n.push(o);let a=this.tokens.getMainToken(o);s.push(a.value,a.end)}}break}}if(!i.length){let l=n&&Pet(n);if(l)return tr&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw tr&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&n){let l=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(l)return tr&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(i.length>l)for(i.sort((o,a)=>a.score-o.score);i.length>l;)i.pop();i.some(o=>o.reducePos>e)&&this.recovering--}else if(i.length>1){t:for(let l=0;l<i.length-1;l++){let o=i[l];for(let a=l+1;a<i.length;a++){let f=i[a];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)i.splice(a--,1);else{i.splice(l--,1);continue t}}}i.length>12&&(i.sort((l,o)=>o.score-l.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let l=1;l<i.length;l++)i[l].pos<this.minStackPos&&(this.minStackPos=i[l].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let n=t.pos,{parser:s}=this,l=tr?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let f=t.curContext&&t.curContext.tracker.strict,c=f?t.curContext.hash:0;for(let p=this.fragments.nodeAt(n);p;){let m=this.parser.nodeSet.types[p.type.id]==p.type?s.getGoto(t.state,p.type.id):-1;if(m>-1&&p.length&&(!f||(p.prop(Ge.contextHash)||0)==c))return t.useNode(p,m),tr&&console.log(l+this.stackID(t)+` (via reuse of ${s.getName(p.type.id)})`),!0;if(!(p instanceof Rr)||p.children.length==0||p.positions[0]>0)break;let O=p.children[0];if(O instanceof Rr&&p.positions[0]==0)p=O;else break}}let o=s.stateSlot(t.state,4);if(o>0)return t.reduce(o),tr&&console.log(l+this.stackID(t)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let f=0;f<a.length;){let c=a[f++],p=a[f++],m=a[f++],O=f==a.length||!i,y=O?t:t.split(),S=this.tokens.mainToken;if(y.apply(c,p,S?S.start:y.pos,m),tr&&console.log(l+this.stackID(y)+` (via ${(c&65536)==0?"shift":`reduce of ${s.getName(c&65535)}`} for ${s.getName(p)} @ ${n}${y==t?"":", split"})`),O)return!0;y.pos>n?e.push(y):i.push(y)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return UE(t,e),!0}}runRecovery(t,e,i){let n=null,s=!1;for(let l=0;l<t.length;l++){let o=t[l],a=e[l<<1],f=e[(l<<1)+1],c=tr?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),tr&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let p=o.split(),m=c;for(let O=0;O<10&&p.forceReduce()&&(tr&&console.log(m+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,i));O++)tr&&(m=this.stackID(p)+" -> ");for(let O of o.recoverByInsert(a))tr&&console.log(c+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,i);this.stream.end>o.pos?(f==o.pos&&(f++,a=0),o.recoverByDelete(a,f),tr&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),UE(o,i)):(!n||n.score<p.score)&&(n=p)}return n}stackToTree(t){return t.close(),Rr.build({buffer:JO.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(SS||(SS=new WeakMap)).get(t);return e||SS.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function UE(r,t){for(let e=0;e<t.length;e++){let i=t[e];if(i.pos==r.pos&&i.sameState(r)){t[e].score<r.score&&(t[e]=r);return}}t.push(r)}class Tet{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||this.disabled[t]==0}}const wS=r=>r;class Qet{constructor(t){this.start=t.start,this.shift=t.shift||wS,this.reduce=t.reduce||wS,this.reuse=t.reuse||wS,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}}class t1 extends bet{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let i=Object.keys(t.topRules).map(o=>t.topRules[o][1]),n=[];for(let o=0;o<e.length;o++)n.push([]);function s(o,a,f){n[o].push([a,a.deserialize(String(f))])}if(t.nodeProps)for(let o of t.nodeProps){let a=o[0];typeof a=="string"&&(a=Ge[a]);for(let f=1;f<o.length;){let c=o[f++];if(c>=0)s(c,a,o[f++]);else{let p=o[f+-c];for(let m=-c;m>0;m--)s(o[f++],a,p);f++}}}this.nodeSet=new nA(e.map((o,a)=>oo.define({name:a>=this.minRepeatTerm?void 0:o,id:a,props:n[a],top:i.indexOf(a)>-1,error:a==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(a)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=R6;let l=hd(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(GE),this.states=hd(t.states,Uint32Array),this.data=hd(t.stateData),this.goto=hd(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(o=>typeof o=="number"?new zu(l,o):o),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let n=new Cet(this,t,e,i);for(let s of this.wrappers)n=s(n,t,e,i);return n}getGoto(t,e,i=!1){let n=this.goto;if(e>=n[0])return-1;for(let s=n[e+1];;){let l=n[s++],o=l&1,a=n[s++];if(o&&i)return a;for(let f=s+(l>>1);s<f;s++)if(n[s]==t)return a;if(o)return-1}}hasAction(t,e){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(t,n?2:1),l;;s+=3){if((l=i[s])==65535)if(i[s+1]==1)l=i[s=jl(i,s+2)];else{if(i[s+1]==2)return jl(i,s+2);break}if(l==e||l==0)return jl(i,s+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,i=>i==e?!0:null)}allActions(t,e){let i=this.stateSlot(t,4),n=i?e(i):void 0;for(let s=this.stateSlot(t,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=jl(this.data,s+2);else break;n=e(jl(this.data,s+1))}return n}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=jl(this.data,i+2);else break;if((this.data[i+2]&1)==0){let n=this.data[i+1];e.some((s,l)=>l&1&&s==n)||e.push(this.data[i],n)}}return e}configure(t){let e=Object.assign(Object.create(t1.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(i=>{let n=t.tokenizers.find(s=>s.from==i);return n?n.to:i})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=t.specializers.find(o=>o.from==i.external);if(!s)return i;let l=Object.assign(Object.assign({},i),{external:s.to});return e.specializers[n]=GE(l),l})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map(()=>!1);if(t)for(let s of t.split(" ")){let l=e.indexOf(s);l>=0&&(i[l]=!0)}let n=null;for(let s=0;s<e.length;s++)if(!i[s])for(let l=this.dialects[e[s]],o;(o=this.data[l++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[o]=1;return new Tet(t,i,n)}static deserialize(t){return new t1(t)}}function jl(r,t){return r[t]|r[t+1]<<16}function Pet(r){let t=null;for(let e of r){let i=e.p.stoppedAt;(e.pos==e.p.stream.end||i!=null&&e.pos>i)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function GE(r){if(r.external){let t=r.extend?1:0;return(e,i)=>r.external(e,i)<<1|t}return r.get}let Met=0,ql=class R2{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=Met++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof R2&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let n=new R2(i,[],null,[]);if(n.set.push(n),e)for(let s of e.set)n.set.push(s);return n}static defineModifier(t){let e=new FE(t);return i=>i.modified.indexOf(e)>-1?i:FE.get(i.base||i,i.modified.concat(e).sort((n,s)=>n.id-s.id))}},Ret=0,FE=class Z6{constructor(t){this.name=t,this.instances=[],this.id=Ret++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(o=>o.base==t&&Eet(e,o.modified));if(i)return i;let n=[],s=new ql(t.name,n,t,e);for(let o of e)o.instances.push(s);let l=Det(e);for(let o of t.set)if(!o.modified.length)for(let a of l)n.push(Z6.get(o,a));return s}};function Eet(r,t){return r.length==t.length&&r.every((e,i)=>e==t[i])}function Det(r){let t=[[]];for(let e=0;e<r.length;e++)for(let i=0,n=t.length;i<n;i++)t.push(t[i].concat(r[e]));return t.sort((e,i)=>i.length-e.length)}function Bet(r){let t=Object.create(null);for(let e in r){let i=r[e];Array.isArray(i)||(i=[i]);for(let n of e.split(" "))if(n){let s=[],l=2,o=n;for(let p=0;;){if(o=="..."&&p>0&&p+3==n.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==n.length)break;let O=n[p++];if(p==n.length&&O=="!"){l=0;break}if(O!="/")throw new RangeError("Invalid path: "+n);o=n.slice(p)}let a=s.length-1,f=s[a];if(!f)throw new RangeError("Invalid path: "+n);let c=new e1(i,l,a>0?s.slice(0,a):null);t[f]=c.sort(t[f])}}return _et.add(t)}const _et=new Ge({combine(r,t){let e,i,n;for(;r||t;){if(!r||t&&r.depth>=t.depth?(n=t,t=t.next):(n=r,r=r.next),e&&e.mode==n.mode&&!n.context&&!e.context)continue;let s=new e1(n.tags,n.mode,n.context);e?e.next=s:i=s,e=s}return i}});let e1=class{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};e1.empty=new e1([],2,null);function zet(r,t){let e=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let l of s.tag)e[l.id]=s.class;let{scope:i,all:n=null}={};return{style:s=>{let l=n;for(let o of s)for(let a of o.set){let f=e[a.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}const At=ql.define,Km=At(),Go=At(),KE=At(Go),JE=At(Go),Fo=At(),Jm=At(Fo),vS=At(Fo),Ns=At(),Ga=At(Ns),ks=At(),$s=At(),E2=At(),Tc=At(E2),t0=At(),ct={comment:Km,lineComment:At(Km),blockComment:At(Km),docComment:At(Km),name:Go,variableName:At(Go),typeName:KE,tagName:At(KE),propertyName:JE,attributeName:At(JE),className:At(Go),labelName:At(Go),namespace:At(Go),macroName:At(Go),literal:Fo,string:Jm,docString:At(Jm),character:At(Jm),attributeValue:At(Jm),number:vS,integer:At(vS),float:At(vS),bool:At(Fo),regexp:At(Fo),escape:At(Fo),color:At(Fo),url:At(Fo),keyword:ks,self:At(ks),null:At(ks),atom:At(ks),unit:At(ks),modifier:At(ks),operatorKeyword:At(ks),controlKeyword:At(ks),definitionKeyword:At(ks),moduleKeyword:At(ks),operator:$s,derefOperator:At($s),arithmeticOperator:At($s),logicOperator:At($s),bitwiseOperator:At($s),compareOperator:At($s),updateOperator:At($s),definitionOperator:At($s),typeOperator:At($s),controlOperator:At($s),punctuation:E2,separator:At(E2),bracket:Tc,angleBracket:At(Tc),squareBracket:At(Tc),paren:At(Tc),brace:At(Tc),content:Ns,heading:Ga,heading1:At(Ga),heading2:At(Ga),heading3:At(Ga),heading4:At(Ga),heading5:At(Ga),heading6:At(Ga),contentSeparator:At(Ns),list:At(Ns),quote:At(Ns),emphasis:At(Ns),strong:At(Ns),link:At(Ns),monospace:At(Ns),strikethrough:At(Ns),inserted:At(),deleted:At(),changed:At(),invalid:At(),meta:t0,documentMeta:At(t0),annotation:At(t0),processingInstruction:At(t0),definition:ql.defineModifier("definition"),constant:ql.defineModifier("constant"),function:ql.defineModifier("function"),standard:ql.defineModifier("standard"),local:ql.defineModifier("local"),special:ql.defineModifier("special")};for(let r in ct){let t=ct[r];t instanceof ql&&(t.name=r)}zet([{tag:ct.link,class:"tok-link"},{tag:ct.heading,class:"tok-heading"},{tag:ct.emphasis,class:"tok-emphasis"},{tag:ct.strong,class:"tok-strong"},{tag:ct.keyword,class:"tok-keyword"},{tag:ct.atom,class:"tok-atom"},{tag:ct.bool,class:"tok-bool"},{tag:ct.url,class:"tok-url"},{tag:ct.labelName,class:"tok-labelName"},{tag:ct.inserted,class:"tok-inserted"},{tag:ct.deleted,class:"tok-deleted"},{tag:ct.literal,class:"tok-literal"},{tag:ct.string,class:"tok-string"},{tag:ct.number,class:"tok-number"},{tag:[ct.regexp,ct.escape,ct.special(ct.string)],class:"tok-string2"},{tag:ct.variableName,class:"tok-variableName"},{tag:ct.local(ct.variableName),class:"tok-variableName tok-local"},{tag:ct.definition(ct.variableName),class:"tok-variableName tok-definition"},{tag:ct.special(ct.variableName),class:"tok-variableName2"},{tag:ct.definition(ct.propertyName),class:"tok-propertyName tok-definition"},{tag:ct.typeName,class:"tok-typeName"},{tag:ct.namespace,class:"tok-namespace"},{tag:ct.className,class:"tok-className"},{tag:ct.macroName,class:"tok-macroName"},{tag:ct.propertyName,class:"tok-propertyName"},{tag:ct.operator,class:"tok-operator"},{tag:ct.comment,class:"tok-comment"},{tag:ct.meta,class:"tok-meta"},{tag:ct.invalid,class:"tok-invalid"},{tag:ct.punctuation,class:"tok-punctuation"}]);const Net=316,Let=317,tD=1,Zet=2,Vet=3,Xet=4,Iet=318,jet=320,qet=321,Wet=5,Yet=6,Het=0,D2=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],V6=125,Uet=59,B2=47,Get=42,Fet=43,Ket=45,Jet=60,tit=44,eit=63,iit=46,nit=91,rit=new Qet({start:!1,shift(r,t){return t==Wet||t==Yet||t==jet?r:t==qet},strict:!1}),sit=new Dp((r,t)=>{let{next:e}=r;(e==V6||e==-1||t.context)&&r.acceptToken(Iet)},{contextual:!0,fallback:!0}),lit=new Dp((r,t)=>{let{next:e}=r,i;D2.indexOf(e)>-1||e==B2&&((i=r.peek(1))==B2||i==Get)||e!=V6&&e!=Uet&&e!=-1&&!t.context&&r.acceptToken(Net)},{contextual:!0}),oit=new Dp((r,t)=>{r.next==nit&&!t.context&&r.acceptToken(Let)},{contextual:!0}),ait=new Dp((r,t)=>{let{next:e}=r;if(e==Fet||e==Ket){if(r.advance(),e==r.next){r.advance();let i=!t.context&&t.canShift(tD);r.acceptToken(i?tD:Zet)}}else e==eit&&r.peek(1)==iit&&(r.advance(),r.advance(),(r.next<48||r.next>57)&&r.acceptToken(Vet))},{contextual:!0});function kS(r,t){return r>=65&&r<=90||r>=97&&r<=122||r==95||r>=192||!t&&r>=48&&r<=57}const hit=new Dp((r,t)=>{if(r.next!=Jet||!t.dialectEnabled(Het)||(r.advance(),r.next==B2))return;let e=0;for(;D2.indexOf(r.next)>-1;)r.advance(),e++;if(kS(r.next,!0)){for(r.advance(),e++;kS(r.next,!1);)r.advance(),e++;for(;D2.indexOf(r.next)>-1;)r.advance(),e++;if(r.next==tit)return;for(let i=0;;i++){if(i==7){if(!kS(r.next,!0))return;break}if(r.next!="extends".charCodeAt(i))break;r.advance(),e++}}r.acceptToken(Xet,-e)}),uit=Bet({"get set async static":ct.modifier,"for while do if else switch try catch finally return throw break continue default case defer":ct.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":ct.operatorKeyword,"let var const using function class extends":ct.definitionKeyword,"import export from":ct.moduleKeyword,"with debugger new":ct.keyword,TemplateString:ct.special(ct.string),super:ct.atom,BooleanLiteral:ct.bool,this:ct.self,null:ct.null,Star:ct.modifier,VariableName:ct.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":ct.function(ct.variableName),VariableDefinition:ct.definition(ct.variableName),Label:ct.labelName,PropertyName:ct.propertyName,PrivatePropertyName:ct.special(ct.propertyName),"CallExpression/MemberExpression/PropertyName":ct.function(ct.propertyName),"FunctionDeclaration/VariableDefinition":ct.function(ct.definition(ct.variableName)),"ClassDeclaration/VariableDefinition":ct.definition(ct.className),"NewExpression/VariableName":ct.className,PropertyDefinition:ct.definition(ct.propertyName),PrivatePropertyDefinition:ct.definition(ct.special(ct.propertyName)),UpdateOp:ct.updateOperator,"LineComment Hashbang":ct.lineComment,BlockComment:ct.blockComment,Number:ct.number,String:ct.string,Escape:ct.escape,ArithOp:ct.arithmeticOperator,LogicOp:ct.logicOperator,BitOp:ct.bitwiseOperator,CompareOp:ct.compareOperator,RegExp:ct.regexp,Equals:ct.definitionOperator,Arrow:ct.function(ct.punctuation),": Spread":ct.punctuation,"( )":ct.paren,"[ ]":ct.squareBracket,"{ }":ct.brace,"InterpolationStart InterpolationEnd":ct.special(ct.brace),".":ct.derefOperator,", ;":ct.separator,"@":ct.meta,TypeName:ct.typeName,TypeDefinition:ct.definition(ct.typeName),"type enum interface implements namespace module declare":ct.definitionKeyword,"abstract global Privacy readonly override":ct.modifier,"is keyof unique infer asserts":ct.operatorKeyword,JSXAttributeValue:ct.attributeValue,JSXText:ct.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":ct.angleBracket,"JSXIdentifier JSXNameSpacedName":ct.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":ct.attributeName,"JSXBuiltin/JSXIdentifier":ct.standard(ct.tagName)}),fit={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},cit={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},dit={__proto__:null,"<":193},pit=t1.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:rit,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[uit],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[lit,oit,ait,hit,2,3,4,5,6,7,8,9,10,11,12,13,14,sit,new M2("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new M2("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:r=>fit[r]||-1},{term:343,get:r=>cit[r]||-1},{term:95,get:r=>dit[r]||-1}],tokenPrec:15201}),git=1024;let mit=0,$S=class{constructor(t,e){this.from=t,this.to=e}},_e=class{constructor(t={}){this.id=mit++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=pl.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}};_e.closedBy=new _e({deserialize:r=>r.split(" ")});_e.openedBy=new _e({deserialize:r=>r.split(" ")});_e.group=new _e({deserialize:r=>r.split(" ")});_e.isolate=new _e({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});_e.contextHash=new _e({perNode:!0});_e.lookAhead=new _e({perNode:!0});_e.mounted=new _e({perNode:!0});let Bd=class{constructor(t,e,i,n=!1){this.tree=t,this.overlay=e,this.parser=i,this.bracketed=n}static get(t){return t&&t.props&&t.props[_e.mounted.id]}};const Oit=Object.create(null);let pl=class X6{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):Oit,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new X6(t.name||"",e,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(_e.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return i=>{for(let n=i.prop(_e.group),s=-1;s<(n?n.length:0);s++){let l=e[s<0?i.name:n[s]];if(l)return l}}}};pl.none=new pl("",Object.create(null),0,8);const e0=new WeakMap,eD=new WeakMap;var di;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays",r[r.EnterBracketed=16]="EnterBracketed"})(di||(di={}));let Nn=class _2{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let t=Bd.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let n=i.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new N2(this.topNode,t)}cursorAt(t,e=0,i=0){let n=e0.get(this)||this.topNode,s=new N2(n);return s.moveTo(t,e),e0.set(this,s._tree),s}get topNode(){return new gl(this,0,0,null)}resolve(t,e=0){let i=bp(e0.get(this)||this.topNode,t,e,!1);return e0.set(this,i),i}resolveInner(t,e=0){let i=bp(eD.get(this)||this.topNode,t,e,!0);return eD.set(this,i),i}resolveStack(t,e=0){return Sit(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t,l=t.mode||0,o=(l&di.IncludeAnonymous)>0;for(let a=this.cursor(l|di.IncludeAnonymous);;){let f=!1;if(a.from<=s&&a.to>=n&&(!o&&a.type.isAnonymous||e(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:oA(pl.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,n)=>new _2(this.type,e,i,n,this.propValues),t.makeTree||((e,i,n)=>new _2(pl.none,e,i,n)))}static build(t){return wit(t)}};Nn.empty=new Nn(pl.none,[],[],0);let yit=class I6{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new I6(this.buffer,this.index)}},af=class j6{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return pl.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let l=[];for(;t<i;)l.push(this.childString(t)),t=this.buffer[t+3];return s+"("+l.join(",")+")"}findChild(t,e,i,n,s){let{buffer:l}=this,o=-1;for(let a=t;a!=e&&!(q6(s,n,l[a+1],l[a+2])&&(o=a,i>0));a=l[a+3]);return o}slice(t,e,i){let n=this.buffer,s=new Uint16Array(e-t),l=0;for(let o=t,a=0;o<e;){s[a++]=n[o++],s[a++]=n[o++]-i;let f=s[a++]=n[o++]-i;s[a++]=n[o++]-t,l=Math.max(l,f)}return new j6(s,l,this.set)}};function q6(r,t,e,i){switch(r){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function bp(r,t,e,i){for(var n;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let l=!i&&r instanceof gl&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=i?0:di.IgnoreOverlays;if(i)for(let l=r,o=l.parent;o;l=o,o=l.parent)l instanceof gl&&l.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=l.from&&(r=o);for(;;){let l=r.enter(t,e,s);if(!l)return r;r=l}}let W6=class{cursor(t=0){return new N2(this,t)}getChild(t,e=null,i=null){let n=iD(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return iD(this,t,e,i)}resolve(t,e=0){return bp(this,t,e,!1)}resolveInner(t,e=0){return bp(this,t,e,!0)}matchContext(t){return z2(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let n=e.lastChild;if(!n||n.to!=e.to)break;n.type.isError&&n.from==n.to?(i=e,e=n.prevSibling):e=n}return i}get node(){return this}get next(){return this.parent}},gl=class lO extends W6{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,s=0){for(let l=this;;){for(let{children:o,positions:a}=l._tree,f=e>0?o.length:-1;t!=f;t+=e){let c=o[t],p=a[t]+l.from,m;if(!(!(s&di.EnterBracketed&&c instanceof Nn&&(m=Bd.get(c))&&!m.overlay&&m.bracketed&&i>=p&&i<=p+c.length)&&!q6(n,i,p,p+c.length))){if(c instanceof af){if(s&di.ExcludeBuffers)continue;let O=c.findChild(0,c.buffer.length,e,i-p,n);if(O>-1)return new xp(new bit(l,c,t,p),null,O)}else if(s&di.IncludeAnonymous||!c.type.isAnonymous||lA(c)){let O;if(!(s&di.IgnoreMounts)&&(O=Bd.get(c))&&!O.overlay)return new lO(O.tree,p,t,l);let y=new lO(c,p,t,l);return s&di.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(e<0?c.children.length-1:0,e,i,n,s)}}}if(s&di.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?t=l.index+e:t=e<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,i=0){let n;if(!(i&di.IgnoreOverlays)&&(n=Bd.get(this._tree))&&n.overlay){let s=t-this.from,l=i&di.EnterBracketed&&n.bracketed;for(let{from:o,to:a}of n.overlay)if((e>0||l?o<=s:o<s)&&(e<0||l?a>=s:a>s))return new lO(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function iD(r,t,e,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(let l=!1;!l;)if(l=n.type.is(e),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function z2(r,t,e=t.length-1){for(let i=r;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}let bit=class{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}},xp=class ud extends W6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new ud(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,i=0){if(i&di.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new ud(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new ud(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new ud(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let l=i.buffer[this.index+1];t.push(i.slice(n,s,l)),e.push(0)}return new Nn(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function Y6(r){if(!r.length)return null;let t=0,e=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>e.from||l.to<e.to)&&(e=l,t=s)}let i=e instanceof gl&&e.index<0?null:e.parent,n=r.slice();return i?n[t]=i:n.splice(t,1),new xit(n,e)}let xit=class{constructor(t,e){this.heads=t,this.node=e}get next(){return Y6(this.heads)}};function Sit(r,t,e){let i=r.resolveInner(t,e),n=null;for(let s=i instanceof gl?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(n||(n=[i])).push(l.resolve(t,e)),s=l}else{let l=Bd.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=t&&l.overlay[l.overlay.length-1].to>=t){let o=new gl(l.tree,l.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(bp(o,t,e,!1))}}return n?Y6(n):i}let N2=class{get name(){return this.type.name}constructor(t,e=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=e&~di.EnterBracketed,t instanceof gl)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return t?t instanceof gl?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&di.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&di.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&di.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let s=e+t,l=t<0?-1:i._tree.children.length;s!=l;s+=t){let o=i._tree.children[s];if(this.mode&di.IncludeAnonymous||o instanceof af||!o.type.isAnonymous||lA(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let l=t;l;l=l._parent)if(l.index==n){if(n==this.index)return l;e=l,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new xp(this.buffer,e,this.stack[n]);return this.bufferNode=new xp(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return z2(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return z2(this._tree,t,n);let l=i[e.buffer[this.stack[s]]];if(!l.isAnonymous){if(t[n]&&t[n]!=l.name)return!1;n--}}return!0}};function lA(r){return r.children.some(t=>t instanceof af||!t.type.isAnonymous||lA(t))}function wit(r){var t;let{buffer:e,nodeSet:i,maxBufferLength:n=git,reused:s=[],minRepeatType:l=i.types.length}=r,o=Array.isArray(e)?new yit(e,e.length):e,a=i.types,f=0,c=0;function p(P,E,A,V,D,Z){let{id:z,start:k,end:L,size:$}=o,j=c,W=f;if($<0)if(o.next(),$==-1){let R=s[z];A.push(R),V.push(k-P);return}else if($==-3){f=z;return}else if($==-4){c=z;return}else throw new RangeError(`Unrecognized record size: ${$}`);let X=a[z],st,F,pt=k-P;if(L-k<=n&&(F=w(o.pos-E,D))){let R=new Uint16Array(F.size-F.skip),B=o.pos-F.size,H=R.length;for(;o.pos>B;)H=v(F.start,R,H);st=new af(R,L-F.start,i),pt=F.start-P}else{let R=o.pos-$;o.next();let B=[],H=[],G=z>=l?z:-1,tt=0,mt=L;for(;o.pos>R;)G>=0&&o.id==G&&o.size>=0?(o.end<=mt-n&&(y(B,H,k,tt,o.end,mt,G,j,W),tt=B.length,mt=o.end),o.next()):Z>2500?m(k,R,B,H):p(k,R,B,H,G,Z+1);if(G>=0&&tt>0&&tt<B.length&&y(B,H,k,tt,k,mt,G,j,W),B.reverse(),H.reverse(),G>-1&&tt>0){let Rt=O(X,W);st=oA(X,B,H,0,B.length,0,L-k,Rt,Rt)}else st=S(X,B,H,L-k,j-L,W)}A.push(st),V.push(pt)}function m(P,E,A,V){let D=[],Z=0,z=-1;for(;o.pos>E;){let{id:k,start:L,end:$,size:j}=o;if(j>4)o.next();else{if(z>-1&&L<z)break;z<0&&(z=$-n),D.push(k,L,$),Z++,o.next()}}if(Z){let k=new Uint16Array(Z*4),L=D[D.length-2];for(let $=D.length-3,j=0;$>=0;$-=3)k[j++]=D[$],k[j++]=D[$+1]-L,k[j++]=D[$+2]-L,k[j++]=j;A.push(new af(k,D[2]-L,i)),V.push(L-P)}}function O(P,E){return(A,V,D)=>{let Z=0,z=A.length-1,k,L;if(z>=0&&(k=A[z])instanceof Nn){if(!z&&k.type==P&&k.length==D)return k;(L=k.prop(_e.lookAhead))&&(Z=V[z]+k.length+L)}return S(P,A,V,D,Z,E)}}function y(P,E,A,V,D,Z,z,k,L){let $=[],j=[];for(;P.length>V;)$.push(P.pop()),j.push(E.pop()+A-D);P.push(S(i.types[z],$,j,Z-D,k-Z,L)),E.push(D-A)}function S(P,E,A,V,D,Z,z){if(Z){let k=[_e.contextHash,Z];z=z?[k].concat(z):[k]}if(D>25){let k=[_e.lookAhead,D];z=z?[k].concat(z):[k]}return new Nn(P,E,A,V,z)}function w(P,E){let A=o.fork(),V=0,D=0,Z=0,z=A.end-n,k={size:0,start:0,skip:0};t:for(let L=A.pos-P;A.pos>L;){let $=A.size;if(A.id==E&&$>=0){k.size=V,k.start=D,k.skip=Z,Z+=4,V+=4,A.next();continue}let j=A.pos-$;if($<0||j<L||A.start<z)break;let W=A.id>=l?4:0,X=A.start;for(A.next();A.pos>j;){if(A.size<0)if(A.size==-3||A.size==-4)W+=4;else break t;else A.id>=l&&(W+=4);A.next()}D=X,V+=$,Z+=W}return(E<0||V==P)&&(k.size=V,k.start=D,k.skip=Z),k.size>4?k:void 0}function v(P,E,A){let{id:V,start:D,end:Z,size:z}=o;if(o.next(),z>=0&&V<l){let k=A;if(z>4){let L=o.pos-(z-4);for(;o.pos>L;)A=v(P,E,A)}E[--A]=k,E[--A]=Z-P,E[--A]=D-P,E[--A]=V}else z==-3?f=V:z==-4&&(c=V);return A}let T=[],M=[];for(;o.pos>0;)p(r.start||0,r.bufferStart||0,T,M,-1,0);let N=(t=r.length)!==null&&t!==void 0?t:T.length?M[0]+T[0].length:0;return new Nn(a[r.topID],T.reverse(),M.reverse(),N)}const nD=new WeakMap;function oO(r,t){if(!r.isAnonymous||t instanceof af||t.type!=r)return 1;let e=nD.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=r||!(i instanceof Nn)){e=1;break}e+=oO(r,i)}nD.set(t,e)}return e}function oA(r,t,e,i,n,s,l,o,a){let f=0;for(let y=i;y<n;y++)f+=oO(r,t[y]);let c=Math.ceil(f*1.5/8),p=[],m=[];function O(y,S,w,v,T){for(let M=w;M<v;){let N=M,P=S[M],E=oO(r,y[M]);for(M++;M<v;M++){let A=oO(r,y[M]);if(E+A>=c)break;E+=A}if(M==N+1){if(E>c){let A=y[N];O(A.children,A.positions,0,A.children.length,S[N]+T);continue}p.push(y[N])}else{let A=S[M-1]+y[M-1].length-P;p.push(oA(r,y,S,N,M,P,A,null,a))}m.push(P+T-s)}}return O(t,e,i,n,0),(o||a)(p,m,l)}class vit{constructor(){this.map=new WeakMap}setBuffer(t,e,i){let n=this.map.get(t);n||this.map.set(t,n=new Map),n.set(e,i)}getBuffer(t,e){let i=this.map.get(t);return i&&i.get(e)}set(t,e){t instanceof xp?this.setBuffer(t.context.buffer,t.index,e):t instanceof gl&&this.map.set(t.tree,e)}get(t){return t instanceof xp?this.getBuffer(t.context.buffer,t.index):t instanceof gl?this.map.get(t.tree):void 0}cursorSet(t,e){t.buffer?this.setBuffer(t.buffer.buffer,t.index,e):this.map.set(t.tree,e)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}}let aO=class L2{constructor(t,e,i,n,s=!1,l=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let n=[new L2(0,t.length,t,0,!1,i)];for(let s of e)s.to>t.length&&n.push(s);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],s=1,l=t.length?t[0]:null;for(let o=0,a=0,f=0;;o++){let c=o<e.length?e[o]:null,p=c?c.fromA:1e9;if(p-a>=i)for(;l&&l.from<p;){let m=l;if(a>=m.from||p<=m.to||f){let O=Math.max(m.from,a)-f,y=Math.min(m.to,p)-f;m=O>=y?null:new L2(O,y,m.tree,m.offset+f,o>0,!!c)}if(m&&n.push(m),l.to>p)break;l=s<t.length?t[s++]:null}if(!c)break;a=c.toA,f=c.toA-c.toB}return n}},kit=class{startParse(t,e,i){return typeof t=="string"&&(t=new $it(t)),i=i?i.length?i.map(n=>new $S(n.from,n.to)):[new $S(0,0)]:[new $S(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let s=n.advance();if(s)return s}}},$it=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};new _e({perNode:!0});let Ait=0,Wl=class Z2{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=Ait++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof Z2&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let n=new Z2(i,[],null,[]);if(n.set.push(n),e)for(let s of e.set)n.set.push(s);return n}static defineModifier(t){let e=new rD(t);return i=>i.modified.indexOf(e)>-1?i:rD.get(i.base||i,i.modified.concat(e).sort((n,s)=>n.id-s.id))}},Cit=0,rD=class H6{constructor(t){this.name=t,this.instances=[],this.id=Cit++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(o=>o.base==t&&Tit(e,o.modified));if(i)return i;let n=[],s=new Wl(t.name,n,t,e);for(let o of e)o.instances.push(s);let l=Qit(e);for(let o of t.set)if(!o.modified.length)for(let a of l)n.push(H6.get(o,a));return s}};function Tit(r,t){return r.length==t.length&&r.every((e,i)=>e==t[i])}function Qit(r){let t=[[]];for(let e=0;e<r.length;e++)for(let i=0,n=t.length;i<n;i++)t.push(t[i].concat(r[e]));return t.sort((e,i)=>i.length-e.length)}function Pit(r){let t=Object.create(null);for(let e in r){let i=r[e];Array.isArray(i)||(i=[i]);for(let n of e.split(" "))if(n){let s=[],l=2,o=n;for(let p=0;;){if(o=="..."&&p>0&&p+3==n.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==n.length)break;let O=n[p++];if(p==n.length&&O=="!"){l=0;break}if(O!="/")throw new RangeError("Invalid path: "+n);o=n.slice(p)}let a=s.length-1,f=s[a];if(!f)throw new RangeError("Invalid path: "+n);let c=new i1(i,l,a>0?s.slice(0,a):null);t[f]=c.sort(t[f])}}return Mit.add(t)}const Mit=new _e({combine(r,t){let e,i,n;for(;r||t;){if(!r||t&&r.depth>=t.depth?(n=t,t=t.next):(n=r,r=r.next),e&&e.mode==n.mode&&!n.context&&!e.context)continue;let s=new i1(n.tags,n.mode,n.context);e?e.next=s:i=s,e=s}return i}});let i1=class{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};i1.empty=new i1([],2,null);function Rit(r,t){let e=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let l of s.tag)e[l.id]=s.class;let{scope:i,all:n=null}={};return{style:s=>{let l=n;for(let o of s)for(let a of o.set){let f=e[a.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}const Ct=Wl.define,i0=Ct(),Ko=Ct(),sD=Ct(Ko),lD=Ct(Ko),Jo=Ct(),n0=Ct(Jo),AS=Ct(Jo),Ls=Ct(),Fa=Ct(Ls),As=Ct(),Cs=Ct(),V2=Ct(),Qc=Ct(V2),r0=Ct(),ee={comment:i0,lineComment:Ct(i0),blockComment:Ct(i0),docComment:Ct(i0),name:Ko,variableName:Ct(Ko),typeName:sD,tagName:Ct(sD),propertyName:lD,attributeName:Ct(lD),className:Ct(Ko),labelName:Ct(Ko),namespace:Ct(Ko),macroName:Ct(Ko),literal:Jo,string:n0,docString:Ct(n0),character:Ct(n0),attributeValue:Ct(n0),number:AS,integer:Ct(AS),float:Ct(AS),bool:Ct(Jo),regexp:Ct(Jo),escape:Ct(Jo),color:Ct(Jo),url:Ct(Jo),keyword:As,self:Ct(As),null:Ct(As),atom:Ct(As),unit:Ct(As),modifier:Ct(As),operatorKeyword:Ct(As),controlKeyword:Ct(As),definitionKeyword:Ct(As),moduleKeyword:Ct(As),operator:Cs,derefOperator:Ct(Cs),arithmeticOperator:Ct(Cs),logicOperator:Ct(Cs),bitwiseOperator:Ct(Cs),compareOperator:Ct(Cs),updateOperator:Ct(Cs),definitionOperator:Ct(Cs),typeOperator:Ct(Cs),controlOperator:Ct(Cs),punctuation:V2,separator:Ct(V2),bracket:Qc,angleBracket:Ct(Qc),squareBracket:Ct(Qc),paren:Ct(Qc),brace:Ct(Qc),content:Ls,heading:Fa,heading1:Ct(Fa),heading2:Ct(Fa),heading3:Ct(Fa),heading4:Ct(Fa),heading5:Ct(Fa),heading6:Ct(Fa),contentSeparator:Ct(Ls),list:Ct(Ls),quote:Ct(Ls),emphasis:Ct(Ls),strong:Ct(Ls),link:Ct(Ls),monospace:Ct(Ls),strikethrough:Ct(Ls),inserted:Ct(),deleted:Ct(),changed:Ct(),invalid:Ct(),meta:r0,documentMeta:Ct(r0),annotation:Ct(r0),processingInstruction:Ct(r0),definition:Wl.defineModifier("definition"),constant:Wl.defineModifier("constant"),function:Wl.defineModifier("function"),standard:Wl.defineModifier("standard"),local:Wl.defineModifier("local"),special:Wl.defineModifier("special")};for(let r in ee){let t=ee[r];t instanceof Wl&&(t.name=r)}Rit([{tag:ee.link,class:"tok-link"},{tag:ee.heading,class:"tok-heading"},{tag:ee.emphasis,class:"tok-emphasis"},{tag:ee.strong,class:"tok-strong"},{tag:ee.keyword,class:"tok-keyword"},{tag:ee.atom,class:"tok-atom"},{tag:ee.bool,class:"tok-bool"},{tag:ee.url,class:"tok-url"},{tag:ee.labelName,class:"tok-labelName"},{tag:ee.inserted,class:"tok-inserted"},{tag:ee.deleted,class:"tok-deleted"},{tag:ee.literal,class:"tok-literal"},{tag:ee.string,class:"tok-string"},{tag:ee.number,class:"tok-number"},{tag:[ee.regexp,ee.escape,ee.special(ee.string)],class:"tok-string2"},{tag:ee.variableName,class:"tok-variableName"},{tag:ee.local(ee.variableName),class:"tok-variableName tok-local"},{tag:ee.definition(ee.variableName),class:"tok-variableName tok-definition"},{tag:ee.special(ee.variableName),class:"tok-variableName2"},{tag:ee.definition(ee.propertyName),class:"tok-propertyName tok-definition"},{tag:ee.typeName,class:"tok-typeName"},{tag:ee.namespace,class:"tok-namespace"},{tag:ee.className,class:"tok-className"},{tag:ee.macroName,class:"tok-macroName"},{tag:ee.propertyName,class:"tok-propertyName"},{tag:ee.operator,class:"tok-operator"},{tag:ee.comment,class:"tok-comment"},{tag:ee.meta,class:"tok-meta"},{tag:ee.invalid,class:"tok-invalid"},{tag:ee.punctuation,class:"tok-punctuation"}]);var CS;const fd=new _e;function U6(r){return Zt.define({combine:r?t=>t.concat(r):void 0})}const aA=new _e;let Js=class{constructor(t,e,i=[],n=""){this.data=t,this.name=n,Ee.prototype.hasOwnProperty("tree")||Object.defineProperty(Ee.prototype,"tree",{get(){return hf(this)}}),this.parser=e,this.extension=[uf.of(this),Ee.languageData.of((s,l,o)=>{let a=oD(s,l,o),f=a.type.prop(fd);if(!f)return[];let c=s.facet(f),p=a.type.prop(aA);if(p){let m=a.resolve(l-a.from,o);for(let O of p)if(O.test(m,s)){let y=s.facet(O.facet);return O.type=="replace"?y:y.concat(c)}}return c})].concat(i)}isActiveAt(t,e,i=-1){return oD(t,e,i).type.prop(fd)==this.data}findRegions(t){let e=t.facet(uf);if(e?.data==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],n=(s,l)=>{if(s.prop(fd)==this.data){i.push({from:l,to:l+s.length});return}let o=s.prop(_e.mounted);if(o){if(o.tree.prop(fd)==this.data){if(o.overlay)for(let a of o.overlay)i.push({from:a.from+l,to:a.to+l});else i.push({from:l,to:l+s.length});return}else if(o.overlay){let a=i.length;if(n(o.tree,o.overlay[0].from+l),i.length>a)return}}for(let a=0;a<s.children.length;a++){let f=s.children[a];f instanceof Nn&&n(f,s.positions[a]+l)}};return n(hf(t),0),i}get allowsNesting(){return!0}};Js.setState=oi.define();function oD(r,t,e){let i=r.facet(uf),n=hf(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(t,e,di.ExcludeBuffers|di.EnterBracketed))s.type.isTop&&(n=s);return n}let Eit=class X2 extends Js{constructor(t,e,i){super(t,e,[],i),this.parser=e}static define(t){let e=U6(t.languageData);return new X2(e,t.parser.configure({props:[fd.add(i=>i.isTop?e:void 0)]}),t.name)}configure(t,e){return new X2(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function hf(r){let t=r.field(Js.state,!1);return t?t.tree:Nn.empty}let Dit=class{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}},Pc=null,Bit=class I2{constructor(t,e,i=[],n,s,l,o,a){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=l,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new I2(t,e,[],Nn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Dit(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=Nn.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let n=Date.now()+t;t=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(aO.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(aO.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Pc;Pc=this;try{return t()}finally{Pc=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=aD(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:n,treeLen:s,viewport:l,skipped:o}=this;if(this.takeTree(),!t.empty){let a=[];if(t.iterChangedRanges((f,c,p,m)=>a.push({fromA:f,toA:c,fromB:p,toB:m})),i=aO.applyChanges(i,a),n=Nn.empty,s=0,l={from:t.mapPos(l.from,-1),to:t.mapPos(l.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let c=t.mapPos(f.from,1),p=t.mapPos(f.to,-1);c<p&&o.push({from:c,to:p})}}}return new I2(this.parser,e,i,n,s,l,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<t.to&&s>t.from&&(this.fragments=aD(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends kit{createParse(e,i,n){let s=n[0].from,l=n[n.length-1].to;return{parsedPos:s,advance(){let a=Pc;if(a){for(let f of n)a.tempSkipped.push(f);t&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,t]):t)}return this.parsedPos=l,new Nn(pl.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Pc}};function aD(r,t,e){return aO.applyChanges(r,[{fromA:t,toA:e,fromB:t,toB:e}])}let j2=class q2{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new q2(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=Bit.create(t.facet(uf).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new q2(i)}};Js.state=ao.define({create:j2.init,update(r,t){for(let e of t.effects)if(e.is(Js.setState))return e.value;return t.startState.facet(uf)!=t.state.facet(uf)?j2.init(t.state):r.apply(t)}});let G6=r=>{let t=setTimeout(()=>r(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(G6=r=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(r,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const TS=typeof navigator<"u"&&(!((CS=navigator.scheduling)===null||CS===void 0)&&CS.isInputPending)?()=>navigator.scheduling.isInputPending():null,_it=so.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Js.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Js.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=G6(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(Js.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,t&&!TS?Math.max(25,t.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,a=s.context.work(()=>TS&&TS()||Date.now()>l,n+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Js.setState.of(new j2(s.context))})),this.chunkBudget>0&&!(a&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>hr(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),uf=Zt.define({combine(r){return r.length?r[0]:null},enables:r=>[Js.state,_it,Gt.contentAttributes.compute([r],t=>{let e=t.facet(r);return e&&e.name?{"data-language":e.name}:{}})]});let zit=class{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}};const Nit=Zt.define({combine:r=>{if(!r.length)return"  ";let t=r[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return t}}),Lit=new _e;function Zit(r){let t=r.node,e=t.childAfter(t.from),i=t.lastChild;if(!e)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(e.from),l=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let o=e.to;;){let a=t.childAfter(o);if(!a||a==i)return null;if(!a.type.isSkipped){if(a.from>=l)return null;let f=/^ */.exec(s.text.slice(e.to-s.from))[0].length;return{from:e.from,to:e.to+f}}o=a.to}}function Vit({closing:r,align:t=!0,units:e=1}){return i=>Xit(i,t,e,r)}function Xit(r,t,e,i,n){let s=r.textAfter,l=s.match(/^\s*/)[0].length,o=i&&s.slice(l,l+i.length)==i||n==r.pos+l,a=t?Zit(r):null;return a?o?r.column(a.from):r.column(a.to):r.baseIndent+(o?0:r.unit*e)}const Iit=r=>r.baseIndent;function QS({except:r,units:t=1}={}){return e=>{let i=r&&r.test(e.textAfter);return e.baseIndent+(i?0:t*e.unit)}}const jit=new _e;function qit(r){let t=r.firstChild,e=r.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?r.to:e.from}:null}const Wit=Object.create(null),hD=[pl.none],uD=[],fD=Object.create(null),Yit=Object.create(null);for(let[r,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Yit[r]=Hit(Wit,t);function PS(r,t){uD.indexOf(r)>-1||(uD.push(r),console.warn(t))}function Hit(r,t){let e=[];for(let o of t.split(" ")){let a=[];for(let f of o.split(".")){let c=r[f]||ee[f];c?typeof c=="function"?a.length?a=a.map(c):PS(f,`Modifier ${f} used at start of tag`):a.length?PS(f,`Tag ${f} used as modifier`):a=Array.isArray(c)?c:[c]:PS(f,`Unknown highlighting tag ${f}`)}for(let f of a)e.push(f)}if(!e.length)return 0;let i=t.replace(/ /g,"_"),n=i+" "+e.map(o=>o.id),s=fD[n];if(s)return s.id;let l=fD[n]=pl.define({id:hD.length,name:i,props:[Pit({[i]:e})]});return hD.push(l),l.id}Ze.RTL,Ze.LTR;function cD(r){let t=Object.keys(r).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function Uit(r){let t=Object.create(null),e=Object.create(null);for(let{label:n}of r){t[n[0]]=!0;for(let s=1;s<n.length;s++)e[n[s]]=!0}let i=cD(t)+cD(e)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Git(r){let t=r.map(n=>typeof n=="string"?{label:n}:n),[e,i]=t.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:Uit(t);return n=>{let s=n.matchBefore(i);return s||n.explicit?{from:s?s.from:n.pos,options:t,validFor:e}:null}}function Fit(r,t){return e=>{for(let i=hf(e.state).resolveInner(e.pos,-1);i;i=i.parent){if(r.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return t(e)}}const Kit=mh.define(),Jit=Gt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class tnt{constructor(t,e,i,n){this.field=t,this.line=e,this.from=i,this.to=n}}class hA{constructor(t,e,i){this.field=t,this.from=e,this.to=i}map(t){let e=t.mapPos(this.from,-1,pn.TrackDel),i=t.mapPos(this.to,1,pn.TrackDel);return e==null||i==null?null:new hA(this.field,e,i)}}class uA{constructor(t,e){this.lines=t,this.fieldPositions=e}instantiate(t,e){let i=[],n=[e],s=t.doc.lineAt(e),l=/^\s*/.exec(s.text)[0];for(let a of this.lines){if(i.length){let f=l,c=/^\t*/.exec(a)[0].length;for(let p=0;p<c;p++)f+=t.facet(Nit);n.push(e+f.length-c),a=f+a.slice(c)}i.push(a),e+=a.length+1}let o=this.fieldPositions.map(a=>new hA(a.field,n[a.line]+a.from,n[a.line]+a.to));return{text:i,ranges:o}}static parse(t){let e=[],i=[],n=[],s;for(let l of t.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(l);){let o=s[1]?+s[1]:null,a=s[2]||s[3]||"",f=-1,c=a.replace(/\\[{}]/g,p=>p[1]);for(let p=0;p<e.length;p++)(o!=null?e[p].seq==o:c&&e[p].name==c)&&(f=p);if(f<0){let p=0;for(;p<e.length&&(o==null||e[p].seq!=null&&e[p].seq<o);)p++;e.splice(p,0,{seq:o,name:c}),f=p;for(let m of n)m.field>=f&&m.field++}for(let p of n)if(p.line==i.length&&p.from>s.index){let m=s[2]?3+(s[1]||"").length:2;p.from-=m,p.to-=m}n.push(new tnt(f,i.length,s.index,s.index+c.length)),l=l.slice(0,s.index)+a+l.slice(s.index+s[0].length)}l=l.replace(/\\([{}])/g,(o,a,f)=>{for(let c of n)c.line==i.length&&c.from>f&&(c.from--,c.to--);return a}),i.push(l)}return new uA(i,n)}}let ent=Oe.widget({widget:new class extends kp{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),int=Oe.mark({class:"cm-snippetField"});class Of{constructor(t,e){this.ranges=t,this.active=e,this.deco=Oe.set(t.map(i=>(i.from==i.to?ent:int).range(i.from,i.to)),!0)}map(t){let e=[];for(let i of this.ranges){let n=i.map(t);if(!n)return null;e.push(n)}return new Of(e,this.active)}selectionInsideField(t){return t.ranges.every(e=>this.ranges.some(i=>i.field==this.active&&i.from<=e.from&&i.to>=e.to))}}const Bp=oi.define({map(r,t){return r&&r.map(t)}}),nnt=oi.define(),Sp=ao.define({create(){return null},update(r,t){for(let e of t.effects){if(e.is(Bp))return e.value;if(e.is(nnt)&&r)return new Of(r.ranges,e.value)}return r&&t.docChanged&&(r=r.map(t.changes)),r&&t.selection&&!r.selectionInsideField(t.selection)&&(r=null),r},provide:r=>Gt.decorations.from(r,t=>t?t.deco:Oe.none)});function fA(r,t){return Wt.create(r.filter(e=>e.field==t).map(e=>Wt.range(e.from,e.to)))}function rnt(r){let t=uA.parse(r);return(e,i,n,s)=>{let{text:l,ranges:o}=t.instantiate(e.state,n),{main:a}=e.state.selection,f={changes:{from:n,to:s==a.from?a.to:s,insert:we.of(l)},scrollIntoView:!0,annotations:i?[Kit.of(i),Pr.userEvent.of("input.complete")]:void 0};if(o.length&&(f.selection=fA(o,0)),o.some(c=>c.field>0)){let c=new Of(o,0),p=f.effects=[Bp.of(c)];e.state.field(Sp,!1)===void 0&&p.push(oi.appendConfig.of([Sp,hnt,unt,Jit]))}e.dispatch(e.state.update(f))}}function F6(r){return({state:t,dispatch:e})=>{let i=t.field(Sp,!1);if(!i||r<0&&i.active==0)return!1;let n=i.active+r,s=r>0&&!i.ranges.some(l=>l.field==n+r);return e(t.update({selection:fA(i.ranges,n),effects:Bp.of(s?null:new Of(i.ranges,n)),scrollIntoView:!0})),!0}}const snt=({state:r,dispatch:t})=>r.field(Sp,!1)?(t(r.update({effects:Bp.of(null)})),!0):!1,lnt=F6(1),ont=F6(-1),ant=[{key:"Tab",run:lnt,shift:ont},{key:"Escape",run:snt}],dD=Zt.define({combine(r){return r.length?r[0]:ant}}),hnt=a1.highest(u$.compute([dD],r=>r.facet(dD)));function Tn(r,t){return{...t,apply:rnt(r)}}const unt=Gt.domEventHandlers({mousedown(r,t){let e=t.state.field(Sp,!1),i;if(!e||(i=t.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let n=e.ranges.find(s=>s.from<=i&&s.to>=i);return!n||n.field==e.active?!1:(t.dispatch({selection:fA(e.ranges,n.field),effects:Bp.of(e.ranges.some(s=>s.field>n.field)?new Of(e.ranges,n.field):null),scrollIntoView:!0}),!0)}}),K6=new class extends ma{};K6.startSide=1;K6.endSide=-1;const J6=[Tn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Tn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Tn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Tn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Tn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Tn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Tn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Tn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Tn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Tn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Tn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],fnt=J6.concat([Tn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Tn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Tn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),pD=new vit,tZ=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Mc(r){return(t,e)=>{let i=t.node.getChild("VariableDefinition");return i&&e(i,r),!0}}const cnt=["FunctionDeclaration"],dnt={FunctionDeclaration:Mc("function"),ClassDeclaration:Mc("class"),ClassExpression:()=>!0,EnumDeclaration:Mc("constant"),TypeAliasDeclaration:Mc("type"),NamespaceDeclaration:Mc("namespace"),VariableDefinition(r,t){r.matchContext(cnt)||t(r,"variable")},TypeDefinition(r,t){t(r,"type")},__proto__:null};function eZ(r,t){let e=pD.get(t);if(e)return e;let i=[],n=!0;function s(l,o){let a=r.sliceString(l.from,l.to);i.push({label:a,type:o})}return t.cursor(di.IncludeAnonymous).iterate(l=>{if(n)n=!1;else if(l.name){let o=dnt[l.name];if(o&&o(l,s)||tZ.has(l.name))return!1}else if(l.to-l.from>8192){for(let o of eZ(r,l.node))i.push(o);return!1}}),pD.set(t,i),i}const gD=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,iZ=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function pnt(r){let t=hf(r.state).resolveInner(r.pos,-1);if(iZ.indexOf(t.name)>-1)return null;let e=t.name=="VariableName"||t.to-t.from<20&&gD.test(r.state.sliceDoc(t.from,t.to));if(!e&&!r.explicit)return null;let i=[];for(let n=t;n;n=n.parent)tZ.has(n.name)&&(i=i.concat(eZ(r.state.doc,n)));return{options:i,from:e?t.from:r.pos,validFor:gD}}const rl=Eit.define({name:"javascript",parser:pit.configure({props:[Lit.add({IfStatement:QS({except:/^\s*({|else\b)/}),TryStatement:QS({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Iit,SwitchBody:r=>{let t=r.textAfter,e=/^\s*\}/.test(t),i=/^\s*(case|default)\b/.test(t);return r.baseIndent+(e?0:i?1:2)*r.unit},Block:Vit({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":QS({except:/^\s*{/}),JSXElement(r){let t=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(t?0:r.unit)},JSXEscape(r){let t=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(t?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),jit.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":qit,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),nZ={test:r=>/^JSX/.test(r.name),facet:U6({commentTokens:{block:{open:"{/*",close:"*/}"}}})},rZ=rl.configure({dialect:"ts"},"typescript"),sZ=rl.configure({dialect:"jsx",props:[aA.add(r=>r.isTop?[nZ]:void 0)]}),lZ=rl.configure({dialect:"jsx ts",props:[aA.add(r=>r.isTop?[nZ]:void 0)]},"typescript");let oZ=r=>({label:r,type:"keyword"});const aZ="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(oZ),gnt=aZ.concat(["declare","implements","private","protected","public"].map(oZ));function hZ(r={}){let t=r.jsx?r.typescript?lZ:sZ:r.typescript?rZ:rl,e=r.typescript?fnt.concat(gnt):J6.concat(aZ);return new zit(t,[rl.data.of({autocomplete:Fit(iZ,Git(e))}),rl.data.of({autocomplete:pnt}),r.jsx?ynt:[]])}function mnt(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(r.name=="JSXEscape"||!r.parent)return null;r=r.parent}}function mD(r,t,e=r.length){for(let i=t?.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return r.sliceString(i.from,Math.min(i.to,e));return""}const Ont=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ynt=Gt.inputHandler.of((r,t,e,i,n)=>{if((Ont?r.composing:r.compositionStarted)||r.state.readOnly||t!=e||i!=">"&&i!="/"||!rl.isActiveAt(r.state,t,-1))return!1;let s=n(),{state:l}=s,o=l.changeByRange(a=>{var f;let{head:c}=a,p=hf(l).resolveInner(c-1,-1),m;if(p.name=="JSXStartTag"&&(p=p.parent),!(l.doc.sliceString(c-1,c)!=i||p.name=="JSXAttributeValue"&&p.to>c)){if(i==">"&&p.name=="JSXFragmentTag")return{range:a,changes:{from:c,insert:"</>"}};if(i=="/"&&p.name=="JSXStartCloseTag"){let O=p.parent,y=O.parent;if(y&&O.from==c-2&&((m=mD(l.doc,y.firstChild,c))||((f=y.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let S=`${m}>`;return{range:Wt.cursor(c+S.length,-1),changes:{from:c,insert:S}}}}else if(i==">"){let O=mnt(p);if(O&&O.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(c,c+2))&&(m=mD(l.doc,O,c)))return{range:a,changes:{from:c,insert:`</${m}>`}}}}return{range:a}});return o.changes.empty?!1:(r.dispatch([s,l.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),bnt=1024;let xnt=0;class MS{constructor(t,e){this.from=t,this.to=e}}class Ae{constructor(t={}){this.id=xnt++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=Br.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}}Ae.closedBy=new Ae({deserialize:r=>r.split(" ")});Ae.openedBy=new Ae({deserialize:r=>r.split(" ")});Ae.group=new Ae({deserialize:r=>r.split(" ")});Ae.isolate=new Ae({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Ae.contextHash=new Ae({perNode:!0});Ae.lookAhead=new Ae({perNode:!0});Ae.mounted=new Ae({perNode:!0});class _d{constructor(t,e,i,n=!1){this.tree=t,this.overlay=e,this.parser=i,this.bracketed=n}static get(t){return t&&t.props&&t.props[Ae.mounted.id]}}const Snt=Object.create(null);class Br{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):Snt,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new Br(t.name||"",e,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Ae.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return i=>{for(let n=i.prop(Ae.group),s=-1;s<(n?n.length:0);s++){let l=e[s<0?i.name:n[s]];if(l)return l}}}}Br.none=new Br("",Object.create(null),0,8);const s0=new WeakMap,OD=new WeakMap;var Si;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays",r[r.EnterBracketed=16]="EnterBracketed"})(Si||(Si={}));class tn{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let t=_d.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let n=i.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Y2(this.topNode,t)}cursorAt(t,e=0,i=0){let n=s0.get(this)||this.topNode,s=new Y2(n);return s.moveTo(t,e),s0.set(this,s._tree),s}get topNode(){return new Er(this,0,0,null)}resolve(t,e=0){let i=wp(s0.get(this)||this.topNode,t,e,!1);return s0.set(this,i),i}resolveInner(t,e=0){let i=wp(OD.get(this)||this.topNode,t,e,!0);return OD.set(this,i),i}resolveStack(t,e=0){return knt(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t,l=t.mode||0,o=(l&Si.IncludeAnonymous)>0;for(let a=this.cursor(l|Si.IncludeAnonymous);;){let f=!1;if(a.from<=s&&a.to>=n&&(!o&&a.type.isAnonymous||e(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:pA(Br.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,n)=>new tn(this.type,e,i,n,this.propValues),t.makeTree||((e,i,n)=>new tn(Br.none,e,i,n)))}static build(t){return $nt(t)}}tn.empty=new tn(Br.none,[],[],0);class cA{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new cA(this.buffer,this.index)}}class ka{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return Br.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let l=[];for(;t<i;)l.push(this.childString(t)),t=this.buffer[t+3];return s+"("+l.join(",")+")"}findChild(t,e,i,n,s){let{buffer:l}=this,o=-1;for(let a=t;a!=e&&!(uZ(s,n,l[a+1],l[a+2])&&(o=a,i>0));a=l[a+3]);return o}slice(t,e,i){let n=this.buffer,s=new Uint16Array(e-t),l=0;for(let o=t,a=0;o<e;){s[a++]=n[o++],s[a++]=n[o++]-i;let f=s[a++]=n[o++]-i;s[a++]=n[o++]-t,l=Math.max(l,f)}return new ka(s,l,this.set)}}function uZ(r,t,e,i){switch(r){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function wp(r,t,e,i){for(var n;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let l=!i&&r instanceof Er&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=i?0:Si.IgnoreOverlays;if(i)for(let l=r,o=l.parent;o;l=o,o=l.parent)l instanceof Er&&l.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=l.from&&(r=o);for(;;){let l=r.enter(t,e,s);if(!l)return r;r=l}}class fZ{cursor(t=0){return new Y2(this,t)}getChild(t,e=null,i=null){let n=yD(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return yD(this,t,e,i)}resolve(t,e=0){return wp(this,t,e,!1)}resolveInner(t,e=0){return wp(this,t,e,!0)}matchContext(t){return W2(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let n=e.lastChild;if(!n||n.to!=e.to)break;n.type.isError&&n.from==n.to?(i=e,e=n.prevSibling):e=n}return i}get node(){return this}get next(){return this.parent}}class Er extends fZ{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,s=0){for(let l=this;;){for(let{children:o,positions:a}=l._tree,f=e>0?o.length:-1;t!=f;t+=e){let c=o[t],p=a[t]+l.from,m;if(!(!(s&Si.EnterBracketed&&c instanceof tn&&(m=_d.get(c))&&!m.overlay&&m.bracketed&&i>=p&&i<=p+c.length)&&!uZ(n,i,p,p+c.length))){if(c instanceof ka){if(s&Si.ExcludeBuffers)continue;let O=c.findChild(0,c.buffer.length,e,i-p,n);if(O>-1)return new da(new wnt(l,c,t,p),null,O)}else if(s&Si.IncludeAnonymous||!c.type.isAnonymous||dA(c)){let O;if(!(s&Si.IgnoreMounts)&&(O=_d.get(c))&&!O.overlay)return new Er(O.tree,p,t,l);let y=new Er(c,p,t,l);return s&Si.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(e<0?c.children.length-1:0,e,i,n,s)}}}if(s&Si.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?t=l.index+e:t=e<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,i=0){let n;if(!(i&Si.IgnoreOverlays)&&(n=_d.get(this._tree))&&n.overlay){let s=t-this.from,l=i&Si.EnterBracketed&&n.bracketed;for(let{from:o,to:a}of n.overlay)if((e>0||l?o<=s:o<s)&&(e<0||l?a>=s:a>s))return new Er(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function yD(r,t,e,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(let l=!1;!l;)if(l=n.type.is(e),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function W2(r,t,e=t.length-1){for(let i=r;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}class wnt{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}}class da extends fZ{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new da(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,i=0){if(i&Si.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new da(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new da(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new da(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let l=i.buffer[this.index+1];t.push(i.slice(n,s,l)),e.push(0)}return new tn(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function cZ(r){if(!r.length)return null;let t=0,e=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>e.from||l.to<e.to)&&(e=l,t=s)}let i=e instanceof Er&&e.index<0?null:e.parent,n=r.slice();return i?n[t]=i:n.splice(t,1),new vnt(n,e)}class vnt{constructor(t,e){this.heads=t,this.node=e}get next(){return cZ(this.heads)}}function knt(r,t,e){let i=r.resolveInner(t,e),n=null;for(let s=i instanceof Er?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(n||(n=[i])).push(l.resolve(t,e)),s=l}else{let l=_d.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=t&&l.overlay[l.overlay.length-1].to>=t){let o=new Er(l.tree,l.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(wp(o,t,e,!1))}}return n?cZ(n):i}class Y2{get name(){return this.type.name}constructor(t,e=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=e&~Si.EnterBracketed,t instanceof Er)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return t?t instanceof Er?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&Si.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Si.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Si.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let s=e+t,l=t<0?-1:i._tree.children.length;s!=l;s+=t){let o=i._tree.children[s];if(this.mode&Si.IncludeAnonymous||o instanceof ka||!o.type.isAnonymous||dA(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let l=t;l;l=l._parent)if(l.index==n){if(n==this.index)return l;e=l,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new da(this.buffer,e,this.stack[n]);return this.bufferNode=new da(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return W2(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return W2(this._tree,t,n);let l=i[e.buffer[this.stack[s]]];if(!l.isAnonymous){if(t[n]&&t[n]!=l.name)return!1;n--}}return!0}}function dA(r){return r.children.some(t=>t instanceof ka||!t.type.isAnonymous||dA(t))}function $nt(r){var t;let{buffer:e,nodeSet:i,maxBufferLength:n=bnt,reused:s=[],minRepeatType:l=i.types.length}=r,o=Array.isArray(e)?new cA(e,e.length):e,a=i.types,f=0,c=0;function p(P,E,A,V,D,Z){let{id:z,start:k,end:L,size:$}=o,j=c,W=f;if($<0)if(o.next(),$==-1){let R=s[z];A.push(R),V.push(k-P);return}else if($==-3){f=z;return}else if($==-4){c=z;return}else throw new RangeError(`Unrecognized record size: ${$}`);let X=a[z],st,F,pt=k-P;if(L-k<=n&&(F=w(o.pos-E,D))){let R=new Uint16Array(F.size-F.skip),B=o.pos-F.size,H=R.length;for(;o.pos>B;)H=v(F.start,R,H);st=new ka(R,L-F.start,i),pt=F.start-P}else{let R=o.pos-$;o.next();let B=[],H=[],G=z>=l?z:-1,tt=0,mt=L;for(;o.pos>R;)G>=0&&o.id==G&&o.size>=0?(o.end<=mt-n&&(y(B,H,k,tt,o.end,mt,G,j,W),tt=B.length,mt=o.end),o.next()):Z>2500?m(k,R,B,H):p(k,R,B,H,G,Z+1);if(G>=0&&tt>0&&tt<B.length&&y(B,H,k,tt,k,mt,G,j,W),B.reverse(),H.reverse(),G>-1&&tt>0){let Rt=O(X,W);st=pA(X,B,H,0,B.length,0,L-k,Rt,Rt)}else st=S(X,B,H,L-k,j-L,W)}A.push(st),V.push(pt)}function m(P,E,A,V){let D=[],Z=0,z=-1;for(;o.pos>E;){let{id:k,start:L,end:$,size:j}=o;if(j>4)o.next();else{if(z>-1&&L<z)break;z<0&&(z=$-n),D.push(k,L,$),Z++,o.next()}}if(Z){let k=new Uint16Array(Z*4),L=D[D.length-2];for(let $=D.length-3,j=0;$>=0;$-=3)k[j++]=D[$],k[j++]=D[$+1]-L,k[j++]=D[$+2]-L,k[j++]=j;A.push(new ka(k,D[2]-L,i)),V.push(L-P)}}function O(P,E){return(A,V,D)=>{let Z=0,z=A.length-1,k,L;if(z>=0&&(k=A[z])instanceof tn){if(!z&&k.type==P&&k.length==D)return k;(L=k.prop(Ae.lookAhead))&&(Z=V[z]+k.length+L)}return S(P,A,V,D,Z,E)}}function y(P,E,A,V,D,Z,z,k,L){let $=[],j=[];for(;P.length>V;)$.push(P.pop()),j.push(E.pop()+A-D);P.push(S(i.types[z],$,j,Z-D,k-Z,L)),E.push(D-A)}function S(P,E,A,V,D,Z,z){if(Z){let k=[Ae.contextHash,Z];z=z?[k].concat(z):[k]}if(D>25){let k=[Ae.lookAhead,D];z=z?[k].concat(z):[k]}return new tn(P,E,A,V,z)}function w(P,E){let A=o.fork(),V=0,D=0,Z=0,z=A.end-n,k={size:0,start:0,skip:0};t:for(let L=A.pos-P;A.pos>L;){let $=A.size;if(A.id==E&&$>=0){k.size=V,k.start=D,k.skip=Z,Z+=4,V+=4,A.next();continue}let j=A.pos-$;if($<0||j<L||A.start<z)break;let W=A.id>=l?4:0,X=A.start;for(A.next();A.pos>j;){if(A.size<0)if(A.size==-3||A.size==-4)W+=4;else break t;else A.id>=l&&(W+=4);A.next()}D=X,V+=$,Z+=W}return(E<0||V==P)&&(k.size=V,k.start=D,k.skip=Z),k.size>4?k:void 0}function v(P,E,A){let{id:V,start:D,end:Z,size:z}=o;if(o.next(),z>=0&&V<l){let k=A;if(z>4){let L=o.pos-(z-4);for(;o.pos>L;)A=v(P,E,A)}E[--A]=k,E[--A]=Z-P,E[--A]=D-P,E[--A]=V}else z==-3?f=V:z==-4&&(c=V);return A}let T=[],M=[];for(;o.pos>0;)p(r.start||0,r.bufferStart||0,T,M,-1,0);let N=(t=r.length)!==null&&t!==void 0?t:T.length?M[0]+T[0].length:0;return new tn(a[r.topID],T.reverse(),M.reverse(),N)}const bD=new WeakMap;function hO(r,t){if(!r.isAnonymous||t instanceof ka||t.type!=r)return 1;let e=bD.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=r||!(i instanceof tn)){e=1;break}e+=hO(r,i)}bD.set(t,e)}return e}function pA(r,t,e,i,n,s,l,o,a){let f=0;for(let y=i;y<n;y++)f+=hO(r,t[y]);let c=Math.ceil(f*1.5/8),p=[],m=[];function O(y,S,w,v,T){for(let M=w;M<v;){let N=M,P=S[M],E=hO(r,y[M]);for(M++;M<v;M++){let A=hO(r,y[M]);if(E+A>=c)break;E+=A}if(M==N+1){if(E>c){let A=y[N];O(A.children,A.positions,0,A.children.length,S[N]+T);continue}p.push(y[N])}else{let A=S[M-1]+y[M-1].length-P;p.push(pA(r,y,S,N,M,P,A,null,a))}m.push(P+T-s)}}return O(t,e,i,n,0),(o||a)(p,m,l)}class hh{constructor(t,e,i,n,s=!1,l=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let n=[new hh(0,t.length,t,0,!1,i)];for(let s of e)s.to>t.length&&n.push(s);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],s=1,l=t.length?t[0]:null;for(let o=0,a=0,f=0;;o++){let c=o<e.length?e[o]:null,p=c?c.fromA:1e9;if(p-a>=i)for(;l&&l.from<p;){let m=l;if(a>=m.from||p<=m.to||f){let O=Math.max(m.from,a)-f,y=Math.min(m.to,p)-f;m=O>=y?null:new hh(O,y,m.tree,m.offset+f,o>0,!!c)}if(m&&n.push(m),l.to>p)break;l=s<t.length?t[s++]:null}if(!c)break;a=c.toA,f=c.toA-c.toB}return n}}class Ant{startParse(t,e,i){return typeof t=="string"&&(t=new Cnt(t)),i=i?i.length?i.map(n=>new MS(n.from,n.to)):[new MS(0,0)]:[new MS(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let s=n.advance();if(s)return s}}}class Cnt{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Ae({perNode:!0});let Tnt=0;class Cr{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=Tnt++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof Cr&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let n=new Cr(i,[],null,[]);if(n.set.push(n),e)for(let s of e.set)n.set.push(s);return n}static defineModifier(t){let e=new n1(t);return i=>i.modified.indexOf(e)>-1?i:n1.get(i.base||i,i.modified.concat(e).sort((n,s)=>n.id-s.id))}}let Qnt=0;class n1{constructor(t){this.name=t,this.instances=[],this.id=Qnt++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(o=>o.base==t&&Pnt(e,o.modified));if(i)return i;let n=[],s=new Cr(t.name,n,t,e);for(let o of e)o.instances.push(s);let l=Mnt(e);for(let o of t.set)if(!o.modified.length)for(let a of l)n.push(n1.get(o,a));return s}}function Pnt(r,t){return r.length==t.length&&r.every((e,i)=>e==t[i])}function Mnt(r){let t=[[]];for(let e=0;e<r.length;e++)for(let i=0,n=t.length;i<n;i++)t.push(t[i].concat(r[e]));return t.sort((e,i)=>i.length-e.length)}function Rnt(r){let t=Object.create(null);for(let e in r){let i=r[e];Array.isArray(i)||(i=[i]);for(let n of e.split(" "))if(n){let s=[],l=2,o=n;for(let p=0;;){if(o=="..."&&p>0&&p+3==n.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==n.length)break;let O=n[p++];if(p==n.length&&O=="!"){l=0;break}if(O!="/")throw new RangeError("Invalid path: "+n);o=n.slice(p)}let a=s.length-1,f=s[a];if(!f)throw new RangeError("Invalid path: "+n);let c=new r1(i,l,a>0?s.slice(0,a):null);t[f]=c.sort(t[f])}}return Ent.add(t)}const Ent=new Ae({combine(r,t){let e,i,n;for(;r||t;){if(!r||t&&r.depth>=t.depth?(n=t,t=t.next):(n=r,r=r.next),e&&e.mode==n.mode&&!n.context&&!e.context)continue;let s=new r1(n.tags,n.mode,n.context);e?e.next=s:i=s,e=s}return i}});class r1{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}r1.empty=new r1([],2,null);function Dnt(r,t){let e=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let l of s.tag)e[l.id]=s.class;let{scope:i,all:n=null}={};return{style:s=>{let l=n;for(let o of s)for(let a of o.set){let f=e[a.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}const Tt=Cr.define,l0=Tt(),ta=Tt(),xD=Tt(ta),SD=Tt(ta),ea=Tt(),o0=Tt(ea),RS=Tt(ea),Zs=Tt(),Ka=Tt(Zs),Ts=Tt(),Qs=Tt(),H2=Tt(),Rc=Tt(H2),a0=Tt(),ie={comment:l0,lineComment:Tt(l0),blockComment:Tt(l0),docComment:Tt(l0),name:ta,variableName:Tt(ta),typeName:xD,tagName:Tt(xD),propertyName:SD,attributeName:Tt(SD),className:Tt(ta),labelName:Tt(ta),namespace:Tt(ta),macroName:Tt(ta),literal:ea,string:o0,docString:Tt(o0),character:Tt(o0),attributeValue:Tt(o0),number:RS,integer:Tt(RS),float:Tt(RS),bool:Tt(ea),regexp:Tt(ea),escape:Tt(ea),color:Tt(ea),url:Tt(ea),keyword:Ts,self:Tt(Ts),null:Tt(Ts),atom:Tt(Ts),unit:Tt(Ts),modifier:Tt(Ts),operatorKeyword:Tt(Ts),controlKeyword:Tt(Ts),definitionKeyword:Tt(Ts),moduleKeyword:Tt(Ts),operator:Qs,derefOperator:Tt(Qs),arithmeticOperator:Tt(Qs),logicOperator:Tt(Qs),bitwiseOperator:Tt(Qs),compareOperator:Tt(Qs),updateOperator:Tt(Qs),definitionOperator:Tt(Qs),typeOperator:Tt(Qs),controlOperator:Tt(Qs),punctuation:H2,separator:Tt(H2),bracket:Rc,angleBracket:Tt(Rc),squareBracket:Tt(Rc),paren:Tt(Rc),brace:Tt(Rc),content:Zs,heading:Ka,heading1:Tt(Ka),heading2:Tt(Ka),heading3:Tt(Ka),heading4:Tt(Ka),heading5:Tt(Ka),heading6:Tt(Ka),contentSeparator:Tt(Zs),list:Tt(Zs),quote:Tt(Zs),emphasis:Tt(Zs),strong:Tt(Zs),link:Tt(Zs),monospace:Tt(Zs),strikethrough:Tt(Zs),inserted:Tt(),deleted:Tt(),changed:Tt(),invalid:Tt(),meta:a0,documentMeta:Tt(a0),annotation:Tt(a0),processingInstruction:Tt(a0),definition:Cr.defineModifier("definition"),constant:Cr.defineModifier("constant"),function:Cr.defineModifier("function"),standard:Cr.defineModifier("standard"),local:Cr.defineModifier("local"),special:Cr.defineModifier("special")};for(let r in ie){let t=ie[r];t instanceof Cr&&(t.name=r)}Dnt([{tag:ie.link,class:"tok-link"},{tag:ie.heading,class:"tok-heading"},{tag:ie.emphasis,class:"tok-emphasis"},{tag:ie.strong,class:"tok-strong"},{tag:ie.keyword,class:"tok-keyword"},{tag:ie.atom,class:"tok-atom"},{tag:ie.bool,class:"tok-bool"},{tag:ie.url,class:"tok-url"},{tag:ie.labelName,class:"tok-labelName"},{tag:ie.inserted,class:"tok-inserted"},{tag:ie.deleted,class:"tok-deleted"},{tag:ie.literal,class:"tok-literal"},{tag:ie.string,class:"tok-string"},{tag:ie.number,class:"tok-number"},{tag:[ie.regexp,ie.escape,ie.special(ie.string)],class:"tok-string2"},{tag:ie.variableName,class:"tok-variableName"},{tag:ie.local(ie.variableName),class:"tok-variableName tok-local"},{tag:ie.definition(ie.variableName),class:"tok-variableName tok-definition"},{tag:ie.special(ie.variableName),class:"tok-variableName2"},{tag:ie.definition(ie.propertyName),class:"tok-propertyName tok-definition"},{tag:ie.typeName,class:"tok-typeName"},{tag:ie.namespace,class:"tok-namespace"},{tag:ie.className,class:"tok-className"},{tag:ie.macroName,class:"tok-macroName"},{tag:ie.propertyName,class:"tok-propertyName"},{tag:ie.operator,class:"tok-operator"},{tag:ie.comment,class:"tok-comment"},{tag:ie.meta,class:"tok-meta"},{tag:ie.invalid,class:"tok-invalid"},{tag:ie.punctuation,class:"tok-punctuation"}]);var ES;const cd=new Ae;function Bnt(r){return Zt.define({combine:r?t=>t.concat(r):void 0})}const _nt=new Ae;class tl{constructor(t,e,i=[],n=""){this.data=t,this.name=n,Ee.prototype.hasOwnProperty("tree")||Object.defineProperty(Ee.prototype,"tree",{get(){return vp(this)}}),this.parser=e,this.extension=[cf.of(this),Ee.languageData.of((s,l,o)=>{let a=wD(s,l,o),f=a.type.prop(cd);if(!f)return[];let c=s.facet(f),p=a.type.prop(_nt);if(p){let m=a.resolve(l-a.from,o);for(let O of p)if(O.test(m,s)){let y=s.facet(O.facet);return O.type=="replace"?y:y.concat(c)}}return c})].concat(i)}isActiveAt(t,e,i=-1){return wD(t,e,i).type.prop(cd)==this.data}findRegions(t){let e=t.facet(cf);if(e?.data==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],n=(s,l)=>{if(s.prop(cd)==this.data){i.push({from:l,to:l+s.length});return}let o=s.prop(Ae.mounted);if(o){if(o.tree.prop(cd)==this.data){if(o.overlay)for(let a of o.overlay)i.push({from:a.from+l,to:a.to+l});else i.push({from:l,to:l+s.length});return}else if(o.overlay){let a=i.length;if(n(o.tree,o.overlay[0].from+l),i.length>a)return}}for(let a=0;a<s.children.length;a++){let f=s.children[a];f instanceof tn&&n(f,s.positions[a]+l)}};return n(vp(t),0),i}get allowsNesting(){return!0}}tl.setState=oi.define();function wD(r,t,e){let i=r.facet(cf),n=vp(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(t,e,Si.ExcludeBuffers|Si.EnterBracketed))s.type.isTop&&(n=s);return n}class s1 extends tl{constructor(t,e,i){super(t,e,[],i),this.parser=e}static define(t){let e=Bnt(t.languageData);return new s1(e,t.parser.configure({props:[cd.add(i=>i.isTop?e:void 0)]}),t.name)}configure(t,e){return new s1(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function vp(r){let t=r.field(tl.state,!1);return t?t.tree:tn.empty}class znt{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let Ec=null;class l1{constructor(t,e,i=[],n,s,l,o,a){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=l,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new l1(t,e,[],tn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new znt(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=tn.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let n=Date.now()+t;t=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(hh.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(hh.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Ec;Ec=this;try{return t()}finally{Ec=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=vD(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:n,treeLen:s,viewport:l,skipped:o}=this;if(this.takeTree(),!t.empty){let a=[];if(t.iterChangedRanges((f,c,p,m)=>a.push({fromA:f,toA:c,fromB:p,toB:m})),i=hh.applyChanges(i,a),n=tn.empty,s=0,l={from:t.mapPos(l.from,-1),to:t.mapPos(l.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let c=t.mapPos(f.from,1),p=t.mapPos(f.to,-1);c<p&&o.push({from:c,to:p})}}}return new l1(this.parser,e,i,n,s,l,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<t.to&&s>t.from&&(this.fragments=vD(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends Ant{createParse(e,i,n){let s=n[0].from,l=n[n.length-1].to;return{parsedPos:s,advance(){let a=Ec;if(a){for(let f of n)a.tempSkipped.push(f);t&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,t]):t)}return this.parsedPos=l,new tn(Br.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Ec}}function vD(r,t,e){return hh.applyChanges(r,[{fromA:t,toA:e,fromB:t,toB:e}])}class ff{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new ff(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=l1.create(t.facet(cf).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new ff(i)}}tl.state=ao.define({create:ff.init,update(r,t){for(let e of t.effects)if(e.is(tl.setState))return e.value;return t.startState.facet(cf)!=t.state.facet(cf)?ff.init(t.state):r.apply(t)}});let dZ=r=>{let t=setTimeout(()=>r(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(dZ=r=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(r,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const DS=typeof navigator<"u"&&(!((ES=navigator.scheduling)===null||ES===void 0)&&ES.isInputPending)?()=>navigator.scheduling.isInputPending():null,Nnt=so.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(tl.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(tl.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=dZ(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(tl.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,t&&!DS?Math.max(25,t.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,a=s.context.work(()=>DS&&DS()||Date.now()>l,n+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:tl.setState.of(new ff(s.context))})),this.chunkBudget>0&&!(a&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>hr(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),cf=Zt.define({combine(r){return r.length?r[0]:null},enables:r=>[tl.state,Nnt,Gt.contentAttributes.compute([r],t=>{let e=t.facet(r);return e&&e.name?{"data-language":e.name}:{}})]});class Lnt{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const Znt=new Ae,Vnt=new Ae,Xnt=new Ae,Int=Object.create(null),kD=[Br.none],$D=[],AD=Object.create(null),jnt=Object.create(null);for(let[r,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])jnt[r]=qnt(Int,t);function BS(r,t){$D.indexOf(r)>-1||($D.push(r),console.warn(t))}function qnt(r,t){let e=[];for(let o of t.split(" ")){let a=[];for(let f of o.split(".")){let c=r[f]||ie[f];c?typeof c=="function"?a.length?a=a.map(c):BS(f,`Modifier ${f} used at start of tag`):a.length?BS(f,`Tag ${f} used as modifier`):a=Array.isArray(c)?c:[c]:BS(f,`Unknown highlighting tag ${f}`)}for(let f of a)e.push(f)}if(!e.length)return 0;let i=t.replace(/ /g,"_"),n=i+" "+e.map(o=>o.id),s=AD[n];if(s)return s.id;let l=AD[n]=Br.define({id:kD.length,name:i,props:[Rnt({[i]:e})]});return kD.push(l),l.id}Ze.RTL,Ze.LTR;const Dc=["_blank","_self","_top","_parent"],_S=["ascii","utf-8","utf-16","latin1","latin1"],zS=["get","post","put","delete"],NS=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],er=["true","false"],Nt={},Wnt={a:{attrs:{href:null,ping:null,type:null,media:null,target:Dc,hreflang:null}},abbr:Nt,address:Nt,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Nt,aside:Nt,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Nt,base:{attrs:{href:null,target:Dc}},bdi:Nt,bdo:Nt,blockquote:{attrs:{cite:null}},body:Nt,br:Nt,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:NS,formmethod:zS,formnovalidate:["novalidate"],formtarget:Dc,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Nt,center:Nt,cite:Nt,code:Nt,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Nt,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Nt,div:Nt,dl:Nt,dt:Nt,em:Nt,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Nt,figure:Nt,footer:Nt,form:{attrs:{action:null,name:null,"accept-charset":_S,autocomplete:["on","off"],enctype:NS,method:zS,novalidate:["novalidate"],target:Dc}},h1:Nt,h2:Nt,h3:Nt,h4:Nt,h5:Nt,h6:Nt,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Nt,hgroup:Nt,hr:Nt,html:{attrs:{manifest:null}},i:Nt,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:NS,formmethod:zS,formnovalidate:["novalidate"],formtarget:Dc,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Nt,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Nt,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Nt,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:_S,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Nt,noscript:Nt,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Nt,param:{attrs:{name:null,value:null}},pre:Nt,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Nt,rt:Nt,ruby:Nt,samp:Nt,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:_S}},section:Nt,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Nt,source:{attrs:{src:null,type:null,media:null}},span:Nt,strong:Nt,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Nt,summary:Nt,sup:Nt,table:Nt,tbody:Nt,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Nt,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Nt,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Nt,time:{attrs:{datetime:null}},title:Nt,tr:Nt,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Nt,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Nt},pZ={accesskey:null,class:null,contenteditable:er,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:er,autocorrect:er,autocapitalize:er,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":er,"aria-autocomplete":["inline","list","both","none"],"aria-busy":er,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":er,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":er,"aria-hidden":er,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":er,"aria-multiselectable":er,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":er,"aria-relevant":null,"aria-required":er,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},gZ="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(r=>"on"+r);for(let r of gZ)pZ[r]=null;class o1{constructor(t,e){this.tags={...Wnt,...t},this.globalAttrs={...pZ,...e},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}o1.default=new o1;function df(r,t,e=r.length){if(!t)return"";let i=t.firstChild,n=i&&i.getChild("TagName");return n?r.sliceString(n.from,Math.min(n.to,e)):""}function pf(r,t=!1){for(;r;r=r.parent)if(r.name=="Element")if(t)t=!1;else return r;return null}function mZ(r,t,e){let i=e.tags[df(r,pf(t))];return i?.children||e.allTags}function gA(r,t){let e=[];for(let i=pf(t);i&&!i.type.isTop;i=pf(i.parent)){let n=df(r,i);if(n&&i.lastChild.name=="CloseTag")break;n&&e.indexOf(n)<0&&(t.name=="EndTag"||t.from>=i.firstChild.to)&&e.push(n)}return e}const OZ=/^[:\-\.\w\u00b7-\uffff]*$/;function CD(r,t,e,i,n){let s=/\s*>/.test(r.sliceDoc(n,n+5))?"":">",l=pf(e,e.name=="StartTag"||e.name=="TagName");return{from:i,to:n,options:mZ(r.doc,l,t).map(o=>({label:o,type:"type"})).concat(gA(r.doc,e).map((o,a)=>({label:"/"+o,apply:"/"+o+s,type:"type",boost:99-a}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function TD(r,t,e,i){let n=/\s*>/.test(r.sliceDoc(i,i+5))?"":">";return{from:e,to:i,options:gA(r.doc,t).map((s,l)=>({label:s,apply:s+n,type:"type",boost:99-l})),validFor:OZ}}function Ynt(r,t,e,i){let n=[],s=0;for(let l of mZ(r.doc,e,t))n.push({label:"<"+l,type:"type"});for(let l of gA(r.doc,e))n.push({label:"</"+l+">",type:"type",boost:99-s++});return{from:i,to:i,options:n,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Hnt(r,t,e,i,n){let s=pf(e),l=s?t.tags[df(r.doc,s)]:null,o=l&&l.attrs?Object.keys(l.attrs):[],a=l&&l.globalAttrs===!1?o:o.length?o.concat(t.globalAttrNames):t.globalAttrNames;return{from:i,to:n,options:a.map(f=>({label:f,type:"property"})),validFor:OZ}}function Unt(r,t,e,i,n){var s;let l=(s=e.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),o=[],a;if(l){let f=r.sliceDoc(l.from,l.to),c=t.globalAttrs[f];if(!c){let p=pf(e),m=p?t.tags[df(r.doc,p)]:null;c=m?.attrs&&m.attrs[f]}if(c){let p=r.sliceDoc(i,n).toLowerCase(),m='"',O='"';/^['"]/.test(p)?(a=p[0]=='"'?/^[^"]*$/:/^[^']*$/,m="",O=r.sliceDoc(n,n+1)==p[0]?"":p[0],p=p.slice(1),i++):a=/^[^\s<>='"]*$/;for(let y of c)o.push({label:y,apply:m+y+O,type:"constant"})}}return{from:i,to:n,options:o,validFor:a}}function Gnt(r,t){let{state:e,pos:i}=t,n=vp(e).resolveInner(i,-1),s=n.resolve(i);for(let l=i,o;s==n&&(o=n.childBefore(l));){let a=o.lastChild;if(!a||!a.type.isError||a.from<a.to)break;s=n=o,l=a.from}return n.name=="TagName"?n.parent&&/CloseTag$/.test(n.parent.name)?TD(e,n,n.from,i):CD(e,r,n,n.from,i):n.name=="StartTag"||n.name=="IncompleteTag"?CD(e,r,n,i,i):n.name=="StartCloseTag"||n.name=="IncompleteCloseTag"?TD(e,n,i,i):n.name=="OpenTag"||n.name=="SelfClosingTag"||n.name=="AttributeName"?Hnt(e,r,n,n.name=="AttributeName"?n.from:i,i):n.name=="Is"||n.name=="AttributeValue"||n.name=="UnquotedAttributeValue"?Unt(e,r,n,n.name=="Is"?i:n.from,i):t.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?Ynt(e,r,n,i):null}function Fnt(r){let{extraTags:t,extraGlobalAttributes:e}=r,i=e||t?new o1(t,e):o1.default;return n=>Gnt(i,n)}const Knt=rl.parser.configure({top:"SingleExpression"}),yZ=[{tag:"script",attrs:r=>r.type=="text/typescript"||r.lang=="ts",parser:rZ.parser},{tag:"script",attrs:r=>r.type=="text/babel"||r.type=="text/jsx",parser:sZ.parser},{tag:"script",attrs:r=>r.type=="text/typescript-jsx",parser:lZ.parser},{tag:"script",attrs(r){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(r.type)},parser:Knt},{tag:"script",attrs(r){return!r.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(r.type)},parser:rl.parser},{tag:"style",attrs(r){return(!r.lang||r.lang=="css")&&(!r.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(r.type))},parser:FO.parser}],bZ=[{name:"style",parser:FO.parser.configure({top:"Styles"})}].concat(gZ.map(r=>({name:r,parser:rl.parser}))),xZ=s1.define({name:"html",parser:vJ.configure({props:[Znt.add({Element(r){let t=/^(\s*)(<\/)?/.exec(r.textAfter);return r.node.to<=r.pos+t[0].length?r.continue():r.lineIndent(r.node.from)+(t[2]?0:r.unit)},"OpenTag CloseTag SelfClosingTag"(r){return r.column(r.node.from)+r.unit},Document(r){if(r.pos+/\s*/.exec(r.textAfter)[0].length<r.node.to)return r.continue();let t=null,e;for(let i=r.node;;){let n=i.lastChild;if(!n||n.name!="Element"||n.to!=i.to)break;t=i=n}return t&&!((e=t.lastChild)&&(e.name=="CloseTag"||e.name=="SelfClosingTag"))?r.lineIndent(t.from)+r.unit:null}}),Vnt.add({Element(r){let t=r.firstChild,e=r.lastChild;return!t||t.name!="OpenTag"?null:{from:t.to,to:e.name=="CloseTag"?e.from:r.to}}}),Xnt.add({"OpenTag CloseTag":r=>r.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),uO=xZ.configure({wrap:l6(yZ,bZ)});function Jnt(r={}){let t="",e;r.matchClosingTags===!1&&(t="noMatch"),r.selfClosingTags===!0&&(t=(t?t+" ":"")+"selfClosing"),(r.nestedLanguages&&r.nestedLanguages.length||r.nestedAttributes&&r.nestedAttributes.length)&&(e=l6((r.nestedLanguages||[]).concat(yZ),(r.nestedAttributes||[]).concat(bZ)));let i=e?xZ.configure({wrap:e,dialect:t}):t?uO.configure({dialect:t}):uO;return new Lnt(i,[uO.data.of({autocomplete:Fnt(r)}),r.autoCloseTags!==!1?trt:[],hZ().support,M6().support])}const QD=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),trt=Gt.inputHandler.of((r,t,e,i,n)=>{if(r.composing||r.state.readOnly||t!=e||i!=">"&&i!="/"||!uO.isActiveAt(r.state,t,-1))return!1;let s=n(),{state:l}=s,o=l.changeByRange(a=>{var f,c,p;let m=l.doc.sliceString(a.from-1,a.to)==i,{head:O}=a,y=vp(l).resolveInner(O,-1),S;if(m&&i==">"&&y.name=="EndTag"){let w=y.parent;if(((c=(f=w.parent)===null||f===void 0?void 0:f.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(S=df(l.doc,w.parent,O))&&!QD.has(S)){let v=O+(l.doc.sliceString(O,O+1)===">"?1:0),T=`</${S}>`;return{range:a,changes:{from:O,to:v,insert:T}}}}else if(m&&i=="/"&&y.name=="IncompleteCloseTag"){let w=y.parent;if(y.from==O-2&&((p=w.lastChild)===null||p===void 0?void 0:p.name)!="CloseTag"&&(S=df(l.doc,w,O))&&!QD.has(S)){let v=O+(l.doc.sliceString(O,O+1)===">"?1:0),T=`${S}>`;return{range:Wt.cursor(O+T.length,-1),changes:{from:O,to:v,insert:T}}}}return{range:a}});return o.changes.empty?!1:(r.dispatch([s,l.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),ert=r=>{switch(r){case"html":return Jnt({autoCloseTags:!0});case"css":return M6();case"js":return hZ();default:return[]}},irt=Gt.theme({"&":{backgroundColor:"#f8fafc",color:"#1e293b"},".cm-gutters":{backgroundColor:"#f1f5f9",color:"#94a3b8",borderRight:"1px solid #e2e8f0"},".cm-activeLineGutter":{backgroundColor:"#e2e8f0"},".cm-activeLine":{backgroundColor:"#f1f5f9"},".cm-cursor":{borderLeftColor:"#1e293b"}});function nrt({value:r,onChange:t,language:e,editorThemeName:i}){const n=ei.useRef(null),s=ei.useRef(null),l=ei.useRef(t);ei.useEffect(()=>{l.current=t},[t]),ei.useEffect(()=>{if(!n.current)return;s.current&&s.current.destroy();const a=i==="oneDark"?iK:irt,f=Ee.create({doc:r,extensions:[EI(),wI(),_I(),tH(),NY(),nF(),CY(),pF(),TY(MY,{fallback:!0}),ert(e),a,u$.of([...jH,...hH,...oF,...ML,qH]),Gt.updateListener.of(p=>{p.docChanged&&l.current(p.state.doc.toString())}),Gt.theme({"&":{height:"100%"},".cm-scroller":{overflow:"auto"}})]}),c=new Gt({state:f,parent:n.current});return s.current=c,()=>{c.destroy()}},[e,i]);const o=ei.useRef(r);return ei.useEffect(()=>{const a=s.current;if(!a)return;const f=a.state.doc.toString();r!==f&&r!==o.current&&a.dispatch({changes:{from:0,to:f.length,insert:r}}),o.current=r},[r]),Qt.jsx("div",{ref:n,className:"h-full w-full overflow-hidden"})}const PD={html:{label:"HTML",color:"text-orange-400"},css:{label:"CSS",color:"text-blue-400"},js:{label:"JS",color:"text-yellow-400"}};function rrt(){const r=ne(S=>S.activeTab),t=ne(S=>S.setActiveTab),e=ne(S=>S.editorTheme),i=ne(S=>S.theme),n=ne(S=>S.html),s=ne(S=>S.css),l=ne(S=>S.js),o=ne(S=>S.setHtml),a=ne(S=>S.setCss),f=ne(S=>S.setJs),c={html:n,css:s,js:l},p={html:o,css:a,js:f},m=i==="dark"?"bg-[#1e1e2e]":"bg-white",O=i==="dark"?"bg-[#181825]":"bg-gray-100",y=i==="dark"?"text-gray-400":"text-gray-500";return Qt.jsxs("div",{className:`flex flex-col h-full ${m}`,children:[Qt.jsx("div",{className:`flex items-center gap-0 ${O} border-b border-gray-700/30`,children:Object.entries(PD).map(([S,{label:w,color:v}])=>Qt.jsx("button",{onClick:()=>t(S),className:`
              px-4 py-2 text-sm font-medium transition-colors cursor-pointer
              ${r===S?`tab-active ${v}`:`${y} hover:text-gray-200`}
            `,children:w},S))}),Qt.jsx("div",{className:"flex-1 overflow-hidden",children:Object.keys(PD).map(S=>Qt.jsx("div",{className:`h-full ${r===S?"block":"hidden"}`,children:Qt.jsx(nrt,{value:c[S],onChange:p[S],language:S,editorThemeName:e})},S))})]})}function LS(r,t=400){const[e,i]=ei.useState(r);return ei.useEffect(()=>{const n=setTimeout(()=>i(r),t);return()=>clearTimeout(n)},[r,t]),e}const srt=(r,t,e)=>`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>${t}</style>
</head>
<body>
  ${r}
  <script>
    // Capture console.log / error and relay to parent
    (function(){
      const _log = console.log;
      const _err = console.error;
      console.log = function(...args){
        _log.apply(console, args);
        window.parent.postMessage({ type:'console', level:'log', args: args.map(String) }, '*');
      };
      console.error = function(...args){
        _err.apply(console, args);
        window.parent.postMessage({ type:'console', level:'error', args: args.map(String) }, '*');
      };
      window.onerror = function(msg, src, line, col, err){
        window.parent.postMessage({ type:'console', level:'error', args: [msg + ' (line ' + line + ')'] }, '*');
      };
    })();
  <\/script>
  <script>${e}<\/script>
</body>
</html>`;function lrt(){const r=ne(f=>f.html),t=ne(f=>f.css),e=ne(f=>f.js),i=ne(f=>f.theme),n=LS(r,400),s=LS(t,400),l=LS(e,400),o=srt(n,s,l),a=i==="dark"?"bg-[#0f0f1a]":"bg-white";return Qt.jsxs("div",{className:`flex flex-col h-full ${a}`,children:[Qt.jsxs("div",{className:`flex items-center px-4 py-2 text-xs font-semibold tracking-wider uppercase
          ${i==="dark"?"bg-[#181825] text-gray-400 border-b border-gray-700/30":"bg-gray-100 text-gray-500 border-b border-gray-200"}`,children:[Qt.jsxs("svg",{className:"w-4 h-4 mr-2 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Qt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),Qt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Live Preview"]}),Qt.jsx("iframe",{title:"preview",srcDoc:o,sandbox:"allow-scripts allow-modals",className:`flex-1 w-full border-0 ${a}`})]})}function ort({direction:r="horizontal",left:t,right:e,initialSplit:i=50,minPercent:n=20}){const s=ei.useRef(null),[l,o]=ei.useState(i),[a,f]=ei.useState(!1),c=r==="horizontal",p=ei.useCallback(m=>{m.preventDefault(),f(!0)},[]);return ei.useEffect(()=>{if(!a)return;const m=y=>{if(!s.current)return;const S=s.current.getBoundingClientRect();let w;c?w=(y.clientX-S.left)/S.width*100:w=(y.clientY-S.top)/S.height*100,w=Math.max(n,Math.min(100-n,w)),o(w)},O=()=>f(!1);return window.addEventListener("mousemove",m),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",O)}},[a,c,n]),ei.useEffect(()=>{if(!a)return;const m=y=>{if(!s.current)return;const S=y.touches[0],w=s.current.getBoundingClientRect();let v;c?v=(S.clientX-w.left)/w.width*100:v=(S.clientY-w.top)/w.height*100,v=Math.max(n,Math.min(100-n,v)),o(v)},O=()=>f(!1);return window.addEventListener("touchmove",m),window.addEventListener("touchend",O),()=>{window.removeEventListener("touchmove",m),window.removeEventListener("touchend",O)}},[a,c,n]),Qt.jsxs("div",{ref:s,className:`flex ${c?"flex-row":"flex-col"} h-full w-full overflow-hidden`,style:{userSelect:a?"none":"auto"},children:[Qt.jsx("div",{style:c?{width:`${l}%`}:{height:`${l}%`},className:"overflow-hidden",children:t}),Qt.jsx("div",{onMouseDown:p,onTouchStart:p,className:`resizer ${c?"resizer-h":"resizer-v"} ${a?"active":""}`}),Qt.jsx("div",{style:c?{width:`${100-l}%`}:{height:`${100-l}%`},className:"overflow-hidden",children:e})]})}function art(){const t=ne(e=>e.theme)==="dark"?"bg-[#11111b] border-t border-gray-700/40 text-gray-500":"bg-white border-t border-gray-200 text-gray-400";return Qt.jsxs("footer",{className:`${t} px-4 py-1.5 flex items-center justify-between text-[11px]`,children:[Qt.jsxs("span",{children:[Qt.jsx("kbd",{className:"px-1 py-0.5 rounded bg-gray-700/40 text-gray-400 text-[10px] mr-1",children:"Ctrl+Enter"}),"Run |",Qt.jsx("kbd",{className:"px-1 py-0.5 rounded bg-gray-700/40 text-gray-400 text-[10px] mr-1",children:"Ctrl+S"}),"Save |",Qt.jsx("kbd",{className:"px-1 py-0.5 rounded bg-gray-700/40 text-gray-400 text-[10px] mr-1",children:"1"}),Qt.jsx("kbd",{className:"px-1 py-0.5 rounded bg-gray-700/40 text-gray-400 text-[10px] mr-1",children:"2"}),Qt.jsx("kbd",{className:"px-1 py-0.5 rounded bg-gray-700/40 text-gray-400 text-[10px]",children:"3"}),"Switch tabs (with Ctrl)"]}),Qt.jsxs("span",{children:["Code Playground  ",new Date().getFullYear()]})]})}function hrt(r=768){const[t,e]=ei.useState(window.innerWidth<r);return ei.useEffect(()=>{const i=()=>e(window.innerWidth<r);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[r]),t}function urt(){const r=ne(i=>i.setHtml),t=ne(i=>i.setCss),e=ne(i=>i.setJs);ei.useEffect(()=>{try{const i=window.location.hash;if(i.startsWith("#code=")){const n=i.slice(6),s=decodeURIComponent(escape(atob(n))),{html:l,css:o,js:a}=JSON.parse(s);l!=null&&r(l),o!=null&&t(o),a!=null&&e(a)}}catch{}},[r,t,e])}function frt(){const r=ne(s=>s.theme),t=ne(s=>s.setActiveTab),e=ne(s=>s.saveSnippet),i=hrt();urt(),ei.useEffect(()=>{const s=l=>{if(l.ctrlKey&&l.key==="Enter"){l.preventDefault();const o=ne.getState().html;ne.getState().setHtml(o+" "),requestAnimationFrame(()=>ne.getState().setHtml(o))}l.ctrlKey&&l.key==="s"&&(l.preventDefault(),e()),l.ctrlKey&&l.key==="1"&&(l.preventDefault(),t("html")),l.ctrlKey&&l.key==="2"&&(l.preventDefault(),t("css")),l.ctrlKey&&l.key==="3"&&(l.preventDefault(),t("js"))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]);const n=r==="dark"?"bg-[#11111b] text-gray-200":"bg-gray-50 text-gray-800";return Qt.jsxs("div",{className:`flex flex-col h-screen overflow-hidden ${n}`,children:[Qt.jsx(i7,{}),Qt.jsx("main",{className:"flex-1 overflow-hidden",children:Qt.jsx(ort,{direction:i?"vertical":"horizontal",initialSplit:50,minPercent:20,left:Qt.jsx(rrt,{}),right:Qt.jsx(lrt,{})})}),Qt.jsx(art,{})]})}jX.createRoot(document.getElementById("root")).render(Qt.jsx(Bc.StrictMode,{children:Qt.jsx(frt,{})}));
